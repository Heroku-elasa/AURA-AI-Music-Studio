var Gy=Object.defineProperty;var qy=(i,t,s)=>t in i?Gy(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s;var Be=(i,t,s)=>qy(i,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function s(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(r){if(r.ep)return;r.ep=!0;const u=s(r);fetch(r.href,u)}})();function Ip(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var pu={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function By(){if(Qm)return ml;Qm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(o,r,u){var h=null;if(u!==void 0&&(h=""+u),r.key!==void 0&&(h=""+r.key),"key"in r){u={};for(var y in r)y!=="key"&&(u[y]=r[y])}else u=r;return r=u.ref,{$$typeof:i,type:o,key:h,ref:r!==void 0?r:null,props:u}}return ml.Fragment=t,ml.jsx=s,ml.jsxs=s,ml}var $m;function Hy(){return $m||($m=1,pu.exports=By()),pu.exports}var m=Hy(),gu={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function Vy(){if(Xm)return ge;Xm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),b=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function Y(N,H,F){this.props=N,this.context=H,this.refs=k,this.updater=F||w}Y.prototype.isReactComponent={},Y.prototype.setState=function(N,H){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,H,"setState")},Y.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function J(){}J.prototype=Y.prototype;function L(N,H,F){this.props=N,this.context=H,this.refs=k,this.updater=F||w}var O=L.prototype=new J;O.constructor=L,R(O,Y.prototype),O.isPureReactComponent=!0;var W=Array.isArray;function ee(){}var $={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function te(N,H,F){var Q=F.ref;return{$$typeof:i,type:N,key:H,ref:Q!==void 0?Q:null,props:F}}function Z(N,H){return te(N.type,H,N.props)}function ce(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function se(N){var H={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(F){return H[F]})}var ie=/\/+/g;function me(N,H){return typeof N=="object"&&N!==null&&N.key!=null?se(""+N.key):H.toString(36)}function X(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ee,ee):(N.status="pending",N.then(function(H){N.status==="pending"&&(N.status="fulfilled",N.value=H)},function(H){N.status==="pending"&&(N.status="rejected",N.reason=H)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function M(N,H,F,Q,ue){var pe=typeof N;(pe==="undefined"||pe==="boolean")&&(N=null);var be=!1;if(N===null)be=!0;else switch(pe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(N.$$typeof){case i:case t:be=!0;break;case v:return be=N._init,M(be(N._payload),H,F,Q,ue)}}if(be)return ue=ue(N),be=Q===""?"."+me(N,0):Q,W(ue)?(F="",be!=null&&(F=be.replace(ie,"$&/")+"/"),M(ue,H,F,"",function(Ct){return Ct})):ue!=null&&(ce(ue)&&(ue=Z(ue,F+(ue.key==null||N&&N.key===ue.key?"":(""+ue.key).replace(ie,"$&/")+"/")+be)),H.push(ue)),1;be=0;var Fe=Q===""?".":Q+":";if(W(N))for(var Ge=0;Ge<N.length;Ge++)Q=N[Ge],pe=Fe+me(Q,Ge),be+=M(Q,H,F,pe,ue);else if(Ge=C(N),typeof Ge=="function")for(N=Ge.call(N),Ge=0;!(Q=N.next()).done;)Q=Q.value,pe=Fe+me(Q,Ge++),be+=M(Q,H,F,pe,ue);else if(pe==="object"){if(typeof N.then=="function")return M(X(N),H,F,Q,ue);throw H=String(N),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return be}function z(N,H,F){if(N==null)return N;var Q=[],ue=0;return M(N,Q,"","",function(pe){return H.call(F,pe,ue++)}),Q}function K(N){if(N._status===-1){var H=N._result;H=H(),H.then(function(F){(N._status===0||N._status===-1)&&(N._status=1,N._result=F)},function(F){(N._status===0||N._status===-1)&&(N._status=2,N._result=F)}),N._status===-1&&(N._status=0,N._result=H)}if(N._status===1)return N._result.default;throw N._result}var ne=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},he={map:z,forEach:function(N,H,F){z(N,function(){H.apply(this,arguments)},F)},count:function(N){var H=0;return z(N,function(){H++}),H},toArray:function(N){return z(N,function(H){return H})||[]},only:function(N){if(!ce(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ge.Activity=S,ge.Children=he,ge.Component=Y,ge.Fragment=s,ge.Profiler=r,ge.PureComponent=L,ge.StrictMode=o,ge.Suspense=x,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ge.__COMPILER_RUNTIME={__proto__:null,c:function(N){return $.H.useMemoCache(N)}},ge.cache=function(N){return function(){return N.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(N,H,F){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Q=R({},N.props),ue=N.key;if(H!=null)for(pe in H.key!==void 0&&(ue=""+H.key),H)!re.call(H,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&H.ref===void 0||(Q[pe]=H[pe]);var pe=arguments.length-2;if(pe===1)Q.children=F;else if(1<pe){for(var be=Array(pe),Fe=0;Fe<pe;Fe++)be[Fe]=arguments[Fe+2];Q.children=be}return te(N.type,ue,Q)},ge.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},ge.createElement=function(N,H,F){var Q,ue={},pe=null;if(H!=null)for(Q in H.key!==void 0&&(pe=""+H.key),H)re.call(H,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ue[Q]=H[Q]);var be=arguments.length-2;if(be===1)ue.children=F;else if(1<be){for(var Fe=Array(be),Ge=0;Ge<be;Ge++)Fe[Ge]=arguments[Ge+2];ue.children=Fe}if(N&&N.defaultProps)for(Q in be=N.defaultProps,be)ue[Q]===void 0&&(ue[Q]=be[Q]);return te(N,pe,ue)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(N){return{$$typeof:y,render:N}},ge.isValidElement=ce,ge.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:K}},ge.memo=function(N,H){return{$$typeof:g,type:N,compare:H===void 0?null:H}},ge.startTransition=function(N){var H=$.T,F={};$.T=F;try{var Q=N(),ue=$.S;ue!==null&&ue(F,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(ee,ne)}catch(pe){ne(pe)}finally{H!==null&&F.types!==null&&(H.types=F.types),$.T=H}},ge.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ge.use=function(N){return $.H.use(N)},ge.useActionState=function(N,H,F){return $.H.useActionState(N,H,F)},ge.useCallback=function(N,H){return $.H.useCallback(N,H)},ge.useContext=function(N){return $.H.useContext(N)},ge.useDebugValue=function(){},ge.useDeferredValue=function(N,H){return $.H.useDeferredValue(N,H)},ge.useEffect=function(N,H){return $.H.useEffect(N,H)},ge.useEffectEvent=function(N){return $.H.useEffectEvent(N)},ge.useId=function(){return $.H.useId()},ge.useImperativeHandle=function(N,H,F){return $.H.useImperativeHandle(N,H,F)},ge.useInsertionEffect=function(N,H){return $.H.useInsertionEffect(N,H)},ge.useLayoutEffect=function(N,H){return $.H.useLayoutEffect(N,H)},ge.useMemo=function(N,H){return $.H.useMemo(N,H)},ge.useOptimistic=function(N,H){return $.H.useOptimistic(N,H)},ge.useReducer=function(N,H,F){return $.H.useReducer(N,H,F)},ge.useRef=function(N){return $.H.useRef(N)},ge.useState=function(N){return $.H.useState(N)},ge.useSyncExternalStore=function(N,H,F){return $.H.useSyncExternalStore(N,H,F)},ge.useTransition=function(){return $.H.useTransition()},ge.version="19.2.0",ge}var Km;function Uu(){return Km||(Km=1,gu.exports=Vy()),gu.exports}var j=Uu();const ps=Ip(j);var yu={exports:{}},hl={},xu={exports:{}},vu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function jy(){return Zm||(Zm=1,(function(i){function t(M,z){var K=M.length;M.push(z);e:for(;0<K;){var ne=K-1>>>1,he=M[ne];if(0<r(he,z))M[ne]=z,M[K]=he,K=ne;else break e}}function s(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var z=M[0],K=M.pop();if(K!==z){M[0]=K;e:for(var ne=0,he=M.length,N=he>>>1;ne<N;){var H=2*(ne+1)-1,F=M[H],Q=H+1,ue=M[Q];if(0>r(F,K))Q<he&&0>r(ue,F)?(M[ne]=ue,M[Q]=K,ne=Q):(M[ne]=F,M[H]=K,ne=H);else if(Q<he&&0>r(ue,K))M[ne]=ue,M[Q]=K,ne=Q;else break e}}return z}function r(M,z){var K=M.sortIndex-z.sortIndex;return K!==0?K:M.id-z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,y=h.now();i.unstable_now=function(){return h.now()-y}}var x=[],g=[],v=1,S=null,b=3,C=!1,w=!1,R=!1,k=!1,Y=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function O(M){for(var z=s(g);z!==null;){if(z.callback===null)o(g);else if(z.startTime<=M)o(g),z.sortIndex=z.expirationTime,t(x,z);else break;z=s(g)}}function W(M){if(R=!1,O(M),!w)if(s(x)!==null)w=!0,ee||(ee=!0,se());else{var z=s(g);z!==null&&X(W,z.startTime-M)}}var ee=!1,$=-1,re=5,te=-1;function Z(){return k?!0:!(i.unstable_now()-te<re)}function ce(){if(k=!1,ee){var M=i.unstable_now();te=M;var z=!0;try{e:{w=!1,R&&(R=!1,J($),$=-1),C=!0;var K=b;try{t:{for(O(M),S=s(x);S!==null&&!(S.expirationTime>M&&Z());){var ne=S.callback;if(typeof ne=="function"){S.callback=null,b=S.priorityLevel;var he=ne(S.expirationTime<=M);if(M=i.unstable_now(),typeof he=="function"){S.callback=he,O(M),z=!0;break t}S===s(x)&&o(x),O(M)}else o(x);S=s(x)}if(S!==null)z=!0;else{var N=s(g);N!==null&&X(W,N.startTime-M),z=!1}}break e}finally{S=null,b=K,C=!1}z=void 0}}finally{z?se():ee=!1}}}var se;if(typeof L=="function")se=function(){L(ce)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,me=ie.port2;ie.port1.onmessage=ce,se=function(){me.postMessage(null)}}else se=function(){Y(ce,0)};function X(M,z){$=Y(function(){M(i.unstable_now())},z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(M){switch(b){case 1:case 2:case 3:var z=3;break;default:z=b}var K=b;b=z;try{return M()}finally{b=K}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=b;b=M;try{return z()}finally{b=K}},i.unstable_scheduleCallback=function(M,z,K){var ne=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,M){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=K+he,M={id:v++,callback:z,priorityLevel:M,startTime:K,expirationTime:he,sortIndex:-1},K>ne?(M.sortIndex=K,t(g,M),s(x)===null&&M===s(g)&&(R?(J($),$=-1):R=!0,X(W,K-ne))):(M.sortIndex=he,t(x,M),w||C||(w=!0,ee||(ee=!0,se()))),M},i.unstable_shouldYield=Z,i.unstable_wrapCallback=function(M){var z=b;return function(){var K=b;b=z;try{return M.apply(this,arguments)}finally{b=K}}}})(vu)),vu}var Wm;function Oy(){return Wm||(Wm=1,xu.exports=jy()),xu.exports}var Tu={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function Fy(){if(eh)return dt;eh=1;var i=Uu();function t(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(x,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:x,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,dt.createPortal=function(x,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(x,g,null,v)},dt.flushSync=function(x){var g=h.T,v=o.p;try{if(h.T=null,o.p=2,x)return x()}finally{h.T=g,o.p=v,o.d.f()}},dt.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(x,g))},dt.prefetchDNS=function(x){typeof x=="string"&&o.d.D(x)},dt.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var v=g.as,S=y(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?o.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:C}):v==="script"&&o.d.X(x,{crossOrigin:S,integrity:b,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dt.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=y(g.as,g.crossOrigin);o.d.M(x,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(x)},dt.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=y(v,g.crossOrigin);o.d.L(x,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dt.preloadModule=function(x,g){if(typeof x=="string")if(g){var v=y(g.as,g.crossOrigin);o.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(x)},dt.requestFormReset=function(x){o.d.r(x)},dt.unstable_batchedUpdates=function(x,g){return x(g)},dt.useFormState=function(x,g,v){return h.H.useFormState(x,g,v)},dt.useFormStatus=function(){return h.H.useHostTransitionStatus()},dt.version="19.2.0",dt}var th;function Yy(){if(th)return Tu.exports;th=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Tu.exports=Fy(),Tu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh;function Jy(){if(nh)return hl;nh=1;var i=Oy(),t=Uu(),s=Yy();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(u(e)!==e)throw Error(o(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(o(188));return n!==e?null:e}for(var l=e,a=n;;){var f=l.return;if(f===null)break;var p=f.alternate;if(p===null){if(a=f.return,a!==null){l=a;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===l)return x(f),e;if(p===a)return x(f),n;p=p.sibling}throw Error(o(188))}if(l.return!==a.return)l=f,a=p;else{for(var T=!1,E=f.child;E;){if(E===l){T=!0,l=f,a=p;break}if(E===a){T=!0,a=f,l=p;break}E=E.sibling}if(!T){for(E=p.child;E;){if(E===l){T=!0,l=p,a=f;break}if(E===a){T=!0,a=p,l=f;break}E=E.sibling}if(!T)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,b=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),L=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case Y:return"Profiler";case k:return"StrictMode";case W:return"Suspense";case ee:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case L:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case O:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return n=e.displayName||null,n!==null?n:me(e.type)||"Memo";case re:n=e._payload,e=e._init;try{return me(e(n))}catch{}}return null}var X=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ne=[],he=-1;function N(e){return{current:e}}function H(e){0>he||(e.current=ne[he],ne[he]=null,he--)}function F(e,n){he++,ne[he]=e.current,e.current=n}var Q=N(null),ue=N(null),pe=N(null),be=N(null);function Fe(e,n){switch(F(pe,n),F(ue,e),F(Q,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ym(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ym(n),e=xm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(Q),F(Q,e)}function Ge(){H(Q),H(ue),H(pe)}function Ct(e){e.memoizedState!==null&&F(be,e);var n=Q.current,l=xm(n,e.type);n!==l&&(F(ue,e),F(Q,l))}function Ai(e){ue.current===e&&(H(Q),H(ue)),be.current===e&&(H(be),ul._currentValue=K)}var we,He;function lt(e){if(we===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);we=n&&n[1]||"",He=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+e+He}var pt=!1;function mt(e,n){if(!e||pt)return"";pt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(G){var P=G}Reflect.construct(e,[],V)}else{try{V.call()}catch(G){P=G}e.call(V.prototype)}}else{try{throw Error()}catch(G){P=G}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(G){if(G&&P&&typeof G.stack=="string")return[G.stack,P.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=a.DetermineComponentFrameRoot(),T=p[0],E=p[1];if(T&&E){var A=T.split(`
`),U=E.split(`
`);for(f=a=0;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(a===A.length||f===U.length)for(a=A.length-1,f=U.length-1;1<=a&&0<=f&&A[a]!==U[f];)f--;for(;1<=a&&0<=f;a--,f--)if(A[a]!==U[f]){if(a!==1||f!==1)do if(a--,f--,0>f||A[a]!==U[f]){var q=`
`+A[a].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=a&&0<=f);break}}}finally{pt=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?lt(l):""}function Pt(e,n){switch(e.tag){case 26:case 27:case 5:return lt(e.type);case 16:return lt("Lazy");case 13:return e.child!==n&&n!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return mt(e.type,!1);case 11:return mt(e.type.render,!1);case 1:return mt(e.type,!0);case 31:return lt("Activity");default:return""}}function Kt(e){try{var n="",l=null;do n+=Pt(e,l),l=e,e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var gt=Object.prototype.hasOwnProperty,At=i.unstable_scheduleCallback,Ts=i.unstable_cancelCallback,ti=i.unstable_shouldYield,yg=i.unstable_requestPaint,wt=i.unstable_now,xg=i.unstable_getCurrentPriorityLevel,Qu=i.unstable_ImmediatePriority,$u=i.unstable_UserBlockingPriority,Cl=i.unstable_NormalPriority,vg=i.unstable_LowPriority,Xu=i.unstable_IdlePriority,Tg=i.log,Sg=i.unstable_setDisableYieldValue,Ss=null,_t=null;function wn(e){if(typeof Tg=="function"&&Sg(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Ss,e)}catch{}}var Nt=Math.clz32?Math.clz32:Cg,bg=Math.log,Eg=Math.LN2;function Cg(e){return e>>>=0,e===0?32:31-(bg(e)/Eg|0)|0}var Al=256,wl=262144,_l=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Nl(e,n,l){var a=e.pendingLanes;if(a===0)return 0;var f=0,p=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var E=a&134217727;return E!==0?(a=E&~p,a!==0?f=ni(a):(T&=E,T!==0?f=ni(T):l||(l=E&~e,l!==0&&(f=ni(l))))):(E=a&~p,E!==0?f=ni(E):T!==0?f=ni(T):l||(l=a&~e,l!==0&&(f=ni(l)))),f===0?0:n!==0&&n!==f&&(n&p)===0&&(p=f&-f,l=n&-n,p>=l||p===32&&(l&4194048)!==0)?n:f}function bs(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ag(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ku(){var e=_l;return _l<<=1,(_l&62914560)===0&&(_l=4194304),e}function ia(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Es(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wg(e,n,l,a,f,p){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var E=e.entanglements,A=e.expirationTimes,U=e.hiddenUpdates;for(l=T&~l;0<l;){var q=31-Nt(l),V=1<<q;E[q]=0,A[q]=-1;var P=U[q];if(P!==null)for(U[q]=null,q=0;q<P.length;q++){var G=P[q];G!==null&&(G.lane&=-536870913)}l&=~V}a!==0&&Zu(e,a,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(T&~n))}function Zu(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-Nt(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Wu(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var a=31-Nt(l),f=1<<a;f&n|e[a]&n&&(e[a]|=n),l&=~f}}function ec(e,n){var l=n&-n;return l=(l&42)!==0?1:sa(l),(l&(e.suspendedLanes|n))!==0?0:l}function sa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function la(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tc(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:Hm(e.type))}function nc(e,n){var l=z.p;try{return z.p=e,n()}finally{z.p=l}}var _n=Math.random().toString(36).slice(2),ot="__reactFiber$"+_n,yt="__reactProps$"+_n,wi="__reactContainer$"+_n,oa="__reactEvents$"+_n,_g="__reactListeners$"+_n,Ng="__reactHandles$"+_n,ic="__reactResources$"+_n,Cs="__reactMarker$"+_n;function aa(e){delete e[ot],delete e[yt],delete e[oa],delete e[_g],delete e[Ng]}function _i(e){var n=e[ot];if(n)return n;for(var l=e.parentNode;l;){if(n=l[wi]||l[ot]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Am(e);e!==null;){if(l=e[ot])return l;e=Am(e)}return n}e=l,l=e.parentNode}return null}function Ni(e){if(e=e[ot]||e[wi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function As(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function Mi(e){var n=e[ic];return n||(n=e[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function it(e){e[Cs]=!0}var sc=new Set,lc={};function ii(e,n){Ri(e,n),Ri(e+"Capture",n)}function Ri(e,n){for(lc[e]=n,e=0;e<n.length;e++)sc.add(n[e])}var Mg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oc={},ac={};function Rg(e){return gt.call(ac,e)?!0:gt.call(oc,e)?!1:Mg.test(e)?ac[e]=!0:(oc[e]=!0,!1)}function Ml(e,n,l){if(Rg(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Rl(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function an(e,n,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+a)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function kg(e,n,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,p.call(this,T)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ra(e){if(!e._valueTracker){var n=rc(e)?"checked":"value";e._valueTracker=kg(e,n,""+e[n])}}function uc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),a="";return e&&(a=rc(e)?e.checked?"true":"false":e.value),e=a,e!==l?(n.setValue(e),!0):!1}function kl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ig=/[\n"\\]/g;function qt(e){return e.replace(Ig,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ua(e,n,l,a,f,p,T,E){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Gt(n)):e.value!==""+Gt(n)&&(e.value=""+Gt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?ca(e,T,Gt(n)):l!=null?ca(e,T,Gt(l)):a!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Gt(E):e.removeAttribute("name")}function cc(e,n,l,a,f,p,T,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){ra(e);return}l=l!=null?""+Gt(l):"",n=n!=null?""+Gt(n):l,E||n===e.value||(e.value=n),e.defaultValue=n}a=a??f,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=E?e.checked:!!a,e.defaultChecked=!!a,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),ra(e)}function ca(e,n,l){n==="number"&&kl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ki(e,n,l,a){if(e=e.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=n.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Gt(l),n=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,a&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function dc(e,n,l){if(n!=null&&(n=""+Gt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Gt(l):""}function fc(e,n,l,a){if(n==null){if(a!=null){if(l!=null)throw Error(o(92));if(X(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),n=l}l=Gt(n),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),ra(e)}function Ii(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Dg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mc(e,n,l){var a=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,l):typeof l!="number"||l===0||Dg.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function hc(e,n,l){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var f in n)a=n[f],n.hasOwnProperty(f)&&l[f]!==a&&mc(e,f,a)}else for(var p in n)n.hasOwnProperty(p)&&mc(e,p,n[p])}function da(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ug=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Il(e){return Lg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function rn(){}var fa=null;function ma(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Di=null,Ui=null;function pc(e){var n=Ni(e);if(n&&(e=n.stateNode)){var l=e[yt]||null;e:switch(e=n.stateNode,n.type){case"input":if(ua(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+qt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var a=l[n];if(a!==e&&a.form===e.form){var f=a[yt]||null;if(!f)throw Error(o(90));ua(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)a=l[n],a.form===e.form&&uc(a)}break e;case"textarea":dc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&ki(e,!!l.multiple,n,!1)}}}var ha=!1;function gc(e,n,l){if(ha)return e(n,l);ha=!0;try{var a=e(n);return a}finally{if(ha=!1,(Di!==null||Ui!==null)&&(To(),Di&&(n=Di,e=Ui,Ui=Di=null,pc(n),e)))for(n=0;n<e.length;n++)pc(e[n])}}function ws(e,n){var l=e.stateNode;if(l===null)return null;var a=l[yt]||null;if(a===null)return null;l=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,n,typeof l));return l}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pa=!1;if(un)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){pa=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{pa=!1}var Nn=null,ga=null,Dl=null;function yc(){if(Dl)return Dl;var e,n=ga,l=n.length,a,f="value"in Nn?Nn.value:Nn.textContent,p=f.length;for(e=0;e<l&&n[e]===f[e];e++);var T=l-e;for(a=1;a<=T&&n[l-a]===f[p-a];a++);return Dl=f.slice(e,1<a?1-a:void 0)}function Ul(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ll(){return!0}function xc(){return!1}function xt(e){function n(l,a,f,p,T){this._reactName=l,this._targetInst=f,this.type=a,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(l=e[E],this[E]=l?l(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ll:xc,this.isPropagationStopped=xc,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),n}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=xt(si),Ns=S({},si,{view:0,detail:0}),zg=xt(Ns),ya,xa,Ms,Pl=S({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ms&&(Ms&&e.type==="mousemove"?(ya=e.screenX-Ms.screenX,xa=e.screenY-Ms.screenY):xa=ya=0,Ms=e),ya)},movementY:function(e){return"movementY"in e?e.movementY:xa}}),vc=xt(Pl),Pg=S({},Pl,{dataTransfer:0}),Gg=xt(Pg),qg=S({},Ns,{relatedTarget:0}),va=xt(qg),Bg=S({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),Hg=xt(Bg),Vg=S({},si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jg=xt(Vg),Og=S({},si,{data:0}),Tc=xt(Og),Fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Jg[e])?!!n[e]:!1}function Ta(){return Qg}var $g=S({},Ns,{key:function(e){if(e.key){var n=Fg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(e){return e.type==="keypress"?Ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xg=xt($g),Kg=S({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sc=xt(Kg),Zg=S({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),Wg=xt(Zg),e0=S({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),t0=xt(e0),n0=S({},Pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i0=xt(n0),s0=S({},si,{newState:0,oldState:0}),l0=xt(s0),o0=[9,13,27,32],Sa=un&&"CompositionEvent"in window,Rs=null;un&&"documentMode"in document&&(Rs=document.documentMode);var a0=un&&"TextEvent"in window&&!Rs,bc=un&&(!Sa||Rs&&8<Rs&&11>=Rs),Ec=" ",Cc=!1;function Ac(e,n){switch(e){case"keyup":return o0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Li=!1;function r0(e,n){switch(e){case"compositionend":return wc(n);case"keypress":return n.which!==32?null:(Cc=!0,Ec);case"textInput":return e=n.data,e===Ec&&Cc?null:e;default:return null}}function u0(e,n){if(Li)return e==="compositionend"||!Sa&&Ac(e,n)?(e=yc(),Dl=ga=Nn=null,Li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bc&&n.locale!=="ko"?null:n.data;default:return null}}var c0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _c(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!c0[e.type]:n==="textarea"}function Nc(e,n,l,a){Di?Ui?Ui.push(a):Ui=[a]:Di=a,n=_o(n,"onChange"),0<n.length&&(l=new zl("onChange","change",null,l,a),e.push({event:l,listeners:n}))}var ks=null,Is=null;function d0(e){dm(e,0)}function Gl(e){var n=As(e);if(uc(n))return e}function Mc(e,n){if(e==="change")return n}var Rc=!1;if(un){var ba;if(un){var Ea="oninput"in document;if(!Ea){var kc=document.createElement("div");kc.setAttribute("oninput","return;"),Ea=typeof kc.oninput=="function"}ba=Ea}else ba=!1;Rc=ba&&(!document.documentMode||9<document.documentMode)}function Ic(){ks&&(ks.detachEvent("onpropertychange",Dc),Is=ks=null)}function Dc(e){if(e.propertyName==="value"&&Gl(Is)){var n=[];Nc(n,Is,e,ma(e)),gc(d0,n)}}function f0(e,n,l){e==="focusin"?(Ic(),ks=n,Is=l,ks.attachEvent("onpropertychange",Dc)):e==="focusout"&&Ic()}function m0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gl(Is)}function h0(e,n){if(e==="click")return Gl(n)}function p0(e,n){if(e==="input"||e==="change")return Gl(n)}function g0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Mt=typeof Object.is=="function"?Object.is:g0;function Ds(e,n){if(Mt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),a=Object.keys(n);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var f=l[a];if(!gt.call(n,f)||!Mt(e[f],n[f]))return!1}return!0}function Uc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lc(e,n){var l=Uc(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=n&&a>=n)return{node:l,offset:n-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Uc(l)}}function zc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?zc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Pc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=kl(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=kl(e.document)}return n}function Ca(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var y0=un&&"documentMode"in document&&11>=document.documentMode,zi=null,Aa=null,Us=null,wa=!1;function Gc(e,n,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;wa||zi==null||zi!==kl(a)||(a=zi,"selectionStart"in a&&Ca(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Us&&Ds(Us,a)||(Us=a,a=_o(Aa,"onSelect"),0<a.length&&(n=new zl("onSelect","select",null,n,l),e.push({event:n,listeners:a}),n.target=zi)))}function li(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Pi={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},_a={},qc={};un&&(qc=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function oi(e){if(_a[e])return _a[e];if(!Pi[e])return e;var n=Pi[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in qc)return _a[e]=n[l];return e}var Bc=oi("animationend"),Hc=oi("animationiteration"),Vc=oi("animationstart"),x0=oi("transitionrun"),v0=oi("transitionstart"),T0=oi("transitioncancel"),jc=oi("transitionend"),Oc=new Map,Na="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Na.push("scrollEnd");function Zt(e,n){Oc.set(e,n),ii(n,[e])}var ql=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],Gi=0,Ma=0;function Bl(){for(var e=Gi,n=Ma=Gi=0;n<e;){var l=Bt[n];Bt[n++]=null;var a=Bt[n];Bt[n++]=null;var f=Bt[n];Bt[n++]=null;var p=Bt[n];if(Bt[n++]=null,a!==null&&f!==null){var T=a.pending;T===null?f.next=f:(f.next=T.next,T.next=f),a.pending=f}p!==0&&Fc(l,f,p)}}function Hl(e,n,l,a){Bt[Gi++]=e,Bt[Gi++]=n,Bt[Gi++]=l,Bt[Gi++]=a,Ma|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Ra(e,n,l,a){return Hl(e,n,l,a),Vl(e)}function ai(e,n){return Hl(e,null,null,n),Vl(e)}function Fc(e,n,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var f=!1,p=e.return;p!==null;)p.childLanes|=l,a=p.alternate,a!==null&&(a.childLanes|=l),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&n!==null&&(f=31-Nt(l),e=p.hiddenUpdates,a=e[f],a===null?e[f]=[n]:a.push(n),n.lane=l|536870912),p):null}function Vl(e){if(50<nl)throw nl=0,qr=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var qi={};function S0(e,n,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,n,l,a){return new S0(e,n,l,a)}function ka(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cn(e,n){var l=e.alternate;return l===null?(l=Rt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Yc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function jl(e,n,l,a,f,p){var T=0;if(a=e,typeof e=="function")ka(e)&&(T=1);else if(typeof e=="string")T=wy(e,l,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=Rt(31,l,n,f),e.elementType=te,e.lanes=p,e;case R:return ri(l.children,f,p,n);case k:T=8,f|=24;break;case Y:return e=Rt(12,l,n,f|2),e.elementType=Y,e.lanes=p,e;case W:return e=Rt(13,l,n,f),e.elementType=W,e.lanes=p,e;case ee:return e=Rt(19,l,n,f),e.elementType=ee,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:T=10;break e;case J:T=9;break e;case O:T=11;break e;case $:T=14;break e;case re:T=16,a=null;break e}T=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return n=Rt(T,l,n,f),n.elementType=e,n.type=a,n.lanes=p,n}function ri(e,n,l,a){return e=Rt(7,e,a,n),e.lanes=l,e}function Ia(e,n,l){return e=Rt(6,e,null,n),e.lanes=l,e}function Jc(e){var n=Rt(18,null,null,0);return n.stateNode=e,n}function Da(e,n,l){return n=Rt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Qc=new WeakMap;function Ht(e,n){if(typeof e=="object"&&e!==null){var l=Qc.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Kt(n)},Qc.set(e,n),n)}return{value:e,source:n,stack:Kt(n)}}var Bi=[],Hi=0,Ol=null,Ls=0,Vt=[],jt=0,Mn=null,nn=1,sn="";function dn(e,n){Bi[Hi++]=Ls,Bi[Hi++]=Ol,Ol=e,Ls=n}function $c(e,n,l){Vt[jt++]=nn,Vt[jt++]=sn,Vt[jt++]=Mn,Mn=e;var a=nn;e=sn;var f=32-Nt(a)-1;a&=~(1<<f),l+=1;var p=32-Nt(n)+f;if(30<p){var T=f-f%5;p=(a&(1<<T)-1).toString(32),a>>=T,f-=T,nn=1<<32-Nt(n)+f|l<<f|a,sn=p+e}else nn=1<<p|l<<f|a,sn=e}function Ua(e){e.return!==null&&(dn(e,1),$c(e,1,0))}function La(e){for(;e===Ol;)Ol=Bi[--Hi],Bi[Hi]=null,Ls=Bi[--Hi],Bi[Hi]=null;for(;e===Mn;)Mn=Vt[--jt],Vt[jt]=null,sn=Vt[--jt],Vt[jt]=null,nn=Vt[--jt],Vt[jt]=null}function Xc(e,n){Vt[jt++]=nn,Vt[jt++]=sn,Vt[jt++]=Mn,nn=n.id,sn=n.overflow,Mn=e}var at=null,Ve=null,Ae=!1,Rn=null,Ot=!1,za=Error(o(519));function kn(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zs(Ht(n,e)),za}function Kc(e){var n=e.stateNode,l=e.type,a=e.memoizedProps;switch(n[ot]=e,n[yt]=a,l){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(l=0;l<sl.length;l++)Se(sl[l],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":Se("invalid",n),cc(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Se("invalid",n);break;case"textarea":Se("invalid",n),fc(n,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||a.suppressHydrationWarning===!0||pm(n.textContent,l)?(a.popover!=null&&(Se("beforetoggle",n),Se("toggle",n)),a.onScroll!=null&&Se("scroll",n),a.onScrollEnd!=null&&Se("scrollend",n),a.onClick!=null&&(n.onclick=rn),n=!0):n=!1,n||kn(e,!0)}function Zc(e){for(at=e.return;at;)switch(at.tag){case 5:case 31:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:at=at.return}}function Vi(e){if(e!==at)return!1;if(!Ae)return Zc(e),Ae=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||eu(e.type,e.memoizedProps)),l=!l),l&&Ve&&kn(e),Zc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ve=Cm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ve=Cm(e)}else n===27?(n=Ve,Fn(e.type)?(e=lu,lu=null,Ve=e):Ve=n):Ve=at?Yt(e.stateNode.nextSibling):null;return!0}function ui(){Ve=at=null,Ae=!1}function Pa(){var e=Rn;return e!==null&&(bt===null?bt=e:bt.push.apply(bt,e),Rn=null),e}function zs(e){Rn===null?Rn=[e]:Rn.push(e)}var Ga=N(null),ci=null,fn=null;function In(e,n,l){F(Ga,n._currentValue),n._currentValue=l}function mn(e){e._currentValue=Ga.current,H(Ga)}function qa(e,n,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===l)break;e=e.return}}function Ba(e,n,l,a){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=f;for(var A=0;A<n.length;A++)if(E.context===n[A]){p.lanes|=l,E=p.alternate,E!==null&&(E.lanes|=l),qa(p.return,l,e),a||(T=null);break e}p=E.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(o(341));T.lanes|=l,p=T.alternate,p!==null&&(p.lanes|=l),qa(T,l,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function ji(e,n,l,a){e=null;for(var f=n,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(o(387));if(T=T.memoizedProps,T!==null){var E=f.type;Mt(f.pendingProps.value,T.value)||(e!==null?e.push(E):e=[E])}}else if(f===be.current){if(T=f.alternate,T===null)throw Error(o(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}f=f.return}e!==null&&Ba(n,e,l,a),n.flags|=262144}function Fl(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function di(e){ci=e,fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return Wc(ci,e)}function Yl(e,n){return ci===null&&di(e),Wc(e,n)}function Wc(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},fn===null){if(e===null)throw Error(o(308));fn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else fn=fn.next=n;return l}var b0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},E0=i.unstable_scheduleCallback,C0=i.unstable_NormalPriority,Ze={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ha(){return{controller:new b0,data:new Map,refCount:0}}function Ps(e){e.refCount--,e.refCount===0&&E0(C0,function(){e.controller.abort()})}var Gs=null,Va=0,Oi=0,Fi=null;function A0(e,n){if(Gs===null){var l=Gs=[];Va=0,Oi=Fr(),Fi={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Va++,n.then(ed,ed),n}function ed(){if(--Va===0&&Gs!==null){Fi!==null&&(Fi.status="fulfilled");var e=Gs;Gs=null,Oi=0,Fi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function w0(e,n){var l=[],a={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(a.status="rejected",a.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),a}var td=M.S;M.S=function(e,n){qf=wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&A0(e,n),td!==null&&td(e,n)};var fi=N(null);function ja(){var e=fi.current;return e!==null?e:qe.pooledCache}function Jl(e,n){n===null?F(fi,fi.current):F(fi,n.pool)}function nd(){var e=ja();return e===null?null:{parent:Ze._currentValue,pool:e}}var Yi=Error(o(460)),Oa=Error(o(474)),Ql=Error(o(542)),$l={then:function(){}};function id(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sd(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(rn,rn),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,od(e),e;default:if(typeof n.status=="string")n.then(rn,rn);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=a}},function(a){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,od(e),e}throw hi=n,Yi}}function mi(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(hi=l,Yi):l}}var hi=null;function ld(){if(hi===null)throw Error(o(459));var e=hi;return hi=null,e}function od(e){if(e===Yi||e===Ql)throw Error(o(483))}var Ji=null,qs=0;function Xl(e){var n=qs;return qs+=1,Ji===null&&(Ji=[]),sd(Ji,e,n)}function Bs(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Kl(e,n){throw n.$$typeof===b?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ad(e){function n(I,_){if(e){var D=I.deletions;D===null?(I.deletions=[_],I.flags|=16):D.push(_)}}function l(I,_){if(!e)return null;for(;_!==null;)n(I,_),_=_.sibling;return null}function a(I){for(var _=new Map;I!==null;)I.key!==null?_.set(I.key,I):_.set(I.index,I),I=I.sibling;return _}function f(I,_){return I=cn(I,_),I.index=0,I.sibling=null,I}function p(I,_,D){return I.index=D,e?(D=I.alternate,D!==null?(D=D.index,D<_?(I.flags|=67108866,_):D):(I.flags|=67108866,_)):(I.flags|=1048576,_)}function T(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function E(I,_,D,B){return _===null||_.tag!==6?(_=Ia(D,I.mode,B),_.return=I,_):(_=f(_,D),_.return=I,_)}function A(I,_,D,B){var de=D.type;return de===R?q(I,_,D.props.children,B,D.key):_!==null&&(_.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===re&&mi(de)===_.type)?(_=f(_,D.props),Bs(_,D),_.return=I,_):(_=jl(D.type,D.key,D.props,null,I.mode,B),Bs(_,D),_.return=I,_)}function U(I,_,D,B){return _===null||_.tag!==4||_.stateNode.containerInfo!==D.containerInfo||_.stateNode.implementation!==D.implementation?(_=Da(D,I.mode,B),_.return=I,_):(_=f(_,D.children||[]),_.return=I,_)}function q(I,_,D,B,de){return _===null||_.tag!==7?(_=ri(D,I.mode,B,de),_.return=I,_):(_=f(_,D),_.return=I,_)}function V(I,_,D){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Ia(""+_,I.mode,D),_.return=I,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case C:return D=jl(_.type,_.key,_.props,null,I.mode,D),Bs(D,_),D.return=I,D;case w:return _=Da(_,I.mode,D),_.return=I,_;case re:return _=mi(_),V(I,_,D)}if(X(_)||se(_))return _=ri(_,I.mode,D,null),_.return=I,_;if(typeof _.then=="function")return V(I,Xl(_),D);if(_.$$typeof===L)return V(I,Yl(I,_),D);Kl(I,_)}return null}function P(I,_,D,B){var de=_!==null?_.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return de!==null?null:E(I,_,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case C:return D.key===de?A(I,_,D,B):null;case w:return D.key===de?U(I,_,D,B):null;case re:return D=mi(D),P(I,_,D,B)}if(X(D)||se(D))return de!==null?null:q(I,_,D,B,null);if(typeof D.then=="function")return P(I,_,Xl(D),B);if(D.$$typeof===L)return P(I,_,Yl(I,D),B);Kl(I,D)}return null}function G(I,_,D,B,de){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return I=I.get(D)||null,E(_,I,""+B,de);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return I=I.get(B.key===null?D:B.key)||null,A(_,I,B,de);case w:return I=I.get(B.key===null?D:B.key)||null,U(_,I,B,de);case re:return B=mi(B),G(I,_,D,B,de)}if(X(B)||se(B))return I=I.get(D)||null,q(_,I,B,de,null);if(typeof B.then=="function")return G(I,_,D,Xl(B),de);if(B.$$typeof===L)return G(I,_,D,Yl(_,B),de);Kl(_,B)}return null}function le(I,_,D,B){for(var de=null,_e=null,ae=_,xe=_=0,Ce=null;ae!==null&&xe<D.length;xe++){ae.index>xe?(Ce=ae,ae=null):Ce=ae.sibling;var Ne=P(I,ae,D[xe],B);if(Ne===null){ae===null&&(ae=Ce);break}e&&ae&&Ne.alternate===null&&n(I,ae),_=p(Ne,_,xe),_e===null?de=Ne:_e.sibling=Ne,_e=Ne,ae=Ce}if(xe===D.length)return l(I,ae),Ae&&dn(I,xe),de;if(ae===null){for(;xe<D.length;xe++)ae=V(I,D[xe],B),ae!==null&&(_=p(ae,_,xe),_e===null?de=ae:_e.sibling=ae,_e=ae);return Ae&&dn(I,xe),de}for(ae=a(ae);xe<D.length;xe++)Ce=G(ae,I,xe,D[xe],B),Ce!==null&&(e&&Ce.alternate!==null&&ae.delete(Ce.key===null?xe:Ce.key),_=p(Ce,_,xe),_e===null?de=Ce:_e.sibling=Ce,_e=Ce);return e&&ae.forEach(function(Xn){return n(I,Xn)}),Ae&&dn(I,xe),de}function fe(I,_,D,B){if(D==null)throw Error(o(151));for(var de=null,_e=null,ae=_,xe=_=0,Ce=null,Ne=D.next();ae!==null&&!Ne.done;xe++,Ne=D.next()){ae.index>xe?(Ce=ae,ae=null):Ce=ae.sibling;var Xn=P(I,ae,Ne.value,B);if(Xn===null){ae===null&&(ae=Ce);break}e&&ae&&Xn.alternate===null&&n(I,ae),_=p(Xn,_,xe),_e===null?de=Xn:_e.sibling=Xn,_e=Xn,ae=Ce}if(Ne.done)return l(I,ae),Ae&&dn(I,xe),de;if(ae===null){for(;!Ne.done;xe++,Ne=D.next())Ne=V(I,Ne.value,B),Ne!==null&&(_=p(Ne,_,xe),_e===null?de=Ne:_e.sibling=Ne,_e=Ne);return Ae&&dn(I,xe),de}for(ae=a(ae);!Ne.done;xe++,Ne=D.next())Ne=G(ae,I,xe,Ne.value,B),Ne!==null&&(e&&Ne.alternate!==null&&ae.delete(Ne.key===null?xe:Ne.key),_=p(Ne,_,xe),_e===null?de=Ne:_e.sibling=Ne,_e=Ne);return e&&ae.forEach(function(Py){return n(I,Py)}),Ae&&dn(I,xe),de}function ze(I,_,D,B){if(typeof D=="object"&&D!==null&&D.type===R&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case C:e:{for(var de=D.key;_!==null;){if(_.key===de){if(de=D.type,de===R){if(_.tag===7){l(I,_.sibling),B=f(_,D.props.children),B.return=I,I=B;break e}}else if(_.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===re&&mi(de)===_.type){l(I,_.sibling),B=f(_,D.props),Bs(B,D),B.return=I,I=B;break e}l(I,_);break}else n(I,_);_=_.sibling}D.type===R?(B=ri(D.props.children,I.mode,B,D.key),B.return=I,I=B):(B=jl(D.type,D.key,D.props,null,I.mode,B),Bs(B,D),B.return=I,I=B)}return T(I);case w:e:{for(de=D.key;_!==null;){if(_.key===de)if(_.tag===4&&_.stateNode.containerInfo===D.containerInfo&&_.stateNode.implementation===D.implementation){l(I,_.sibling),B=f(_,D.children||[]),B.return=I,I=B;break e}else{l(I,_);break}else n(I,_);_=_.sibling}B=Da(D,I.mode,B),B.return=I,I=B}return T(I);case re:return D=mi(D),ze(I,_,D,B)}if(X(D))return le(I,_,D,B);if(se(D)){if(de=se(D),typeof de!="function")throw Error(o(150));return D=de.call(D),fe(I,_,D,B)}if(typeof D.then=="function")return ze(I,_,Xl(D),B);if(D.$$typeof===L)return ze(I,_,Yl(I,D),B);Kl(I,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,_!==null&&_.tag===6?(l(I,_.sibling),B=f(_,D),B.return=I,I=B):(l(I,_),B=Ia(D,I.mode,B),B.return=I,I=B),T(I)):l(I,_)}return function(I,_,D,B){try{qs=0;var de=ze(I,_,D,B);return Ji=null,de}catch(ae){if(ae===Yi||ae===Ql)throw ae;var _e=Rt(29,ae,null,I.mode);return _e.lanes=B,_e.return=I,_e}finally{}}}var pi=ad(!0),rd=ad(!1),Dn=!1;function Fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ya(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Un(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(e,n,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Re&2)!==0){var f=a.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),a.pending=n,n=Vl(e),Fc(e,null,l),n}return Hl(e,a,n,l),Vl(e)}function Hs(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,Wu(e,l)}}function Ja(e,n){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var f=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,l=l.next}while(l!==null);p===null?f=p=n:p=p.next=n}else f=p=n;l={baseState:a.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Qa=!1;function Vs(){if(Qa){var e=Fi;if(e!==null)throw e}}function js(e,n,l,a){Qa=!1;var f=e.updateQueue;Dn=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var A=E,U=A.next;A.next=null,T===null?p=U:T.next=U,T=A;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==T&&(E===null?q.firstBaseUpdate=U:E.next=U,q.lastBaseUpdate=A))}if(p!==null){var V=f.baseState;T=0,q=U=A=null,E=p;do{var P=E.lane&-536870913,G=P!==E.lane;if(G?(Ee&P)===P:(a&P)===P){P!==0&&P===Oi&&(Qa=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=e,fe=E;P=n;var ze=l;switch(fe.tag){case 1:if(le=fe.payload,typeof le=="function"){V=le.call(ze,V,P);break e}V=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=fe.payload,P=typeof le=="function"?le.call(ze,V,P):le,P==null)break e;V=S({},V,P);break e;case 2:Dn=!0}}P=E.callback,P!==null&&(e.flags|=64,G&&(e.flags|=8192),G=f.callbacks,G===null?f.callbacks=[P]:G.push(P))}else G={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(U=q=G,A=V):q=q.next=G,T|=P;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;G=E,E=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);q===null&&(A=V),f.baseState=A,f.firstBaseUpdate=U,f.lastBaseUpdate=q,p===null&&(f.shared.lanes=0),Bn|=T,e.lanes=T,e.memoizedState=V}}function ud(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function cd(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)ud(l[e],n)}var Qi=N(null),Zl=N(0);function dd(e,n){e=bn,F(Zl,e),F(Qi,n),bn=e|n.baseLanes}function $a(){F(Zl,bn),F(Qi,Qi.current)}function Xa(){bn=Zl.current,H(Qi),H(Zl)}var kt=N(null),Ft=null;function zn(e){var n=e.alternate;F(Xe,Xe.current&1),F(kt,e),Ft===null&&(n===null||Qi.current!==null||n.memoizedState!==null)&&(Ft=e)}function Ka(e){F(Xe,Xe.current),F(kt,e),Ft===null&&(Ft=e)}function fd(e){e.tag===22?(F(Xe,Xe.current),F(kt,e),Ft===null&&(Ft=e)):Pn()}function Pn(){F(Xe,Xe.current),F(kt,kt.current)}function It(e){H(kt),Ft===e&&(Ft=null),H(Xe)}var Xe=N(0);function Wl(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||iu(l)||su(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var hn=0,ye=null,Ue=null,We=null,eo=!1,$i=!1,gi=!1,to=0,Os=0,Xi=null,_0=0;function Qe(){throw Error(o(321))}function Za(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Mt(e[l],n[l]))return!1;return!0}function Wa(e,n,l,a,f,p){return hn=p,ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?$d:hr,gi=!1,p=l(a,f),gi=!1,$i&&(p=hd(n,l,a,f)),md(e),p}function md(e){M.H=Js;var n=Ue!==null&&Ue.next!==null;if(hn=0,We=Ue=ye=null,eo=!1,Os=0,Xi=null,n)throw Error(o(300));e===null||et||(e=e.dependencies,e!==null&&Fl(e)&&(et=!0))}function hd(e,n,l,a){ye=e;var f=0;do{if($i&&(Xi=null),Os=0,$i=!1,25<=f)throw Error(o(301));if(f+=1,We=Ue=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}M.H=Xd,p=n(l,a)}while($i);return p}function N0(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?Fs(n):n,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(ye.flags|=1024),n}function er(){var e=to!==0;return to=0,e}function tr(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function nr(e){if(eo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}eo=!1}hn=0,We=Ue=ye=null,$i=!1,Os=to=0,Xi=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?ye.memoizedState=We=e:We=We.next=e,We}function Ke(){if(Ue===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var n=We===null?ye.memoizedState:We.next;if(n!==null)We=n,Ue=e;else{if(e===null)throw ye.alternate===null?Error(o(467)):Error(o(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},We===null?ye.memoizedState=We=e:We=We.next=e}return We}function no(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fs(e){var n=Os;return Os+=1,Xi===null&&(Xi=[]),e=sd(Xi,e,n),n=ye,(We===null?n.memoizedState:We.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?$d:hr),e}function io(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fs(e);if(e.$$typeof===L)return rt(e)}throw Error(o(438,String(e)))}function ir(e){var n=null,l=ye.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var a=ye.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=no(),ye.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),a=0;a<e;a++)l[a]=Z;return n.index++,l}function pn(e,n){return typeof n=="function"?n(e):n}function so(e){var n=Ke();return sr(n,Ue,e)}function sr(e,n,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var f=e.baseQueue,p=a.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}n.baseQueue=f=p,a.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{n=f.next;var E=T=null,A=null,U=n,q=!1;do{var V=U.lane&-536870913;if(V!==U.lane?(Ee&V)===V:(hn&V)===V){var P=U.revertLane;if(P===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),V===Oi&&(q=!0);else if((hn&P)===P){U=U.next,P===Oi&&(q=!0);continue}else V={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(E=A=V,T=p):A=A.next=V,ye.lanes|=P,Bn|=P;V=U.action,gi&&l(p,V),p=U.hasEagerState?U.eagerState:l(p,V)}else P={lane:V,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(E=A=P,T=p):A=A.next=P,ye.lanes|=V,Bn|=V;U=U.next}while(U!==null&&U!==n);if(A===null?T=p:A.next=E,!Mt(p,e.memoizedState)&&(et=!0,q&&(l=Fi,l!==null)))throw l;e.memoizedState=p,e.baseState=T,e.baseQueue=A,a.lastRenderedState=p}return f===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function lr(e){var n=Ke(),l=n.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,f=l.pending,p=n.memoizedState;if(f!==null){l.pending=null;var T=f=f.next;do p=e(p,T.action),T=T.next;while(T!==f);Mt(p,n.memoizedState)||(et=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),l.lastRenderedState=p}return[p,a]}function pd(e,n,l){var a=ye,f=Ke(),p=Ae;if(p){if(l===void 0)throw Error(o(407));l=l()}else l=n();var T=!Mt((Ue||f).memoizedState,l);if(T&&(f.memoizedState=l,et=!0),f=f.queue,rr(xd.bind(null,a,f,e),[e]),f.getSnapshot!==n||T||We!==null&&We.memoizedState.tag&1){if(a.flags|=2048,Ki(9,{destroy:void 0},yd.bind(null,a,f,l,n),null),qe===null)throw Error(o(349));p||(hn&127)!==0||gd(a,n,l)}return l}function gd(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=ye.updateQueue,n===null?(n=no(),ye.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function yd(e,n,l,a){n.value=l,n.getSnapshot=a,vd(n)&&Td(e)}function xd(e,n,l){return l(function(){vd(n)&&Td(e)})}function vd(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Mt(e,l)}catch{return!0}}function Td(e){var n=ai(e,2);n!==null&&Et(n,e,2)}function or(e){var n=ht();if(typeof e=="function"){var l=e;if(e=l(),gi){wn(!0);try{l()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:e},n}function Sd(e,n,l,a){return e.baseState=l,sr(e,Ue,typeof a=="function"?a:pn)}function M0(e,n,l,a,f){if(ao(e))throw Error(o(485));if(e=n.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};M.T!==null?l(!0):p.isTransition=!1,a(p),l=n.pending,l===null?(p.next=n.pending=p,bd(n,p)):(p.next=l.next,n.pending=l.next=p)}}function bd(e,n){var l=n.action,a=n.payload,f=e.state;if(n.isTransition){var p=M.T,T={};M.T=T;try{var E=l(f,a),A=M.S;A!==null&&A(T,E),Ed(e,n,E)}catch(U){ar(e,n,U)}finally{p!==null&&T.types!==null&&(p.types=T.types),M.T=p}}else try{p=l(f,a),Ed(e,n,p)}catch(U){ar(e,n,U)}}function Ed(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Cd(e,n,a)},function(a){return ar(e,n,a)}):Cd(e,n,l)}function Cd(e,n,l){n.status="fulfilled",n.value=l,Ad(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,bd(e,l)))}function ar(e,n,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=l,Ad(n),n=n.next;while(n!==a)}e.action=null}function Ad(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function wd(e,n){return n}function _d(e,n){if(Ae){var l=qe.formState;if(l!==null){e:{var a=ye;if(Ae){if(Ve){t:{for(var f=Ve,p=Ot;f.nodeType!==8;){if(!p){f=null;break t}if(f=Yt(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Ve=Yt(f.nextSibling),a=f.data==="F!";break e}}kn(a)}a=!1}a&&(n=l[0])}}return l=ht(),l.memoizedState=l.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wd,lastRenderedState:n},l.queue=a,l=Yd.bind(null,ye,a),a.dispatch=l,a=or(!1),p=mr.bind(null,ye,!1,a.queue),a=ht(),f={state:n,dispatch:null,action:e,pending:null},a.queue=f,l=M0.bind(null,ye,f,p,l),f.dispatch=l,a.memoizedState=e,[n,l,!1]}function Nd(e){var n=Ke();return Md(n,Ue,e)}function Md(e,n,l){if(n=sr(e,n,wd)[0],e=so(pn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=Fs(n)}catch(T){throw T===Yi?Ql:T}else a=n;n=Ke();var f=n.queue,p=f.dispatch;return l!==n.memoizedState&&(ye.flags|=2048,Ki(9,{destroy:void 0},R0.bind(null,f,l),null)),[a,p,e]}function R0(e,n){e.action=n}function Rd(e){var n=Ke(),l=Ue;if(l!==null)return Md(n,l,e);Ke(),n=n.memoizedState,l=Ke();var a=l.queue.dispatch;return l.memoizedState=e,[n,a,!1]}function Ki(e,n,l,a){return e={tag:e,create:l,deps:a,inst:n,next:null},n=ye.updateQueue,n===null&&(n=no(),ye.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,n.lastEffect=e),e}function kd(){return Ke().memoizedState}function lo(e,n,l,a){var f=ht();ye.flags|=e,f.memoizedState=Ki(1|n,{destroy:void 0},l,a===void 0?null:a)}function oo(e,n,l,a){var f=Ke();a=a===void 0?null:a;var p=f.memoizedState.inst;Ue!==null&&a!==null&&Za(a,Ue.memoizedState.deps)?f.memoizedState=Ki(n,p,l,a):(ye.flags|=e,f.memoizedState=Ki(1|n,p,l,a))}function Id(e,n){lo(8390656,8,e,n)}function rr(e,n){oo(2048,8,e,n)}function k0(e){ye.flags|=4;var n=ye.updateQueue;if(n===null)n=no(),ye.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Dd(e){var n=Ke().memoizedState;return k0({ref:n,nextImpl:e}),function(){if((Re&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Ud(e,n){return oo(4,2,e,n)}function Ld(e,n){return oo(4,4,e,n)}function zd(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Pd(e,n,l){l=l!=null?l.concat([e]):null,oo(4,4,zd.bind(null,n,e),l)}function ur(){}function Gd(e,n){var l=Ke();n=n===void 0?null:n;var a=l.memoizedState;return n!==null&&Za(n,a[1])?a[0]:(l.memoizedState=[e,n],e)}function qd(e,n){var l=Ke();n=n===void 0?null:n;var a=l.memoizedState;if(n!==null&&Za(n,a[1]))return a[0];if(a=e(),gi){wn(!0);try{e()}finally{wn(!1)}}return l.memoizedState=[a,n],a}function cr(e,n,l){return l===void 0||(hn&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Hf(),ye.lanes|=e,Bn|=e,l)}function Bd(e,n,l,a){return Mt(l,n)?l:Qi.current!==null?(e=cr(e,l,a),Mt(e,n)||(et=!0),e):(hn&42)===0||(hn&1073741824)!==0&&(Ee&261930)===0?(et=!0,e.memoizedState=l):(e=Hf(),ye.lanes|=e,Bn|=e,n)}function Hd(e,n,l,a,f){var p=z.p;z.p=p!==0&&8>p?p:8;var T=M.T,E={};M.T=E,mr(e,!1,n,l);try{var A=f(),U=M.S;if(U!==null&&U(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var q=w0(A,a);Ys(e,n,q,Lt(e))}else Ys(e,n,a,Lt(e))}catch(V){Ys(e,n,{then:function(){},status:"rejected",reason:V},Lt())}finally{z.p=p,T!==null&&E.types!==null&&(T.types=E.types),M.T=T}}function I0(){}function dr(e,n,l,a){if(e.tag!==5)throw Error(o(476));var f=Vd(e).queue;Hd(e,f,n,K,l===null?I0:function(){return jd(e),l(a)})}function Vd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:K},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function jd(e){var n=Vd(e);n.next===null&&(n=e.alternate.memoizedState),Ys(e,n.next.queue,{},Lt())}function fr(){return rt(ul)}function Od(){return Ke().memoizedState}function Fd(){return Ke().memoizedState}function D0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Lt();e=Un(l);var a=Ln(n,e,l);a!==null&&(Et(a,n,l),Hs(a,n,l)),n={cache:Ha()},e.payload=n;return}n=n.return}}function U0(e,n,l){var a=Lt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ao(e)?Jd(n,l):(l=Ra(e,n,l,a),l!==null&&(Et(l,e,a),Qd(l,n,a)))}function Yd(e,n,l){var a=Lt();Ys(e,n,l,a)}function Ys(e,n,l,a){var f={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ao(e))Jd(n,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var T=n.lastRenderedState,E=p(T,l);if(f.hasEagerState=!0,f.eagerState=E,Mt(E,T))return Hl(e,n,f,0),qe===null&&Bl(),!1}catch{}finally{}if(l=Ra(e,n,f,a),l!==null)return Et(l,e,a),Qd(l,n,a),!0}return!1}function mr(e,n,l,a){if(a={lane:2,revertLane:Fr(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ao(e)){if(n)throw Error(o(479))}else n=Ra(e,l,a,2),n!==null&&Et(n,e,2)}function ao(e){var n=e.alternate;return e===ye||n!==null&&n===ye}function Jd(e,n){$i=eo=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Qd(e,n,l){if((l&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,Wu(e,l)}}var Js={readContext:rt,use:io,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};Js.useEffectEvent=Qe;var $d={readContext:rt,use:io,useCallback:function(e,n){return ht().memoizedState=[e,n===void 0?null:n],e},useContext:rt,useEffect:Id,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,lo(4194308,4,zd.bind(null,n,e),l)},useLayoutEffect:function(e,n){return lo(4194308,4,e,n)},useInsertionEffect:function(e,n){lo(4,2,e,n)},useMemo:function(e,n){var l=ht();n=n===void 0?null:n;var a=e();if(gi){wn(!0);try{e()}finally{wn(!1)}}return l.memoizedState=[a,n],a},useReducer:function(e,n,l){var a=ht();if(l!==void 0){var f=l(n);if(gi){wn(!0);try{l(n)}finally{wn(!1)}}}else f=n;return a.memoizedState=a.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},a.queue=e,e=e.dispatch=U0.bind(null,ye,e),[a.memoizedState,e]},useRef:function(e){var n=ht();return e={current:e},n.memoizedState=e},useState:function(e){e=or(e);var n=e.queue,l=Yd.bind(null,ye,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:ur,useDeferredValue:function(e,n){var l=ht();return cr(l,e,n)},useTransition:function(){var e=or(!1);return e=Hd.bind(null,ye,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var a=ye,f=ht();if(Ae){if(l===void 0)throw Error(o(407));l=l()}else{if(l=n(),qe===null)throw Error(o(349));(Ee&127)!==0||gd(a,n,l)}f.memoizedState=l;var p={value:l,getSnapshot:n};return f.queue=p,Id(xd.bind(null,a,p,e),[e]),a.flags|=2048,Ki(9,{destroy:void 0},yd.bind(null,a,p,l,n),null),l},useId:function(){var e=ht(),n=qe.identifierPrefix;if(Ae){var l=sn,a=nn;l=(a&~(1<<32-Nt(a)-1)).toString(32)+l,n="_"+n+"R_"+l,l=to++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=_0++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:fr,useFormState:_d,useActionState:_d,useOptimistic:function(e){var n=ht();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=mr.bind(null,ye,!0,l),l.dispatch=n,[e,n]},useMemoCache:ir,useCacheRefresh:function(){return ht().memoizedState=D0.bind(null,ye)},useEffectEvent:function(e){var n=ht(),l={impl:e};return n.memoizedState=l,function(){if((Re&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},hr={readContext:rt,use:io,useCallback:Gd,useContext:rt,useEffect:rr,useImperativeHandle:Pd,useInsertionEffect:Ud,useLayoutEffect:Ld,useMemo:qd,useReducer:so,useRef:kd,useState:function(){return so(pn)},useDebugValue:ur,useDeferredValue:function(e,n){var l=Ke();return Bd(l,Ue.memoizedState,e,n)},useTransition:function(){var e=so(pn)[0],n=Ke().memoizedState;return[typeof e=="boolean"?e:Fs(e),n]},useSyncExternalStore:pd,useId:Od,useHostTransitionStatus:fr,useFormState:Nd,useActionState:Nd,useOptimistic:function(e,n){var l=Ke();return Sd(l,Ue,e,n)},useMemoCache:ir,useCacheRefresh:Fd};hr.useEffectEvent=Dd;var Xd={readContext:rt,use:io,useCallback:Gd,useContext:rt,useEffect:rr,useImperativeHandle:Pd,useInsertionEffect:Ud,useLayoutEffect:Ld,useMemo:qd,useReducer:lr,useRef:kd,useState:function(){return lr(pn)},useDebugValue:ur,useDeferredValue:function(e,n){var l=Ke();return Ue===null?cr(l,e,n):Bd(l,Ue.memoizedState,e,n)},useTransition:function(){var e=lr(pn)[0],n=Ke().memoizedState;return[typeof e=="boolean"?e:Fs(e),n]},useSyncExternalStore:pd,useId:Od,useHostTransitionStatus:fr,useFormState:Rd,useActionState:Rd,useOptimistic:function(e,n){var l=Ke();return Ue!==null?Sd(l,Ue,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:ir,useCacheRefresh:Fd};Xd.useEffectEvent=Dd;function pr(e,n,l,a){n=e.memoizedState,l=l(a,n),l=l==null?n:S({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var gr={enqueueSetState:function(e,n,l){e=e._reactInternals;var a=Lt(),f=Un(a);f.payload=n,l!=null&&(f.callback=l),n=Ln(e,f,a),n!==null&&(Et(n,e,a),Hs(n,e,a))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var a=Lt(),f=Un(a);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=Ln(e,f,a),n!==null&&(Et(n,e,a),Hs(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Lt(),a=Un(l);a.tag=2,n!=null&&(a.callback=n),n=Ln(e,a,l),n!==null&&(Et(n,e,l),Hs(n,e,l))}};function Kd(e,n,l,a,f,p,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,p,T):n.prototype&&n.prototype.isPureReactComponent?!Ds(l,a)||!Ds(f,p):!0}function Zd(e,n,l,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,a),n.state!==e&&gr.enqueueReplaceState(n,n.state,null)}function yi(e,n){var l=n;if("ref"in n){l={};for(var a in n)a!=="ref"&&(l[a]=n[a])}if(e=e.defaultProps){l===n&&(l=S({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}function Wd(e){ql(e)}function ef(e){console.error(e)}function tf(e){ql(e)}function ro(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function nf(e,n,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yr(e,n,l){return l=Un(l),l.tag=3,l.payload={element:null},l.callback=function(){ro(e,n)},l}function sf(e){return e=Un(e),e.tag=3,e}function lf(e,n,l,a){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var p=a.value;e.payload=function(){return f(p)},e.callback=function(){nf(n,l,a)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){nf(n,l,a),typeof f!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})})}function L0(e,n,l,a,f){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=l.alternate,n!==null&&ji(n,l,f,!0),l=kt.current,l!==null){switch(l.tag){case 31:case 13:return Ft===null?So():l.alternate===null&&$e===0&&($e=3),l.flags&=-257,l.flags|=65536,l.lanes=f,a===$l?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([a]):n.add(a),Vr(e,a,f)),!1;case 22:return l.flags|=65536,a===$l?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([a]):l.add(a)),Vr(e,a,f)),!1}throw Error(o(435,l.tag))}return Vr(e,a,f),So(),!1}if(Ae)return n=kt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,a!==za&&(e=Error(o(422),{cause:a}),zs(Ht(e,l)))):(a!==za&&(n=Error(o(423),{cause:a}),zs(Ht(n,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,a=Ht(a,l),f=yr(e.stateNode,a,f),Ja(e,f),$e!==4&&($e=2)),!1;var p=Error(o(520),{cause:a});if(p=Ht(p,l),tl===null?tl=[p]:tl.push(p),$e!==4&&($e=2),n===null)return!0;a=Ht(a,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=yr(l.stateNode,a,e),Ja(l,e),!1;case 1:if(n=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Hn===null||!Hn.has(p))))return l.flags|=65536,f&=-f,l.lanes|=f,f=sf(f),lf(f,e,l,a),Ja(l,f),!1}l=l.return}while(l!==null);return!1}var xr=Error(o(461)),et=!1;function ut(e,n,l,a){n.child=e===null?rd(n,null,l,a):pi(n,e.child,l,a)}function of(e,n,l,a,f){l=l.render;var p=n.ref;if("ref"in a){var T={};for(var E in a)E!=="ref"&&(T[E]=a[E])}else T=a;return di(n),a=Wa(e,n,l,T,p,f),E=er(),e!==null&&!et?(tr(e,n,f),gn(e,n,f)):(Ae&&E&&Ua(n),n.flags|=1,ut(e,n,a,f),n.child)}function af(e,n,l,a,f){if(e===null){var p=l.type;return typeof p=="function"&&!ka(p)&&p.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=p,rf(e,n,p,a,f)):(e=jl(l.type,null,a,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!wr(e,f)){var T=p.memoizedProps;if(l=l.compare,l=l!==null?l:Ds,l(T,a)&&e.ref===n.ref)return gn(e,n,f)}return n.flags|=1,e=cn(p,a),e.ref=n.ref,e.return=n,n.child=e}function rf(e,n,l,a,f){if(e!==null){var p=e.memoizedProps;if(Ds(p,a)&&e.ref===n.ref)if(et=!1,n.pendingProps=a=p,wr(e,f))(e.flags&131072)!==0&&(et=!0);else return n.lanes=e.lanes,gn(e,n,f)}return vr(e,n,l,a,f)}function uf(e,n,l,a){var f=a.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,e!==null){for(a=n.child=e.child,f=0;a!==null;)f=f|a.lanes|a.childLanes,a=a.sibling;a=f&~p}else a=0,n.child=null;return cf(e,n,p,l,a)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jl(n,p!==null?p.cachePool:null),p!==null?dd(n,p):$a(),fd(n);else return a=n.lanes=536870912,cf(e,n,p!==null?p.baseLanes|l:l,l,a)}else p!==null?(Jl(n,p.cachePool),dd(n,p),Pn(),n.memoizedState=null):(e!==null&&Jl(n,null),$a(),Pn());return ut(e,n,f,l),n.child}function Qs(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cf(e,n,l,a,f){var p=ja();return p=p===null?null:{parent:Ze._currentValue,pool:p},n.memoizedState={baseLanes:l,cachePool:p},e!==null&&Jl(n,null),$a(),fd(n),e!==null&&ji(e,n,a,!0),n.childLanes=f,null}function uo(e,n){return n=fo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function df(e,n,l){return pi(n,e.child,null,l),e=uo(n,n.pendingProps),e.flags|=2,It(n),n.memoizedState=null,e}function z0(e,n,l){var a=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ae){if(a.mode==="hidden")return e=uo(n,a),n.lanes=536870912,Qs(null,e);if(Ka(n),(e=Ve)?(e=Em(e,Ot),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Mn!==null?{id:nn,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},l=Jc(e),l.return=n,n.child=l,at=n,Ve=null)):e=null,e===null)throw kn(n);return n.lanes=536870912,null}return uo(n,a)}var p=e.memoizedState;if(p!==null){var T=p.dehydrated;if(Ka(n),f)if(n.flags&256)n.flags&=-257,n=df(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(et||ji(e,n,l,!1),f=(l&e.childLanes)!==0,et||f){if(a=qe,a!==null&&(T=ec(a,l),T!==0&&T!==p.retryLane))throw p.retryLane=T,ai(e,T),Et(a,e,T),xr;So(),n=df(e,n,l)}else e=p.treeContext,Ve=Yt(T.nextSibling),at=n,Ae=!0,Rn=null,Ot=!1,e!==null&&Xc(n,e),n=uo(n,a),n.flags|=4096;return n}return e=cn(e.child,{mode:a.mode,children:a.children}),e.ref=n.ref,n.child=e,e.return=n,e}function co(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function vr(e,n,l,a,f){return di(n),l=Wa(e,n,l,a,void 0,f),a=er(),e!==null&&!et?(tr(e,n,f),gn(e,n,f)):(Ae&&a&&Ua(n),n.flags|=1,ut(e,n,l,f),n.child)}function ff(e,n,l,a,f,p){return di(n),n.updateQueue=null,l=hd(n,a,l,f),md(e),a=er(),e!==null&&!et?(tr(e,n,p),gn(e,n,p)):(Ae&&a&&Ua(n),n.flags|=1,ut(e,n,l,p),n.child)}function mf(e,n,l,a,f){if(di(n),n.stateNode===null){var p=qi,T=l.contextType;typeof T=="object"&&T!==null&&(p=rt(T)),p=new l(a,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=gr,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=a,p.state=n.memoizedState,p.refs={},Fa(n),T=l.contextType,p.context=typeof T=="object"&&T!==null?rt(T):qi,p.state=n.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(pr(n,l,T,a),p.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&gr.enqueueReplaceState(p,p.state,null),js(n,a,p,f),Vs(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){p=n.stateNode;var E=n.memoizedProps,A=yi(l,E);p.props=A;var U=p.context,q=l.contextType;T=qi,typeof q=="object"&&q!==null&&(T=rt(q));var V=l.getDerivedStateFromProps;q=typeof V=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||U!==T)&&Zd(n,p,a,T),Dn=!1;var P=n.memoizedState;p.state=P,js(n,a,p,f),Vs(),U=n.memoizedState,E||P!==U||Dn?(typeof V=="function"&&(pr(n,l,V,a),U=n.memoizedState),(A=Dn||Kd(n,l,A,a,P,U,T))?(q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=U),p.props=a,p.state=U,p.context=T,a=A):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{p=n.stateNode,Ya(e,n),T=n.memoizedProps,q=yi(l,T),p.props=q,V=n.pendingProps,P=p.context,U=l.contextType,A=qi,typeof U=="object"&&U!==null&&(A=rt(U)),E=l.getDerivedStateFromProps,(U=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==V||P!==A)&&Zd(n,p,a,A),Dn=!1,P=n.memoizedState,p.state=P,js(n,a,p,f),Vs();var G=n.memoizedState;T!==V||P!==G||Dn||e!==null&&e.dependencies!==null&&Fl(e.dependencies)?(typeof E=="function"&&(pr(n,l,E,a),G=n.memoizedState),(q=Dn||Kd(n,l,q,a,P,G,A)||e!==null&&e.dependencies!==null&&Fl(e.dependencies))?(U||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,G,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,G,A)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=G),p.props=a,p.state=G,p.context=A,a=q):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),a=!1)}return p=a,co(e,n),a=(n.flags&128)!==0,p||a?(p=n.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&a?(n.child=pi(n,e.child,null,f),n.child=pi(n,null,l,f)):ut(e,n,l,f),n.memoizedState=p.state,e=n.child):e=gn(e,n,f),e}function hf(e,n,l,a){return ui(),n.flags|=256,ut(e,n,l,a),n.child}var Tr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sr(e){return{baseLanes:e,cachePool:nd()}}function br(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Ut),e}function pf(e,n,l){var a=n.pendingProps,f=!1,p=(n.flags&128)!==0,T;if((T=p)||(T=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),T&&(f=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ae){if(f?zn(n):Pn(),(e=Ve)?(e=Em(e,Ot),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Mn!==null?{id:nn,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},l=Jc(e),l.return=n,n.child=l,at=n,Ve=null)):e=null,e===null)throw kn(n);return su(e)?n.lanes=32:n.lanes=536870912,null}var E=a.children;return a=a.fallback,f?(Pn(),f=n.mode,E=fo({mode:"hidden",children:E},f),a=ri(a,f,l,null),E.return=n,a.return=n,E.sibling=a,n.child=E,a=n.child,a.memoizedState=Sr(l),a.childLanes=br(e,T,l),n.memoizedState=Tr,Qs(null,a)):(zn(n),Er(n,E))}var A=e.memoizedState;if(A!==null&&(E=A.dehydrated,E!==null)){if(p)n.flags&256?(zn(n),n.flags&=-257,n=Cr(e,n,l)):n.memoizedState!==null?(Pn(),n.child=e.child,n.flags|=128,n=null):(Pn(),E=a.fallback,f=n.mode,a=fo({mode:"visible",children:a.children},f),E=ri(E,f,l,null),E.flags|=2,a.return=n,E.return=n,a.sibling=E,n.child=a,pi(n,e.child,null,l),a=n.child,a.memoizedState=Sr(l),a.childLanes=br(e,T,l),n.memoizedState=Tr,n=Qs(null,a));else if(zn(n),su(E)){if(T=E.nextSibling&&E.nextSibling.dataset,T)var U=T.dgst;T=U,a=Error(o(419)),a.stack="",a.digest=T,zs({value:a,source:null,stack:null}),n=Cr(e,n,l)}else if(et||ji(e,n,l,!1),T=(l&e.childLanes)!==0,et||T){if(T=qe,T!==null&&(a=ec(T,l),a!==0&&a!==A.retryLane))throw A.retryLane=a,ai(e,a),Et(T,e,a),xr;iu(E)||So(),n=Cr(e,n,l)}else iu(E)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Ve=Yt(E.nextSibling),at=n,Ae=!0,Rn=null,Ot=!1,e!==null&&Xc(n,e),n=Er(n,a.children),n.flags|=4096);return n}return f?(Pn(),E=a.fallback,f=n.mode,A=e.child,U=A.sibling,a=cn(A,{mode:"hidden",children:a.children}),a.subtreeFlags=A.subtreeFlags&65011712,U!==null?E=cn(U,E):(E=ri(E,f,l,null),E.flags|=2),E.return=n,a.return=n,a.sibling=E,n.child=a,Qs(null,a),a=n.child,E=e.child.memoizedState,E===null?E=Sr(l):(f=E.cachePool,f!==null?(A=Ze._currentValue,f=f.parent!==A?{parent:A,pool:A}:f):f=nd(),E={baseLanes:E.baseLanes|l,cachePool:f}),a.memoizedState=E,a.childLanes=br(e,T,l),n.memoizedState=Tr,Qs(e.child,a)):(zn(n),l=e.child,e=l.sibling,l=cn(l,{mode:"visible",children:a.children}),l.return=n,l.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=l,n.memoizedState=null,l)}function Er(e,n){return n=fo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function fo(e,n){return e=Rt(22,e,null,n),e.lanes=0,e}function Cr(e,n,l){return pi(n,e.child,null,l),e=Er(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gf(e,n,l){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),qa(e.return,n,l)}function Ar(e,n,l,a,f,p){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:f,treeForkCount:p}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=a,T.tail=l,T.tailMode=f,T.treeForkCount=p)}function yf(e,n,l){var a=n.pendingProps,f=a.revealOrder,p=a.tail;a=a.children;var T=Xe.current,E=(T&2)!==0;if(E?(T=T&1|2,n.flags|=128):T&=1,F(Xe,T),ut(e,n,a,l),a=Ae?Ls:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gf(e,l,n);else if(e.tag===19)gf(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(l=n.child,f=null;l!==null;)e=l.alternate,e!==null&&Wl(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),Ar(n,!1,f,l,p,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Wl(e)===null){n.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}Ar(n,!0,l,null,p,a);break;case"together":Ar(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function gn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Bn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(ji(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,l=cn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=cn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function wr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Fl(e)))}function P0(e,n,l){switch(n.tag){case 3:Fe(n,n.stateNode.containerInfo),In(n,Ze,e.memoizedState.cache),ui();break;case 27:case 5:Ct(n);break;case 4:Fe(n,n.stateNode.containerInfo);break;case 10:In(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ka(n),null;break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(zn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?pf(e,n,l):(zn(n),e=gn(e,n,l),e!==null?e.sibling:null);zn(n);break;case 19:var f=(e.flags&128)!==0;if(a=(l&n.childLanes)!==0,a||(ji(e,n,l,!1),a=(l&n.childLanes)!==0),f){if(a)return yf(e,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),F(Xe,Xe.current),a)break;return null;case 22:return n.lanes=0,uf(e,n,l,n.pendingProps);case 24:In(n,Ze,e.memoizedState.cache)}return gn(e,n,l)}function xf(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)et=!0;else{if(!wr(e,l)&&(n.flags&128)===0)return et=!1,P0(e,n,l);et=(e.flags&131072)!==0}else et=!1,Ae&&(n.flags&1048576)!==0&&$c(n,Ls,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(e=mi(n.elementType),n.type=e,typeof e=="function")ka(e)?(a=yi(e,a),n.tag=1,n=mf(null,n,e,a,l)):(n.tag=0,n=vr(null,n,e,a,l));else{if(e!=null){var f=e.$$typeof;if(f===O){n.tag=11,n=of(null,n,e,a,l);break e}else if(f===$){n.tag=14,n=af(null,n,e,a,l);break e}}throw n=me(e)||e,Error(o(306,n,""))}}return n;case 0:return vr(e,n,n.type,n.pendingProps,l);case 1:return a=n.type,f=yi(a,n.pendingProps),mf(e,n,a,f,l);case 3:e:{if(Fe(n,n.stateNode.containerInfo),e===null)throw Error(o(387));a=n.pendingProps;var p=n.memoizedState;f=p.element,Ya(e,n),js(n,a,null,l);var T=n.memoizedState;if(a=T.cache,In(n,Ze,a),a!==p.cache&&Ba(n,[Ze],l,!0),Vs(),a=T.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=hf(e,n,a,l);break e}else if(a!==f){f=Ht(Error(o(424)),n),zs(f),n=hf(e,n,a,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Yt(e.firstChild),at=n,Ae=!0,Rn=null,Ot=!0,l=rd(n,null,a,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ui(),a===f){n=gn(e,n,l);break e}ut(e,n,a,l)}n=n.child}return n;case 26:return co(e,n),e===null?(l=Mm(n.type,null,n.pendingProps,null))?n.memoizedState=l:Ae||(l=n.type,e=n.pendingProps,a=No(pe.current).createElement(l),a[ot]=n,a[yt]=e,ct(a,l,e),it(a),n.stateNode=a):n.memoizedState=Mm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ct(n),e===null&&Ae&&(a=n.stateNode=wm(n.type,n.pendingProps,pe.current),at=n,Ot=!0,f=Ve,Fn(n.type)?(lu=f,Ve=Yt(a.firstChild)):Ve=f),ut(e,n,n.pendingProps.children,l),co(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ae&&((f=a=Ve)&&(a=my(a,n.type,n.pendingProps,Ot),a!==null?(n.stateNode=a,at=n,Ve=Yt(a.firstChild),Ot=!1,f=!0):f=!1),f||kn(n)),Ct(n),f=n.type,p=n.pendingProps,T=e!==null?e.memoizedProps:null,a=p.children,eu(f,p)?a=null:T!==null&&eu(f,T)&&(n.flags|=32),n.memoizedState!==null&&(f=Wa(e,n,N0,null,null,l),ul._currentValue=f),co(e,n),ut(e,n,a,l),n.child;case 6:return e===null&&Ae&&((e=l=Ve)&&(l=hy(l,n.pendingProps,Ot),l!==null?(n.stateNode=l,at=n,Ve=null,e=!0):e=!1),e||kn(n)),null;case 13:return pf(e,n,l);case 4:return Fe(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=pi(n,null,a,l):ut(e,n,a,l),n.child;case 11:return of(e,n,n.type,n.pendingProps,l);case 7:return ut(e,n,n.pendingProps,l),n.child;case 8:return ut(e,n,n.pendingProps.children,l),n.child;case 12:return ut(e,n,n.pendingProps.children,l),n.child;case 10:return a=n.pendingProps,In(n,n.type,a.value),ut(e,n,a.children,l),n.child;case 9:return f=n.type._context,a=n.pendingProps.children,di(n),f=rt(f),a=a(f),n.flags|=1,ut(e,n,a,l),n.child;case 14:return af(e,n,n.type,n.pendingProps,l);case 15:return rf(e,n,n.type,n.pendingProps,l);case 19:return yf(e,n,l);case 31:return z0(e,n,l);case 22:return uf(e,n,l,n.pendingProps);case 24:return di(n),a=rt(Ze),e===null?(f=ja(),f===null&&(f=qe,p=Ha(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=l),f=p),n.memoizedState={parent:a,cache:f},Fa(n),In(n,Ze,f)):((e.lanes&l)!==0&&(Ya(e,n),js(n,null,null,l),Vs()),f=e.memoizedState,p=n.memoizedState,f.parent!==a?(f={parent:a,cache:a},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),In(n,Ze,a)):(a=p.cache,In(n,Ze,a),a!==f.cache&&Ba(n,[Ze],l,!0))),ut(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function yn(e){e.flags|=4}function _r(e,n,l,a,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Ff())e.flags|=8192;else throw hi=$l,Oa}else e.flags&=-16777217}function vf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Um(n))if(Ff())e.flags|=8192;else throw hi=$l,Oa}function mo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ku():536870912,e.lanes|=n,ts|=n)}function $s(e,n){if(!Ae)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function je(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(n)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,a|=f.subtreeFlags&65011712,a|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,a|=f.subtreeFlags,a|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=a,e.childLanes=l,n}function G0(e,n,l){var a=n.pendingProps;switch(La(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(n),null;case 1:return je(n),null;case 3:return l=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),mn(Ze),Ge(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Vi(n)?yn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Pa())),je(n),null;case 26:var f=n.type,p=n.memoizedState;return e===null?(yn(n),p!==null?(je(n),vf(n,p)):(je(n),_r(n,f,null,a,l))):p?p!==e.memoizedState?(yn(n),je(n),vf(n,p)):(je(n),n.flags&=-16777217):(e=e.memoizedProps,e!==a&&yn(n),je(n),_r(n,f,e,a,l)),null;case 27:if(Ai(n),l=pe.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&yn(n);else{if(!a){if(n.stateNode===null)throw Error(o(166));return je(n),null}e=Q.current,Vi(n)?Kc(n):(e=wm(f,a,l),n.stateNode=e,yn(n))}return je(n),null;case 5:if(Ai(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&yn(n);else{if(!a){if(n.stateNode===null)throw Error(o(166));return je(n),null}if(p=Q.current,Vi(n))Kc(n);else{var T=No(pe.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof a.is=="string"?T.createElement("select",{is:a.is}):T.createElement("select"),a.multiple?p.multiple=!0:a.size&&(p.size=a.size);break;default:p=typeof a.is=="string"?T.createElement(f,{is:a.is}):T.createElement(f)}}p[ot]=n,p[yt]=a;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=p;e:switch(ct(p,f,a),f){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&yn(n)}}return je(n),_r(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&yn(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(o(166));if(e=pe.current,Vi(n)){if(e=n.stateNode,l=n.memoizedProps,a=null,f=at,f!==null)switch(f.tag){case 27:case 5:a=f.memoizedProps}e[ot]=n,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||pm(e.nodeValue,l)),e||kn(n,!0)}else e=No(e).createTextNode(a),e[ot]=n,n.stateNode=e}return je(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(a=Vi(n),l!==null){if(e===null){if(!a)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[ot]=n}else ui(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;je(n),e=!1}else l=Pa(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(It(n),n):(It(n),null);if((n.flags&128)!==0)throw Error(o(558))}return je(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Vi(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[ot]=n}else ui(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;je(n),f=!1}else f=Pa(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(It(n),n):(It(n),null)}return It(n),(n.flags&128)!==0?(n.lanes=l,n):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=n.child,f=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(f=a.alternate.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==f&&(a.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),mo(n,n.updateQueue),je(n),null);case 4:return Ge(),e===null&&$r(n.stateNode.containerInfo),je(n),null;case 10:return mn(n.type),je(n),null;case 19:if(H(Xe),a=n.memoizedState,a===null)return je(n),null;if(f=(n.flags&128)!==0,p=a.rendering,p===null)if(f)$s(a,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=Wl(e),p!==null){for(n.flags|=128,$s(a,!1),e=p.updateQueue,n.updateQueue=e,mo(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Yc(l,e),l=l.sibling;return F(Xe,Xe.current&1|2),Ae&&dn(n,a.treeForkCount),n.child}e=e.sibling}a.tail!==null&&wt()>xo&&(n.flags|=128,f=!0,$s(a,!1),n.lanes=4194304)}else{if(!f)if(e=Wl(p),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,mo(n,e),$s(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!Ae)return je(n),null}else 2*wt()-a.renderingStartTime>xo&&l!==536870912&&(n.flags|=128,f=!0,$s(a,!1),n.lanes=4194304);a.isBackwards?(p.sibling=n.child,n.child=p):(e=a.last,e!==null?e.sibling=p:n.child=p,a.last=p)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=wt(),e.sibling=null,l=Xe.current,F(Xe,f?l&1|2:l&1),Ae&&dn(n,a.treeForkCount),e):(je(n),null);case 22:case 23:return It(n),Xa(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(l&536870912)!==0&&(n.flags&128)===0&&(je(n),n.subtreeFlags&6&&(n.flags|=8192)):je(n),l=n.updateQueue,l!==null&&mo(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==l&&(n.flags|=2048),e!==null&&H(fi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),mn(Ze),je(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function q0(e,n){switch(La(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return mn(Ze),Ge(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ai(n),null;case 31:if(n.memoizedState!==null){if(It(n),n.alternate===null)throw Error(o(340));ui()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(It(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));ui()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(Xe),null;case 4:return Ge(),null;case 10:return mn(n.type),null;case 22:case 23:return It(n),Xa(),e!==null&&H(fi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return mn(Ze),null;case 25:return null;default:return null}}function Tf(e,n){switch(La(n),n.tag){case 3:mn(Ze),Ge();break;case 26:case 27:case 5:Ai(n);break;case 4:Ge();break;case 31:n.memoizedState!==null&&It(n);break;case 13:It(n);break;case 19:H(Xe);break;case 10:mn(n.type);break;case 22:case 23:It(n),Xa(),e!==null&&H(fi);break;case 24:mn(Ze)}}function Xs(e,n){try{var l=n.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var f=a.next;l=f;do{if((l.tag&e)===e){a=void 0;var p=l.create,T=l.inst;a=p(),T.destroy=a}l=l.next}while(l!==f)}}catch(E){De(n,n.return,E)}}function Gn(e,n,l){try{var a=n.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var p=f.next;a=p;do{if((a.tag&e)===e){var T=a.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,f=n;var A=l,U=E;try{U()}catch(q){De(f,A,q)}}}a=a.next}while(a!==p)}}catch(q){De(n,n.return,q)}}function Sf(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{cd(n,l)}catch(a){De(e,e.return,a)}}}function bf(e,n,l){l.props=yi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){De(e,n,a)}}function Ks(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(f){De(e,n,f)}}function ln(e,n){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(f){De(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){De(e,n,f)}else l.current=null}function Ef(e){var n=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(f){De(e,e.return,f)}}function Nr(e,n,l){try{var a=e.stateNode;ay(a,e.type,l,n),a[yt]=n}catch(f){De(e,e.return,f)}}function Cf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fn(e.type)||e.tag===4}function Mr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rr(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=rn));else if(a!==4&&(a===27&&Fn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Rr(e,n,l),e=e.sibling;e!==null;)Rr(e,n,l),e=e.sibling}function ho(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(a!==4&&(a===27&&Fn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ho(e,n,l),e=e.sibling;e!==null;)ho(e,n,l),e=e.sibling}function Af(e){var n=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);ct(n,a,l),n[ot]=e,n[yt]=l}catch(p){De(e,e.return,p)}}var xn=!1,tt=!1,kr=!1,wf=typeof WeakSet=="function"?WeakSet:Set,st=null;function B0(e,n){if(e=e.containerInfo,Zr=Lo,e=Pc(e),Ca(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var f=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var T=0,E=-1,A=-1,U=0,q=0,V=e,P=null;t:for(;;){for(var G;V!==l||f!==0&&V.nodeType!==3||(E=T+f),V!==p||a!==0&&V.nodeType!==3||(A=T+a),V.nodeType===3&&(T+=V.nodeValue.length),(G=V.firstChild)!==null;)P=V,V=G;for(;;){if(V===e)break t;if(P===l&&++U===f&&(E=T),P===p&&++q===a&&(A=T),(G=V.nextSibling)!==null)break;V=P,P=V.parentNode}V=G}l=E===-1||A===-1?null:{start:E,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wr={focusedElem:e,selectionRange:l},Lo=!1,st=n;st!==null;)if(n=st,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,st=e;else for(;st!==null;){switch(n=st,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)f=e[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,l=n,f=p.memoizedProps,p=p.memoizedState,a=l.stateNode;try{var le=yi(l.type,f);e=a.getSnapshotBeforeUpdate(le,p),a.__reactInternalSnapshotBeforeUpdate=e}catch(fe){De(l,l.return,fe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)nu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,st=e;break}st=n.return}}function _f(e,n,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Tn(e,l),a&4&&Xs(5,l);break;case 1:if(Tn(e,l),a&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(T){De(l,l.return,T)}else{var f=yi(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){De(l,l.return,T)}}a&64&&Sf(l),a&512&&Ks(l,l.return);break;case 3:if(Tn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{cd(e,n)}catch(T){De(l,l.return,T)}}break;case 27:n===null&&a&4&&Af(l);case 26:case 5:Tn(e,l),n===null&&a&4&&Ef(l),a&512&&Ks(l,l.return);break;case 12:Tn(e,l);break;case 31:Tn(e,l),a&4&&Rf(e,l);break;case 13:Tn(e,l),a&4&&kf(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=$0.bind(null,l),py(e,l))));break;case 22:if(a=l.memoizedState!==null||xn,!a){n=n!==null&&n.memoizedState!==null||tt,f=xn;var p=tt;xn=a,(tt=n)&&!p?Sn(e,l,(l.subtreeFlags&8772)!==0):Tn(e,l),xn=f,tt=p}break;case 30:break;default:Tn(e,l)}}function Nf(e){var n=e.alternate;n!==null&&(e.alternate=null,Nf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&aa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,vt=!1;function vn(e,n,l){for(l=l.child;l!==null;)Mf(e,n,l),l=l.sibling}function Mf(e,n,l){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Ss,l)}catch{}switch(l.tag){case 26:tt||ln(l,n),vn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:tt||ln(l,n);var a=Ye,f=vt;Fn(l.type)&&(Ye=l.stateNode,vt=!1),vn(e,n,l),ol(l.stateNode),Ye=a,vt=f;break;case 5:tt||ln(l,n);case 6:if(a=Ye,f=vt,Ye=null,vn(e,n,l),Ye=a,vt=f,Ye!==null)if(vt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(l.stateNode)}catch(p){De(l,n,p)}else try{Ye.removeChild(l.stateNode)}catch(p){De(l,n,p)}break;case 18:Ye!==null&&(vt?(e=Ye,Sm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),us(e)):Sm(Ye,l.stateNode));break;case 4:a=Ye,f=vt,Ye=l.stateNode.containerInfo,vt=!0,vn(e,n,l),Ye=a,vt=f;break;case 0:case 11:case 14:case 15:Gn(2,l,n),tt||Gn(4,l,n),vn(e,n,l);break;case 1:tt||(ln(l,n),a=l.stateNode,typeof a.componentWillUnmount=="function"&&bf(l,n,a)),vn(e,n,l);break;case 21:vn(e,n,l);break;case 22:tt=(a=tt)||l.memoizedState!==null,vn(e,n,l),tt=a;break;default:vn(e,n,l)}}function Rf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{us(e)}catch(l){De(n,n.return,l)}}}function kf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{us(e)}catch(l){De(n,n.return,l)}}function H0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new wf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new wf),n;default:throw Error(o(435,e.tag))}}function po(e,n){var l=H0(e);n.forEach(function(a){if(!l.has(a)){l.add(a);var f=X0.bind(null,e,a);a.then(f,f)}})}function Tt(e,n){var l=n.deletions;if(l!==null)for(var a=0;a<l.length;a++){var f=l[a],p=e,T=n,E=T;e:for(;E!==null;){switch(E.tag){case 27:if(Fn(E.type)){Ye=E.stateNode,vt=!1;break e}break;case 5:Ye=E.stateNode,vt=!1;break e;case 3:case 4:Ye=E.stateNode.containerInfo,vt=!0;break e}E=E.return}if(Ye===null)throw Error(o(160));Mf(p,T,f),Ye=null,vt=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)If(n,e),n=n.sibling}var Wt=null;function If(e,n){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(n,e),St(e),a&4&&(Gn(3,e,e.return),Xs(3,e),Gn(5,e,e.return));break;case 1:Tt(n,e),St(e),a&512&&(tt||l===null||ln(l,l.return)),a&64&&xn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var f=Wt;if(Tt(n,e),St(e),a&512&&(tt||l===null||ln(l,l.return)),a&4){var p=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(a){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Cs]||p[ot]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(a),f.head.insertBefore(p,f.querySelector("head > title"))),ct(p,a,l),p[ot]=e,it(p),a=p;break e;case"link":var T=Im("link","href",f).get(a+(l.href||""));if(T){for(var E=0;E<T.length;E++)if(p=T[E],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(E,1);break t}}p=f.createElement(a),ct(p,a,l),f.head.appendChild(p);break;case"meta":if(T=Im("meta","content",f).get(a+(l.content||""))){for(E=0;E<T.length;E++)if(p=T[E],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(E,1);break t}}p=f.createElement(a),ct(p,a,l),f.head.appendChild(p);break;default:throw Error(o(468,a))}p[ot]=e,it(p),a=p}e.stateNode=a}else Dm(f,e.type,e.stateNode);else e.stateNode=km(f,a,e.memoizedProps);else p!==a?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,a===null?Dm(f,e.type,e.stateNode):km(f,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Nr(e,e.memoizedProps,l.memoizedProps)}break;case 27:Tt(n,e),St(e),a&512&&(tt||l===null||ln(l,l.return)),l!==null&&a&4&&Nr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Tt(n,e),St(e),a&512&&(tt||l===null||ln(l,l.return)),e.flags&32){f=e.stateNode;try{Ii(f,"")}catch(le){De(e,e.return,le)}}a&4&&e.stateNode!=null&&(f=e.memoizedProps,Nr(e,f,l!==null?l.memoizedProps:f)),a&1024&&(kr=!0);break;case 6:if(Tt(n,e),St(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(le){De(e,e.return,le)}}break;case 3:if(ko=null,f=Wt,Wt=Mo(n.containerInfo),Tt(n,e),Wt=f,St(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{us(n.containerInfo)}catch(le){De(e,e.return,le)}kr&&(kr=!1,Df(e));break;case 4:a=Wt,Wt=Mo(e.stateNode.containerInfo),Tt(n,e),St(e),Wt=a;break;case 12:Tt(n,e),St(e);break;case 31:Tt(n,e),St(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,po(e,a)));break;case 13:Tt(n,e),St(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(yo=wt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,po(e,a)));break;case 22:f=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,U=xn,q=tt;if(xn=U||f,tt=q||A,Tt(n,e),tt=q,xn=U,St(e),a&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||A||xn||tt||xi(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){A=l=n;try{if(p=A.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{E=A.stateNode;var V=A.memoizedProps.style,P=V!=null&&V.hasOwnProperty("display")?V.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(le){De(A,A.return,le)}}}else if(n.tag===6){if(l===null){A=n;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(le){De(A,A.return,le)}}}else if(n.tag===18){if(l===null){A=n;try{var G=A.stateNode;f?bm(G,!0):bm(A.stateNode,!1)}catch(le){De(A,A.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,po(e,l))));break;case 19:Tt(n,e),St(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,po(e,a)));break;case 30:break;case 21:break;default:Tt(n,e),St(e)}}function St(e){var n=e.flags;if(n&2){try{for(var l,a=e.return;a!==null;){if(Cf(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var f=l.stateNode,p=Mr(e);ho(e,p,f);break;case 5:var T=l.stateNode;l.flags&32&&(Ii(T,""),l.flags&=-33);var E=Mr(e);ho(e,E,T);break;case 3:case 4:var A=l.stateNode.containerInfo,U=Mr(e);Rr(e,U,A);break;default:throw Error(o(161))}}catch(q){De(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Df(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Df(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Tn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_f(e,n.alternate,n),n=n.sibling}function xi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Gn(4,n,n.return),xi(n);break;case 1:ln(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&bf(n,n.return,l),xi(n);break;case 27:ol(n.stateNode);case 26:case 5:ln(n,n.return),xi(n);break;case 22:n.memoizedState===null&&xi(n);break;case 30:xi(n);break;default:xi(n)}e=e.sibling}}function Sn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,f=e,p=n,T=p.flags;switch(p.tag){case 0:case 11:case 15:Sn(f,p,l),Xs(4,p);break;case 1:if(Sn(f,p,l),a=p,f=a.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){De(a,a.return,U)}if(a=p,f=a.updateQueue,f!==null){var E=a.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)ud(A[f],E)}catch(U){De(a,a.return,U)}}l&&T&64&&Sf(p),Ks(p,p.return);break;case 27:Af(p);case 26:case 5:Sn(f,p,l),l&&a===null&&T&4&&Ef(p),Ks(p,p.return);break;case 12:Sn(f,p,l);break;case 31:Sn(f,p,l),l&&T&4&&Rf(f,p);break;case 13:Sn(f,p,l),l&&T&4&&kf(f,p);break;case 22:p.memoizedState===null&&Sn(f,p,l),Ks(p,p.return);break;case 30:break;default:Sn(f,p,l)}n=n.sibling}}function Ir(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ps(l))}function Dr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ps(e))}function en(e,n,l,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Uf(e,n,l,a),n=n.sibling}function Uf(e,n,l,a){var f=n.flags;switch(n.tag){case 0:case 11:case 15:en(e,n,l,a),f&2048&&Xs(9,n);break;case 1:en(e,n,l,a);break;case 3:en(e,n,l,a),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ps(e)));break;case 12:if(f&2048){en(e,n,l,a),e=n.stateNode;try{var p=n.memoizedProps,T=p.id,E=p.onPostCommit;typeof E=="function"&&E(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){De(n,n.return,A)}}else en(e,n,l,a);break;case 31:en(e,n,l,a);break;case 13:en(e,n,l,a);break;case 23:break;case 22:p=n.stateNode,T=n.alternate,n.memoizedState!==null?p._visibility&2?en(e,n,l,a):Zs(e,n):p._visibility&2?en(e,n,l,a):(p._visibility|=2,Zi(e,n,l,a,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Ir(T,n);break;case 24:en(e,n,l,a),f&2048&&Dr(n.alternate,n);break;default:en(e,n,l,a)}}function Zi(e,n,l,a,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,T=n,E=l,A=a,U=T.flags;switch(T.tag){case 0:case 11:case 15:Zi(p,T,E,A,f),Xs(8,T);break;case 23:break;case 22:var q=T.stateNode;T.memoizedState!==null?q._visibility&2?Zi(p,T,E,A,f):Zs(p,T):(q._visibility|=2,Zi(p,T,E,A,f)),f&&U&2048&&Ir(T.alternate,T);break;case 24:Zi(p,T,E,A,f),f&&U&2048&&Dr(T.alternate,T);break;default:Zi(p,T,E,A,f)}n=n.sibling}}function Zs(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,a=n,f=a.flags;switch(a.tag){case 22:Zs(l,a),f&2048&&Ir(a.alternate,a);break;case 24:Zs(l,a),f&2048&&Dr(a.alternate,a);break;default:Zs(l,a)}n=n.sibling}}var Ws=8192;function Wi(e,n,l){if(e.subtreeFlags&Ws)for(e=e.child;e!==null;)Lf(e,n,l),e=e.sibling}function Lf(e,n,l){switch(e.tag){case 26:Wi(e,n,l),e.flags&Ws&&e.memoizedState!==null&&_y(l,Wt,e.memoizedState,e.memoizedProps);break;case 5:Wi(e,n,l);break;case 3:case 4:var a=Wt;Wt=Mo(e.stateNode.containerInfo),Wi(e,n,l),Wt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ws,Ws=16777216,Wi(e,n,l),Ws=a):Wi(e,n,l));break;default:Wi(e,n,l)}}function zf(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function el(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];st=a,Gf(a,e)}zf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pf(e),e=e.sibling}function Pf(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&Gn(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,go(e)):el(e);break;default:el(e)}}function go(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];st=a,Gf(a,e)}zf(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Gn(8,n,n.return),go(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,go(n));break;default:go(n)}e=e.sibling}}function Gf(e,n){for(;st!==null;){var l=st;switch(l.tag){case 0:case 11:case 15:Gn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ps(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,st=a;else e:for(l=e;st!==null;){a=st;var f=a.sibling,p=a.return;if(Nf(a),a===l){st=null;break e}if(f!==null){f.return=p,st=f;break e}st=p}}}var V0={getCacheForType:function(e){var n=rt(Ze),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return rt(Ze).controller.signal}},j0=typeof WeakMap=="function"?WeakMap:Map,Re=0,qe=null,Te=null,Ee=0,Ie=0,Dt=null,qn=!1,es=!1,Ur=!1,bn=0,$e=0,Bn=0,vi=0,Lr=0,Ut=0,ts=0,tl=null,bt=null,zr=!1,yo=0,qf=0,xo=1/0,vo=null,Hn=null,nt=0,Vn=null,ns=null,En=0,Pr=0,Gr=null,Bf=null,nl=0,qr=null;function Lt(){return(Re&2)!==0&&Ee!==0?Ee&-Ee:M.T!==null?Fr():tc()}function Hf(){if(Ut===0)if((Ee&536870912)===0||Ae){var e=wl;wl<<=1,(wl&3932160)===0&&(wl=262144),Ut=e}else Ut=536870912;return e=kt.current,e!==null&&(e.flags|=32),Ut}function Et(e,n,l){(e===qe&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(is(e,0),jn(e,Ee,Ut,!1)),Es(e,l),((Re&2)===0||e!==qe)&&(e===qe&&((Re&2)===0&&(vi|=l),$e===4&&jn(e,Ee,Ut,!1)),on(e))}function Vf(e,n,l){if((Re&6)!==0)throw Error(o(327));var a=!l&&(n&127)===0&&(n&e.expiredLanes)===0||bs(e,n),f=a?Y0(e,n):Hr(e,n,!0),p=a;do{if(f===0){es&&!a&&jn(e,n,0,!1);break}else{if(l=e.current.alternate,p&&!O0(l)){f=Hr(e,n,!1),p=!1;continue}if(f===2){if(p=n,e.errorRecoveryDisabledLanes&p)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var E=e;f=tl;var A=E.current.memoizedState.isDehydrated;if(A&&(is(E,T).flags|=256),T=Hr(E,T,!1),T!==2){if(Ur&&!A){E.errorRecoveryDisabledLanes|=p,vi|=p,f=4;break e}p=bt,bt=f,p!==null&&(bt===null?bt=p:bt.push.apply(bt,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){is(e,0),jn(e,n,0,!0);break}e:{switch(a=e,p=f,p){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:jn(a,n,Ut,!qn);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(f=yo+300-wt(),10<f)){if(jn(a,n,Ut,!qn),Nl(a,0,!0)!==0)break e;En=n,a.timeoutHandle=vm(jf.bind(null,a,l,bt,vo,zr,n,Ut,vi,ts,qn,p,"Throttled",-0,0),f);break e}jf(a,l,bt,vo,zr,n,Ut,vi,ts,qn,p,null,-0,0)}}break}while(!0);on(e)}function jf(e,n,l,a,f,p,T,E,A,U,q,V,P,G){if(e.timeoutHandle=-1,V=n.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rn},Lf(n,p,V);var le=(p&62914560)===p?yo-wt():(p&4194048)===p?qf-wt():0;if(le=Ny(V,le),le!==null){En=p,e.cancelPendingCommit=le(Kf.bind(null,e,n,p,l,a,f,T,E,A,q,V,null,P,G)),jn(e,p,T,!U);return}}Kf(e,n,p,l,a,f,T,E,A)}function O0(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var f=l[a],p=f.getSnapshot;f=f.value;try{if(!Mt(p(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function jn(e,n,l,a){n&=~Lr,n&=~vi,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var f=n;0<f;){var p=31-Nt(f),T=1<<p;a[p]=-1,f&=~T}l!==0&&Zu(e,l,n)}function To(){return(Re&6)===0?(il(0),!1):!0}function Br(){if(Te!==null){if(Ie===0)var e=Te.return;else e=Te,fn=ci=null,nr(e),Ji=null,qs=0,e=Te;for(;e!==null;)Tf(e.alternate,e),e=e.return;Te=null}}function is(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,cy(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),En=0,Br(),qe=e,Te=l=cn(e.current,null),Ee=n,Ie=0,Dt=null,qn=!1,es=bs(e,n),Ur=!1,ts=Ut=Lr=vi=Bn=$e=0,bt=tl=null,zr=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var f=31-Nt(a),p=1<<f;n|=e[f],a&=~p}return bn=n,Bl(),l}function Of(e,n){ye=null,M.H=Js,n===Yi||n===Ql?(n=ld(),Ie=3):n===Oa?(n=ld(),Ie=4):Ie=n===xr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dt=n,Te===null&&($e=1,ro(e,Ht(n,e.current)))}function Ff(){var e=kt.current;return e===null?!0:(Ee&4194048)===Ee?Ft===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Ft:!1}function Yf(){var e=M.H;return M.H=Js,e===null?Js:e}function Jf(){var e=M.A;return M.A=V0,e}function So(){$e=4,qn||(Ee&4194048)!==Ee&&kt.current!==null||(es=!0),(Bn&134217727)===0&&(vi&134217727)===0||qe===null||jn(qe,Ee,Ut,!1)}function Hr(e,n,l){var a=Re;Re|=2;var f=Yf(),p=Jf();(qe!==e||Ee!==n)&&(vo=null,is(e,n)),n=!1;var T=$e;e:do try{if(Ie!==0&&Te!==null){var E=Te,A=Dt;switch(Ie){case 8:Br(),T=6;break e;case 3:case 2:case 9:case 6:kt.current===null&&(n=!0);var U=Ie;if(Ie=0,Dt=null,ss(e,E,A,U),l&&es){T=0;break e}break;default:U=Ie,Ie=0,Dt=null,ss(e,E,A,U)}}F0(),T=$e;break}catch(q){Of(e,q)}while(!0);return n&&e.shellSuspendCounter++,fn=ci=null,Re=a,M.H=f,M.A=p,Te===null&&(qe=null,Ee=0,Bl()),T}function F0(){for(;Te!==null;)Qf(Te)}function Y0(e,n){var l=Re;Re|=2;var a=Yf(),f=Jf();qe!==e||Ee!==n?(vo=null,xo=wt()+500,is(e,n)):es=bs(e,n);e:do try{if(Ie!==0&&Te!==null){n=Te;var p=Dt;t:switch(Ie){case 1:Ie=0,Dt=null,ss(e,n,p,1);break;case 2:case 9:if(id(p)){Ie=0,Dt=null,$f(n);break}n=function(){Ie!==2&&Ie!==9||qe!==e||(Ie=7),on(e)},p.then(n,n);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:id(p)?(Ie=0,Dt=null,$f(n)):(Ie=0,Dt=null,ss(e,n,p,7));break;case 5:var T=null;switch(Te.tag){case 26:T=Te.memoizedState;case 5:case 27:var E=Te;if(T?Um(T):E.stateNode.complete){Ie=0,Dt=null;var A=E.sibling;if(A!==null)Te=A;else{var U=E.return;U!==null?(Te=U,bo(U)):Te=null}break t}}Ie=0,Dt=null,ss(e,n,p,5);break;case 6:Ie=0,Dt=null,ss(e,n,p,6);break;case 8:Br(),$e=6;break e;default:throw Error(o(462))}}J0();break}catch(q){Of(e,q)}while(!0);return fn=ci=null,M.H=a,M.A=f,Re=l,Te!==null?0:(qe=null,Ee=0,Bl(),$e)}function J0(){for(;Te!==null&&!ti();)Qf(Te)}function Qf(e){var n=xf(e.alternate,e,bn);e.memoizedProps=e.pendingProps,n===null?bo(e):Te=n}function $f(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=ff(l,n,n.pendingProps,n.type,void 0,Ee);break;case 11:n=ff(l,n,n.pendingProps,n.type.render,n.ref,Ee);break;case 5:nr(n);default:Tf(l,n),n=Te=Yc(n,bn),n=xf(l,n,bn)}e.memoizedProps=e.pendingProps,n===null?bo(e):Te=n}function ss(e,n,l,a){fn=ci=null,nr(n),Ji=null,qs=0;var f=n.return;try{if(L0(e,f,n,l,Ee)){$e=1,ro(e,Ht(l,e.current)),Te=null;return}}catch(p){if(f!==null)throw Te=f,p;$e=1,ro(e,Ht(l,e.current)),Te=null;return}n.flags&32768?(Ae||a===1?e=!0:es||(Ee&536870912)!==0?e=!1:(qn=e=!0,(a===2||a===9||a===3||a===6)&&(a=kt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Xf(n,e)):bo(n)}function bo(e){var n=e;do{if((n.flags&32768)!==0){Xf(n,qn);return}e=n.return;var l=G0(n.alternate,n,bn);if(l!==null){Te=l;return}if(n=n.sibling,n!==null){Te=n;return}Te=n=e}while(n!==null);$e===0&&($e=5)}function Xf(e,n){do{var l=q0(e.alternate,e);if(l!==null){l.flags&=32767,Te=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Te=e;return}Te=e=l}while(e!==null);$e=6,Te=null}function Kf(e,n,l,a,f,p,T,E,A){e.cancelPendingCommit=null;do Eo();while(nt!==0);if((Re&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(p=n.lanes|n.childLanes,p|=Ma,wg(e,l,p,T,E,A),e===qe&&(Te=qe=null,Ee=0),ns=n,Vn=e,En=l,Pr=p,Gr=f,Bf=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,K0(Cl,function(){return nm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=M.T,M.T=null,f=z.p,z.p=2,T=Re,Re|=4;try{B0(e,n,l)}finally{Re=T,z.p=f,M.T=a}}nt=1,Zf(),Wf(),em()}}function Zf(){if(nt===1){nt=0;var e=Vn,n=ns,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null;var a=z.p;z.p=2;var f=Re;Re|=4;try{If(n,e);var p=Wr,T=Pc(e.containerInfo),E=p.focusedElem,A=p.selectionRange;if(T!==E&&E&&E.ownerDocument&&zc(E.ownerDocument.documentElement,E)){if(A!==null&&Ca(E)){var U=A.start,q=A.end;if(q===void 0&&(q=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(q,E.value.length);else{var V=E.ownerDocument||document,P=V&&V.defaultView||window;if(P.getSelection){var G=P.getSelection(),le=E.textContent.length,fe=Math.min(A.start,le),ze=A.end===void 0?fe:Math.min(A.end,le);!G.extend&&fe>ze&&(T=ze,ze=fe,fe=T);var I=Lc(E,fe),_=Lc(E,ze);if(I&&_&&(G.rangeCount!==1||G.anchorNode!==I.node||G.anchorOffset!==I.offset||G.focusNode!==_.node||G.focusOffset!==_.offset)){var D=V.createRange();D.setStart(I.node,I.offset),G.removeAllRanges(),fe>ze?(G.addRange(D),G.extend(_.node,_.offset)):(D.setEnd(_.node,_.offset),G.addRange(D))}}}}for(V=[],G=E;G=G.parentNode;)G.nodeType===1&&V.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<V.length;E++){var B=V[E];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Lo=!!Zr,Wr=Zr=null}finally{Re=f,z.p=a,M.T=l}}e.current=n,nt=2}}function Wf(){if(nt===2){nt=0;var e=Vn,n=ns,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=M.T,M.T=null;var a=z.p;z.p=2;var f=Re;Re|=4;try{_f(e,n.alternate,n)}finally{Re=f,z.p=a,M.T=l}}nt=3}}function em(){if(nt===4||nt===3){nt=0,yg();var e=Vn,n=ns,l=En,a=Bf;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?nt=5:(nt=0,ns=Vn=null,tm(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Hn=null),la(l),n=n.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Ss,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=M.T,f=z.p,z.p=2,M.T=null;try{for(var p=e.onRecoverableError,T=0;T<a.length;T++){var E=a[T];p(E.value,{componentStack:E.stack})}}finally{M.T=n,z.p=f}}(En&3)!==0&&Eo(),on(e),f=e.pendingLanes,(l&261930)!==0&&(f&42)!==0?e===qr?nl++:(nl=0,qr=e):nl=0,il(0)}}function tm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ps(n)))}function Eo(){return Zf(),Wf(),em(),nm()}function nm(){if(nt!==5)return!1;var e=Vn,n=Pr;Pr=0;var l=la(En),a=M.T,f=z.p;try{z.p=32>l?32:l,M.T=null,l=Gr,Gr=null;var p=Vn,T=En;if(nt=0,ns=Vn=null,En=0,(Re&6)!==0)throw Error(o(331));var E=Re;if(Re|=4,Pf(p.current),Uf(p,p.current,T,l),Re=E,il(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Ss,p)}catch{}return!0}finally{z.p=f,M.T=a,tm(e,n)}}function im(e,n,l){n=Ht(l,n),n=yr(e.stateNode,n,2),e=Ln(e,n,2),e!==null&&(Es(e,2),on(e))}function De(e,n,l){if(e.tag===3)im(e,e,l);else for(;n!==null;){if(n.tag===3){im(n,e,l);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Hn===null||!Hn.has(a))){e=Ht(l,e),l=sf(2),a=Ln(n,l,2),a!==null&&(lf(l,a,n,e),Es(a,2),on(a));break}}n=n.return}}function Vr(e,n,l){var a=e.pingCache;if(a===null){a=e.pingCache=new j0;var f=new Set;a.set(n,f)}else f=a.get(n),f===void 0&&(f=new Set,a.set(n,f));f.has(l)||(Ur=!0,f.add(l),e=Q0.bind(null,e,n,l),n.then(e,e))}function Q0(e,n,l){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,qe===e&&(Ee&l)===l&&($e===4||$e===3&&(Ee&62914560)===Ee&&300>wt()-yo?(Re&2)===0&&is(e,0):Lr|=l,ts===Ee&&(ts=0)),on(e)}function sm(e,n){n===0&&(n=Ku()),e=ai(e,n),e!==null&&(Es(e,n),on(e))}function $0(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),sm(e,l)}function X0(e,n){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(n),sm(e,l)}function K0(e,n){return At(e,n)}var Co=null,ls=null,jr=!1,Ao=!1,Or=!1,On=0;function on(e){e!==ls&&e.next===null&&(ls===null?Co=ls=e:ls=ls.next=e),Ao=!0,jr||(jr=!0,W0())}function il(e,n){if(!Or&&Ao){Or=!0;do for(var l=!1,a=Co;a!==null;){if(e!==0){var f=a.pendingLanes;if(f===0)var p=0;else{var T=a.suspendedLanes,E=a.pingedLanes;p=(1<<31-Nt(42|e)+1)-1,p&=f&~(T&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,rm(a,p))}else p=Ee,p=Nl(a,a===qe?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(p&3)===0||bs(a,p)||(l=!0,rm(a,p));a=a.next}while(l);Or=!1}}function Z0(){lm()}function lm(){Ao=jr=!1;var e=0;On!==0&&uy()&&(e=On);for(var n=wt(),l=null,a=Co;a!==null;){var f=a.next,p=om(a,n);p===0?(a.next=null,l===null?Co=f:l.next=f,f===null&&(ls=l)):(l=a,(e!==0||(p&3)!==0)&&(Ao=!0)),a=f}nt!==0&&nt!==5||il(e),On!==0&&(On=0)}function om(e,n){for(var l=e.suspendedLanes,a=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var T=31-Nt(p),E=1<<T,A=f[T];A===-1?((E&l)===0||(E&a)!==0)&&(f[T]=Ag(E,n)):A<=n&&(e.expiredLanes|=E),p&=~E}if(n=qe,l=Ee,l=Nl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===n&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ts(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||bs(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(a!==null&&Ts(a),la(l)){case 2:case 8:l=$u;break;case 32:l=Cl;break;case 268435456:l=Xu;break;default:l=Cl}return a=am.bind(null,e),l=At(l,a),e.callbackPriority=n,e.callbackNode=l,n}return a!==null&&a!==null&&Ts(a),e.callbackPriority=2,e.callbackNode=null,2}function am(e,n){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Eo()&&e.callbackNode!==l)return null;var a=Ee;return a=Nl(e,e===qe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Vf(e,a,n),om(e,wt()),e.callbackNode!=null&&e.callbackNode===l?am.bind(null,e):null)}function rm(e,n){if(Eo())return null;Vf(e,n,!0)}function W0(){dy(function(){(Re&6)!==0?At(Qu,Z0):lm()})}function Fr(){if(On===0){var e=Oi;e===0&&(e=Al,Al<<=1,(Al&261888)===0&&(Al=256)),On=e}return On}function um(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Il(""+e)}function cm(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function ey(e,n,l,a,f){if(n==="submit"&&l&&l.stateNode===f){var p=um((f[yt]||null).action),T=a.submitter;T&&(n=(n=T[yt]||null)?um(n.formAction):T.getAttribute("formAction"),n!==null&&(p=n,T=null));var E=new zl("action","action",null,a,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(On!==0){var A=T?cm(f,T):new FormData(f);dr(l,{pending:!0,data:A,method:f.method,action:p},null,A)}}else typeof p=="function"&&(E.preventDefault(),A=T?cm(f,T):new FormData(f),dr(l,{pending:!0,data:A,method:f.method,action:p},p,A))},currentTarget:f}]})}}for(var Yr=0;Yr<Na.length;Yr++){var Jr=Na[Yr],ty=Jr.toLowerCase(),ny=Jr[0].toUpperCase()+Jr.slice(1);Zt(ty,"on"+ny)}Zt(Bc,"onAnimationEnd"),Zt(Hc,"onAnimationIteration"),Zt(Vc,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(x0,"onTransitionRun"),Zt(v0,"onTransitionStart"),Zt(T0,"onTransitionCancel"),Zt(jc,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function dm(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],f=a.event;a=a.listeners;e:{var p=void 0;if(n)for(var T=a.length-1;0<=T;T--){var E=a[T],A=E.instance,U=E.currentTarget;if(E=E.listener,A!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=U;try{p(f)}catch(q){ql(q)}f.currentTarget=null,p=A}else for(T=0;T<a.length;T++){if(E=a[T],A=E.instance,U=E.currentTarget,E=E.listener,A!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=U;try{p(f)}catch(q){ql(q)}f.currentTarget=null,p=A}}}}function Se(e,n){var l=n[oa];l===void 0&&(l=n[oa]=new Set);var a=e+"__bubble";l.has(a)||(fm(n,e,2,!1),l.add(a))}function Qr(e,n,l){var a=0;n&&(a|=4),fm(l,e,a,n)}var wo="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[wo]){e[wo]=!0,sc.forEach(function(l){l!=="selectionchange"&&(iy.has(l)||Qr(l,!1,e),Qr(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[wo]||(n[wo]=!0,Qr("selectionchange",!1,n))}}function fm(e,n,l,a){switch(Hm(n)){case 2:var f=ky;break;case 8:f=Iy;break;default:f=cu}l=f.bind(null,n,l,e),f=void 0,!pa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),a?f!==void 0?e.addEventListener(n,l,{capture:!0,passive:f}):e.addEventListener(n,l,!0):f!==void 0?e.addEventListener(n,l,{passive:f}):e.addEventListener(n,l,!1)}function Xr(e,n,l,a,f){var p=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var T=a.tag;if(T===3||T===4){var E=a.stateNode.containerInfo;if(E===f)break;if(T===4)for(T=a.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;E!==null;){if(T=_i(E),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){a=p=T;continue e}E=E.parentNode}}a=a.return}gc(function(){var U=p,q=ma(l),V=[];e:{var P=Oc.get(e);if(P!==void 0){var G=zl,le=e;switch(e){case"keypress":if(Ul(l)===0)break e;case"keydown":case"keyup":G=Xg;break;case"focusin":le="focus",G=va;break;case"focusout":le="blur",G=va;break;case"beforeblur":case"afterblur":G=va;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Gg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Wg;break;case Bc:case Hc:case Vc:G=Hg;break;case jc:G=t0;break;case"scroll":case"scrollend":G=zg;break;case"wheel":G=i0;break;case"copy":case"cut":case"paste":G=jg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Sc;break;case"toggle":case"beforetoggle":G=l0}var fe=(n&4)!==0,ze=!fe&&(e==="scroll"||e==="scrollend"),I=fe?P!==null?P+"Capture":null:P;fe=[];for(var _=U,D;_!==null;){var B=_;if(D=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||D===null||I===null||(B=ws(_,I),B!=null&&fe.push(ll(_,B,D))),ze)break;_=_.return}0<fe.length&&(P=new G(P,le,null,l,q),V.push({event:P,listeners:fe}))}}if((n&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",P&&l!==fa&&(le=l.relatedTarget||l.fromElement)&&(_i(le)||le[wi]))break e;if((G||P)&&(P=q.window===q?q:(P=q.ownerDocument)?P.defaultView||P.parentWindow:window,G?(le=l.relatedTarget||l.toElement,G=U,le=le?_i(le):null,le!==null&&(ze=u(le),fe=le.tag,le!==ze||fe!==5&&fe!==27&&fe!==6)&&(le=null)):(G=null,le=U),G!==le)){if(fe=vc,B="onMouseLeave",I="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(fe=Sc,B="onPointerLeave",I="onPointerEnter",_="pointer"),ze=G==null?P:As(G),D=le==null?P:As(le),P=new fe(B,_+"leave",G,l,q),P.target=ze,P.relatedTarget=D,B=null,_i(q)===U&&(fe=new fe(I,_+"enter",le,l,q),fe.target=D,fe.relatedTarget=ze,B=fe),ze=B,G&&le)t:{for(fe=sy,I=G,_=le,D=0,B=I;B;B=fe(B))D++;B=0;for(var de=_;de;de=fe(de))B++;for(;0<D-B;)I=fe(I),D--;for(;0<B-D;)_=fe(_),B--;for(;D--;){if(I===_||_!==null&&I===_.alternate){fe=I;break t}I=fe(I),_=fe(_)}fe=null}else fe=null;G!==null&&mm(V,P,G,fe,!1),le!==null&&ze!==null&&mm(V,ze,le,fe,!0)}}e:{if(P=U?As(U):window,G=P.nodeName&&P.nodeName.toLowerCase(),G==="select"||G==="input"&&P.type==="file")var _e=Mc;else if(_c(P))if(Rc)_e=p0;else{_e=m0;var ae=f0}else G=P.nodeName,!G||G.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?U&&da(U.elementType)&&(_e=Mc):_e=h0;if(_e&&(_e=_e(e,U))){Nc(V,_e,l,q);break e}ae&&ae(e,P,U),e==="focusout"&&U&&P.type==="number"&&U.memoizedProps.value!=null&&ca(P,"number",P.value)}switch(ae=U?As(U):window,e){case"focusin":(_c(ae)||ae.contentEditable==="true")&&(zi=ae,Aa=U,Us=null);break;case"focusout":Us=Aa=zi=null;break;case"mousedown":wa=!0;break;case"contextmenu":case"mouseup":case"dragend":wa=!1,Gc(V,l,q);break;case"selectionchange":if(y0)break;case"keydown":case"keyup":Gc(V,l,q)}var xe;if(Sa)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Li?Ac(e,l)&&(Ce="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(bc&&l.locale!=="ko"&&(Li||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Li&&(xe=yc()):(Nn=q,ga="value"in Nn?Nn.value:Nn.textContent,Li=!0)),ae=_o(U,Ce),0<ae.length&&(Ce=new Tc(Ce,e,null,l,q),V.push({event:Ce,listeners:ae}),xe?Ce.data=xe:(xe=wc(l),xe!==null&&(Ce.data=xe)))),(xe=a0?r0(e,l):u0(e,l))&&(Ce=_o(U,"onBeforeInput"),0<Ce.length&&(ae=new Tc("onBeforeInput","beforeinput",null,l,q),V.push({event:ae,listeners:Ce}),ae.data=xe)),ey(V,e,U,l,q)}dm(V,n)})}function ll(e,n,l){return{instance:e,listener:n,currentTarget:l}}function _o(e,n){for(var l=n+"Capture",a=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ws(e,l),f!=null&&a.unshift(ll(e,f,p)),f=ws(e,n),f!=null&&a.push(ll(e,f,p))),e.tag===3)return a;e=e.return}return[]}function sy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mm(e,n,l,a,f){for(var p=n._reactName,T=[];l!==null&&l!==a;){var E=l,A=E.alternate,U=E.stateNode;if(E=E.tag,A!==null&&A===a)break;E!==5&&E!==26&&E!==27||U===null||(A=U,f?(U=ws(l,p),U!=null&&T.unshift(ll(l,U,A))):f||(U=ws(l,p),U!=null&&T.push(ll(l,U,A)))),l=l.return}T.length!==0&&e.push({event:n,listeners:T})}var ly=/\r\n?/g,oy=/\u0000|\uFFFD/g;function hm(e){return(typeof e=="string"?e:""+e).replace(ly,`
`).replace(oy,"")}function pm(e,n){return n=hm(n),hm(e)===n}function Le(e,n,l,a,f,p){switch(l){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||Ii(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&Ii(e,""+a);break;case"className":Rl(e,"class",a);break;case"tabIndex":Rl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Rl(e,l,a);break;case"style":hc(e,a,p);break;case"data":if(n!=="object"){Rl(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Il(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(n!=="input"&&Le(e,n,"name",f.name,f,null),Le(e,n,"formEncType",f.formEncType,f,null),Le(e,n,"formMethod",f.formMethod,f,null),Le(e,n,"formTarget",f.formTarget,f,null)):(Le(e,n,"encType",f.encType,f,null),Le(e,n,"method",f.method,f,null),Le(e,n,"target",f.target,f,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Il(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=rn);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Il(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Ml(e,"popover",a);break;case"xlinkActuate":an(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":an(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":an(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":an(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":an(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":an(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":an(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":an(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":an(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ml(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ug.get(l)||l,Ml(e,l,a))}}function Kr(e,n,l,a,f,p){switch(l){case"style":hc(e,a,p);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Ii(e,a):(typeof a=="number"||typeof a=="bigint")&&Ii(e,""+a);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"onClick":a!=null&&(e.onclick=rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),p=e[yt]||null,p=p!=null?p[l]:null,typeof p=="function"&&e.removeEventListener(n,p,f),typeof a=="function")){typeof p!="function"&&p!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,a,f);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Ml(e,l,a)}}}function ct(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var a=!1,f=!1,p;for(p in l)if(l.hasOwnProperty(p)){var T=l[p];if(T!=null)switch(p){case"src":a=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Le(e,n,p,T,l,null)}}f&&Le(e,n,"srcSet",l.srcSet,l,null),a&&Le(e,n,"src",l.src,l,null);return;case"input":Se("invalid",e);var E=p=T=f=null,A=null,U=null;for(a in l)if(l.hasOwnProperty(a)){var q=l[a];if(q!=null)switch(a){case"name":f=q;break;case"type":T=q;break;case"checked":A=q;break;case"defaultChecked":U=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,n));break;default:Le(e,n,a,q,l,null)}}cc(e,p,E,A,U,T,f,!1);return;case"select":Se("invalid",e),a=T=p=null;for(f in l)if(l.hasOwnProperty(f)&&(E=l[f],E!=null))switch(f){case"value":p=E;break;case"defaultValue":T=E;break;case"multiple":a=E;default:Le(e,n,f,E,l,null)}n=p,l=T,e.multiple=!!a,n!=null?ki(e,!!a,n,!1):l!=null&&ki(e,!!a,l,!0);return;case"textarea":Se("invalid",e),p=f=a=null;for(T in l)if(l.hasOwnProperty(T)&&(E=l[T],E!=null))switch(T){case"value":a=E;break;case"defaultValue":f=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(o(91));break;default:Le(e,n,T,E,l,null)}fc(e,a,f,p);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(a=l[A],a!=null))switch(A){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Le(e,n,A,a,l,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(a=0;a<sl.length;a++)Se(sl[a],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in l)if(l.hasOwnProperty(U)&&(a=l[U],a!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Le(e,n,U,a,l,null)}return;default:if(da(n)){for(q in l)l.hasOwnProperty(q)&&(a=l[q],a!==void 0&&Kr(e,n,q,a,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(a=l[E],a!=null&&Le(e,n,E,a,l,null))}function ay(e,n,l,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,E=null,A=null,U=null,q=null;for(G in l){var V=l[G];if(l.hasOwnProperty(G)&&V!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":A=V;default:a.hasOwnProperty(G)||Le(e,n,G,null,a,V)}}for(var P in a){var G=a[P];if(V=l[P],a.hasOwnProperty(P)&&(G!=null||V!=null))switch(P){case"type":p=G;break;case"name":f=G;break;case"checked":U=G;break;case"defaultChecked":q=G;break;case"value":T=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,n));break;default:G!==V&&Le(e,n,P,G,a,V)}}ua(e,T,E,A,U,q,p,f);return;case"select":G=T=E=P=null;for(p in l)if(A=l[p],l.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":G=A;default:a.hasOwnProperty(p)||Le(e,n,p,null,a,A)}for(f in a)if(p=a[f],A=l[f],a.hasOwnProperty(f)&&(p!=null||A!=null))switch(f){case"value":P=p;break;case"defaultValue":E=p;break;case"multiple":T=p;default:p!==A&&Le(e,n,f,p,a,A)}n=E,l=T,a=G,P!=null?ki(e,!!l,P,!1):!!a!=!!l&&(n!=null?ki(e,!!l,n,!0):ki(e,!!l,l?[]:"",!1));return;case"textarea":G=P=null;for(E in l)if(f=l[E],l.hasOwnProperty(E)&&f!=null&&!a.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Le(e,n,E,null,a,f)}for(T in a)if(f=a[T],p=l[T],a.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":P=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:f!==p&&Le(e,n,T,f,a,p)}dc(e,P,G);return;case"option":for(var le in l)if(P=l[le],l.hasOwnProperty(le)&&P!=null&&!a.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:Le(e,n,le,null,a,P)}for(A in a)if(P=a[A],G=l[A],a.hasOwnProperty(A)&&P!==G&&(P!=null||G!=null))switch(A){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Le(e,n,A,P,a,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in l)P=l[fe],l.hasOwnProperty(fe)&&P!=null&&!a.hasOwnProperty(fe)&&Le(e,n,fe,null,a,P);for(U in a)if(P=a[U],G=l[U],a.hasOwnProperty(U)&&P!==G&&(P!=null||G!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,n));break;default:Le(e,n,U,P,a,G)}return;default:if(da(n)){for(var ze in l)P=l[ze],l.hasOwnProperty(ze)&&P!==void 0&&!a.hasOwnProperty(ze)&&Kr(e,n,ze,void 0,a,P);for(q in a)P=a[q],G=l[q],!a.hasOwnProperty(q)||P===G||P===void 0&&G===void 0||Kr(e,n,q,P,a,G);return}}for(var I in l)P=l[I],l.hasOwnProperty(I)&&P!=null&&!a.hasOwnProperty(I)&&Le(e,n,I,null,a,P);for(V in a)P=a[V],G=l[V],!a.hasOwnProperty(V)||P===G||P==null&&G==null||Le(e,n,V,P,a,G)}function gm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ry(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var f=l[a],p=f.transferSize,T=f.initiatorType,E=f.duration;if(p&&E&&gm(T)){for(T=0,E=f.responseEnd,a+=1;a<l.length;a++){var A=l[a],U=A.startTime;if(U>E)break;var q=A.transferSize,V=A.initiatorType;q&&gm(V)&&(A=A.responseEnd,T+=q*(A<E?1:(E-U)/(A-U)))}if(--a,n+=8*(p+T)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zr=null,Wr=null;function No(e){return e.nodeType===9?e:e.ownerDocument}function ym(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function eu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tu=null;function uy(){var e=window.event;return e&&e.type==="popstate"?e===tu?!1:(tu=e,!0):(tu=null,!1)}var vm=typeof setTimeout=="function"?setTimeout:void 0,cy=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,dy=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(e){return Tm.resolve(null).then(e).catch(fy)}:vm;function fy(e){setTimeout(function(){throw e})}function Fn(e){return e==="head"}function Sm(e,n){var l=n,a=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(f),us(n);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")ol(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,ol(l);for(var p=l.firstChild;p;){var T=p.nextSibling,E=p.nodeName;p[Cs]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=T}}else l==="body"&&ol(e.ownerDocument.body);l=f}while(l);us(n)}function bm(e,n){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function nu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":nu(l),aa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function my(e,n,l,a){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Cs])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function hy(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Yt(e.nextSibling),e===null))return null;return e}function Em(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yt(e.nextSibling),e===null))return null;return e}function iu(e){return e.data==="$?"||e.data==="$~"}function su(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function py(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var a=function(){n(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Yt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var lu=null;function Cm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Yt(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Am(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function wm(e,n,l){switch(n=No(l),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);aa(e)}var Jt=new Map,_m=new Set;function Mo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cn=z.d;z.d={f:gy,r:yy,D:xy,C:vy,L:Ty,m:Sy,X:Ey,S:by,M:Cy};function gy(){var e=Cn.f(),n=To();return e||n}function yy(e){var n=Ni(e);n!==null&&n.tag===5&&n.type==="form"?jd(n):Cn.r(e)}var os=typeof document>"u"?null:document;function Nm(e,n,l){var a=os;if(a&&typeof n=="string"&&n){var f=qt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),_m.has(f)||(_m.add(f),e={rel:e,crossOrigin:l,href:n},a.querySelector(f)===null&&(n=a.createElement("link"),ct(n,"link",e),it(n),a.head.appendChild(n)))}}function xy(e){Cn.D(e),Nm("dns-prefetch",e,null)}function vy(e,n){Cn.C(e,n),Nm("preconnect",e,n)}function Ty(e,n,l){Cn.L(e,n,l);var a=os;if(a&&e&&n){var f='link[rel="preload"][as="'+qt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+qt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+qt(l.imageSizes)+'"]')):f+='[href="'+qt(e)+'"]';var p=f;switch(n){case"style":p=as(e);break;case"script":p=rs(e)}Jt.has(p)||(e=S({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Jt.set(p,e),a.querySelector(f)!==null||n==="style"&&a.querySelector(al(p))||n==="script"&&a.querySelector(rl(p))||(n=a.createElement("link"),ct(n,"link",e),it(n),a.head.appendChild(n)))}}function Sy(e,n){Cn.m(e,n);var l=os;if(l&&e){var a=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+qt(a)+'"][href="'+qt(e)+'"]',p=f;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=rs(e)}if(!Jt.has(p)&&(e=S({rel:"modulepreload",href:e},n),Jt.set(p,e),l.querySelector(f)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(rl(p)))return}a=l.createElement("link"),ct(a,"link",e),it(a),l.head.appendChild(a)}}}function by(e,n,l){Cn.S(e,n,l);var a=os;if(a&&e){var f=Mi(a).hoistableStyles,p=as(e);n=n||"default";var T=f.get(p);if(!T){var E={loading:0,preload:null};if(T=a.querySelector(al(p)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Jt.get(p))&&ou(e,l);var A=T=a.createElement("link");it(A),ct(A,"link",e),A._p=new Promise(function(U,q){A.onload=U,A.onerror=q}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ro(T,n,a)}T={type:"stylesheet",instance:T,count:1,state:E},f.set(p,T)}}}function Ey(e,n){Cn.X(e,n);var l=os;if(l&&e){var a=Mi(l).hoistableScripts,f=rs(e),p=a.get(f);p||(p=l.querySelector(rl(f)),p||(e=S({src:e,async:!0},n),(n=Jt.get(f))&&au(e,n),p=l.createElement("script"),it(p),ct(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(f,p))}}function Cy(e,n){Cn.M(e,n);var l=os;if(l&&e){var a=Mi(l).hoistableScripts,f=rs(e),p=a.get(f);p||(p=l.querySelector(rl(f)),p||(e=S({src:e,async:!0,type:"module"},n),(n=Jt.get(f))&&au(e,n),p=l.createElement("script"),it(p),ct(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(f,p))}}function Mm(e,n,l,a){var f=(f=pe.current)?Mo(f):null;if(!f)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=as(l.href),l=Mi(f).hoistableStyles,a=l.get(n),a||(a={type:"style",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=as(l.href);var p=Mi(f).hoistableStyles,T=p.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,T),(p=f.querySelector(al(e)))&&!p._p&&(T.instance=p,T.state.loading=5),Jt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Jt.set(e,l),p||Ay(f,e,l,T.state))),n&&a===null)throw Error(o(528,""));return T}if(n&&a!==null)throw Error(o(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=rs(l),l=Mi(f).hoistableScripts,a=l.get(n),a||(a={type:"script",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function as(e){return'href="'+qt(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function Rm(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Ay(e,n,l,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),ct(n,"link",l),it(n),e.head.appendChild(n))}function rs(e){return'[src="'+qt(e)+'"]'}function rl(e){return"script[async]"+e}function km(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+qt(l.href)+'"]');if(a)return n.instance=a,it(a),a;var f=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),it(a),ct(a,"style",f),Ro(a,l.precedence,e),n.instance=a;case"stylesheet":f=as(l.href);var p=e.querySelector(al(f));if(p)return n.state.loading|=4,n.instance=p,it(p),p;a=Rm(l),(f=Jt.get(f))&&ou(a,f),p=(e.ownerDocument||e).createElement("link"),it(p);var T=p;return T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),ct(p,"link",a),n.state.loading|=4,Ro(p,l.precedence,e),n.instance=p;case"script":return p=rs(l.src),(f=e.querySelector(rl(p)))?(n.instance=f,it(f),f):(a=l,(f=Jt.get(p))&&(a=S({},l),au(a,f)),e=e.ownerDocument||e,f=e.createElement("script"),it(f),ct(f,"link",a),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,Ro(a,l.precedence,e));return n.instance}function Ro(e,n,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=a.length?a[a.length-1]:null,p=f,T=0;T<a.length;T++){var E=a[T];if(E.dataset.precedence===n)p=E;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function ou(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function au(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ko=null;function Im(e,n,l){if(ko===null){var a=new Map,f=ko=new Map;f.set(l,a)}else f=ko,a=f.get(l),a||(a=new Map,f.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var p=l[f];if(!(p[Cs]||p[ot]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(n)||"";T=e+T;var E=a.get(T);E?E.push(p):a.set(T,[p])}}return a}function Dm(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function wy(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Um(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _y(e,n,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=as(a.href),p=n.querySelector(al(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Io.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=p,it(p);return}p=n.ownerDocument||n,a=Rm(a),(f=Jt.get(f))&&ou(a,f),p=p.createElement("link"),it(p);var T=p;T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),ct(p,"link",a),l.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Io.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var ru=0;function Ny(e,n){return e.stylesheets&&e.count===0&&Uo(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Uo(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&ru===0&&(ru=62500*ry());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Uo(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>ru?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(f)}}:null}function Io(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Do=null;function Uo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Do=new Map,n.forEach(My,e),Do=null,Io.call(e))}function My(e,n){if(!(n.state.loading&4)){var l=Do.get(e);if(l)var a=l.get(null);else{l=new Map,Do.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),a=T)}a&&l.set(null,a)}f=n.instance,T=f.getAttribute("data-precedence"),p=l.get(T)||a,p===a&&l.set(null,f),l.set(T,f),this.count++,a=Io.bind(this),f.addEventListener("load",a),f.addEventListener("error",a),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:L,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Ry(e,n,l,a,f,p,T,E,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.hiddenUpdates=ia(null),this.identifierPrefix=a,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Lm(e,n,l,a,f,p,T,E,A,U,q,V){return e=new Ry(e,n,l,T,A,U,q,V,E),n=1,p===!0&&(n|=24),p=Rt(3,null,null,n),e.current=p,p.stateNode=e,n=Ha(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:a,isDehydrated:l,cache:n},Fa(p),e}function zm(e){return e?(e=qi,e):qi}function Pm(e,n,l,a,f,p){f=zm(f),a.context===null?a.context=f:a.pendingContext=f,a=Un(n),a.payload={element:l},p=p===void 0?null:p,p!==null&&(a.callback=p),l=Ln(e,a,n),l!==null&&(Et(l,e,n),Hs(l,e,n))}function Gm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function uu(e,n){Gm(e,n),(e=e.alternate)&&Gm(e,n)}function qm(e){if(e.tag===13||e.tag===31){var n=ai(e,67108864);n!==null&&Et(n,e,67108864),uu(e,67108864)}}function Bm(e){if(e.tag===13||e.tag===31){var n=Lt();n=sa(n);var l=ai(e,n);l!==null&&Et(l,e,n),uu(e,n)}}var Lo=!0;function ky(e,n,l,a){var f=M.T;M.T=null;var p=z.p;try{z.p=2,cu(e,n,l,a)}finally{z.p=p,M.T=f}}function Iy(e,n,l,a){var f=M.T;M.T=null;var p=z.p;try{z.p=8,cu(e,n,l,a)}finally{z.p=p,M.T=f}}function cu(e,n,l,a){if(Lo){var f=du(a);if(f===null)Xr(e,n,a,zo,l),Vm(e,a);else if(Uy(f,e,n,l,a))a.stopPropagation();else if(Vm(e,a),n&4&&-1<Dy.indexOf(e)){for(;f!==null;){var p=Ni(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=ni(p.pendingLanes);if(T!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var A=1<<31-Nt(T);E.entanglements[1]|=A,T&=~A}on(p),(Re&6)===0&&(xo=wt()+500,il(0))}}break;case 31:case 13:E=ai(p,2),E!==null&&Et(E,p,2),To(),uu(p,2)}if(p=du(a),p===null&&Xr(e,n,a,zo,l),p===f)break;f=p}f!==null&&a.stopPropagation()}else Xr(e,n,a,null,l)}}function du(e){return e=ma(e),fu(e)}var zo=null;function fu(e){if(zo=null,e=_i(e),e!==null){var n=u(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=h(n),e!==null)return e;e=null}else if(l===31){if(e=y(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return zo=e,null}function Hm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xg()){case Qu:return 2;case $u:return 8;case Cl:case vg:return 32;case Xu:return 268435456;default:return 32}default:return 32}}var mu=!1,Yn=null,Jn=null,Qn=null,cl=new Map,dl=new Map,$n=[],Dy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vm(e,n){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function fl(e,n,l,a,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:l,eventSystemFlags:a,nativeEvent:p,targetContainers:[f]},n!==null&&(n=Ni(n),n!==null&&qm(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Uy(e,n,l,a,f){switch(n){case"focusin":return Yn=fl(Yn,e,n,l,a,f),!0;case"dragenter":return Jn=fl(Jn,e,n,l,a,f),!0;case"mouseover":return Qn=fl(Qn,e,n,l,a,f),!0;case"pointerover":var p=f.pointerId;return cl.set(p,fl(cl.get(p)||null,e,n,l,a,f)),!0;case"gotpointercapture":return p=f.pointerId,dl.set(p,fl(dl.get(p)||null,e,n,l,a,f)),!0}return!1}function jm(e){var n=_i(e.target);if(n!==null){var l=u(n);if(l!==null){if(n=l.tag,n===13){if(n=h(l),n!==null){e.blockedOn=n,nc(e.priority,function(){Bm(l)});return}}else if(n===31){if(n=y(l),n!==null){e.blockedOn=n,nc(e.priority,function(){Bm(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Po(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=du(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);fa=a,l.target.dispatchEvent(a),fa=null}else return n=Ni(l),n!==null&&qm(n),e.blockedOn=l,!1;n.shift()}return!0}function Om(e,n,l){Po(e)&&l.delete(n)}function Ly(){mu=!1,Yn!==null&&Po(Yn)&&(Yn=null),Jn!==null&&Po(Jn)&&(Jn=null),Qn!==null&&Po(Qn)&&(Qn=null),cl.forEach(Om),dl.forEach(Om)}function Go(e,n){e.blockedOn===n&&(e.blockedOn=null,mu||(mu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ly)))}var qo=null;function Fm(e){qo!==e&&(qo=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){qo===e&&(qo=null);for(var n=0;n<e.length;n+=3){var l=e[n],a=e[n+1],f=e[n+2];if(typeof a!="function"){if(fu(a||l)===null)continue;break}var p=Ni(l);p!==null&&(e.splice(n,3),n-=3,dr(p,{pending:!0,data:f,method:l.method,action:a},a,f))}}))}function us(e){function n(A){return Go(A,e)}Yn!==null&&Go(Yn,e),Jn!==null&&Go(Jn,e),Qn!==null&&Go(Qn,e),cl.forEach(n),dl.forEach(n);for(var l=0;l<$n.length;l++){var a=$n[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<$n.length&&(l=$n[0],l.blockedOn===null);)jm(l),l.blockedOn===null&&$n.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var f=l[a],p=l[a+1],T=f[yt]||null;if(typeof p=="function")T||Fm(l);else if(T){var E=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[yt]||null)E=T.formAction;else if(fu(f)!==null)continue}else E=T.action;typeof E=="function"?l[a+1]=E:(l.splice(a,3),a-=3),Fm(l)}}}function Ym(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function hu(e){this._internalRoot=e}Bo.prototype.render=hu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var l=n.current,a=Lt();Pm(l,a,e,n,null,null)},Bo.prototype.unmount=hu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Pm(e.current,2,null,e,null,null),To(),n[wi]=null}};function Bo(e){this._internalRoot=e}Bo.prototype.unstable_scheduleHydration=function(e){if(e){var n=tc();e={blockedOn:null,target:e,priority:n};for(var l=0;l<$n.length&&n!==0&&n<$n[l].priority;l++);$n.splice(l,0,e),l===0&&jm(e)}};var Jm=t.version;if(Jm!=="19.2.0")throw Error(o(527,Jm,"19.2.0"));z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var zy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{Ss=Ho.inject(zy),_t=Ho}catch{}}return hl.createRoot=function(e,n){if(!r(e))throw Error(o(299));var l=!1,a="",f=Wd,p=ef,T=tf;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Lm(e,1,!1,null,null,l,a,null,f,p,T,Ym),e[wi]=n.current,$r(e),new hu(n)},hl.hydrateRoot=function(e,n,l){if(!r(e))throw Error(o(299));var a=!1,f="",p=Wd,T=ef,E=tf,A=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),n=Lm(e,1,!0,n,l??null,a,f,A,p,T,E,Ym),n.context=zm(null),l=n.current,a=Lt(),a=sa(a),f=Un(a),f.callback=null,Ln(l,f,a),l=a,n.current.lanes=l,Es(n,l),on(n),e[wi]=n.current,$r(e),new Bo(n)},hl.version="19.2.0",hl}var ih;function Qy(){if(ih)return yu.exports;ih=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),yu.exports=Jy(),yu.exports}var $y=Qy();const Xy=Ip($y),sh={en:{header:{home:"Home",musicGeneration:"AI Music Analysis",songIdeaGenerator:"AI Song Idea Generator",musicSheetGenerator:"Sheet Music AI",instrumentFinder:"Instrument Finder",aiTutor:"AI Music Tutor",musicTrends:"Music Trends",ourProducers:"Our Producers",collaboration:"Collaboration",myProjects:"My Projects",login:"Login / Sign Up",logout:"Logout"},searchModal:{title:"AURA AI Search",placeholder:"Search for instruments, producers, genres...",searchButton:"Search",suggestionsTitle:"Popular Searches",suggestionQueries:["Generate Lo-fi Beat","Find guitar shops","What is a I-V-vi-IV progression?","Travis Scott type beat"],resultsTitle:"Search Results",noResults:"No relevant results found. Try a different search term.",viewResult:"View"},hero:{title:"Your AI-Powered Music Studio",subtitle:"Generate melodies, get personalized production advice, and find local music stores and studiosall with the help of our advanced AI.",button1:"Start Creating Music",button2:"Meet Our Producers",servicesTitle:"Our Creative Services",servicesSubtitle:"We offer a comprehensive range of AI tools to help you compose, produce, and share your music with the world.",services:[{icon:"idea",title:"Song Idea Generator",description:"Describe a mood or theme and get a complete musical concept with instruments and production tips.",targetPage:"song_idea_generator"},{icon:"melody",title:"Comprehensive Analysis",description:"Get a deep analysis of your musical idea, including theory, arrangement, and cost estimates.",targetPage:"music_generation"},{icon:"sheet_music",title:"Sheet Music Generator",description:"Describe a melody and get it transcribed into sheet music using our AI notation tool.",targetPage:"music_sheet_generator"},{icon:"lyrics",title:"Lyric Assistant",description:"Overcome writer's block with an AI partner that helps you write compelling lyrics.",targetPage:"music_generation"},{icon:"chords",title:"Chord Progressions",description:"Generate harmonically rich chord progressions in any key or genre.",targetPage:"music_generation"},{icon:"drums",title:"Drum Pattern Maker",description:"Create intricate drum beats and rhythms for any style, from hip-hop to rock.",targetPage:"music_generation"},{icon:"mastering",title:"AI Mastering",description:"Get an instant audio master to make your tracks sound loud, clear, and ready for release.",targetPage:"music_generation"},{icon:"remix",title:"Remix Tool",description:"Upload a track and get AI-generated remix ideas and stems to work with.",targetPage:"music_generation"},{icon:"art",title:"Album Art Generator",description:"Create stunning, AI-generated cover art for your singles and albums.",targetPage:"music_generation"},{icon:"collab",title:"Collaboration Finder",description:"Connect with other artists and producers based on your genre and style.",targetPage:"collaboration"},{icon:"health",title:"App Status",description:"All systems are running smoothly. The application is healthy and ready to create.",targetPage:"home"}],aiExplanation:{title:"AI-Powered Music Creation at AURA",subtitle:"Explore the advanced AI features that enable personalized, predictive, and precise music production.",points:[{title:"1. Algorithmic Composition",description:"Our AI analyzes musical patterns, theory, and trends to generate original melodies, chord progressions, and drum patterns. It can adapt to various genres, moods, and complexities."},{title:"2. Lyric & Theme Generation",description:"Using advanced language models, the AI can help you brainstorm lyrical themes, write verses and choruses, and even suggest rhyming schemes based on a given concept."},{title:"3. Instrument & Sound Design",description:"The AI recommends specific virtual instruments (VSTs) and synthesizer patches that fit your chosen genre and mood, helping you build a cohesive sound palette."},{title:"4. Smart Arrangement",description:"Based on genre conventions, the AI can suggest song structures (e.g., Intro-Verse-Chorus-Verse-Chorus-Bridge-Outro) and help you arrange your generated parts into a full track."},{title:"5. AI Audio Mastering",description:"Our mastering AI analyzes your mix and applies intelligent EQ, compression, and limiting to optimize loudness and clarity for streaming platforms like Spotify and Apple Music."},{title:"6. Market Trend Analysis",description:"By grounding its knowledge in Google Search, the AI can analyze current music charts and trends to give you insights into what's popular, helping you make informed creative decisions."},{title:"7. Production Cost Estimation",description:"The AI can generate a hypothetical cost breakdown for producing a track, including estimates for studio time, session musicians, mixing, and mastering services."},{title:"8. Music Theory Tutor",description:"Our conversational AI acts as a music tutor, capable of answering your questions about music theory, production techniques, and music history in a clear and understandable way."}]},homePageAdditions:{testimonialsTitle:"What Artists Say",testimonialsSubtitle:"Real stories from creators who have experienced the AURA difference.",testimonials:[{quote:"The AI melody generator is insane. I was stuck on a track for weeks, and AURA gave me the perfect hook in seconds.",name:"DJ Alex",treatment:"Melody Generation"},{quote:"AURA has completely transformed my workflow. The AI Mastering tool saved me hundreds of dollars and my tracks sound amazing.",name:"Lila K.",treatment:"AI Mastering"},{quote:"As a beginner, the AI Music Tutor has been a game-changer. I'm finally understanding music theory.",name:"David L.",treatment:"AI Music Tutor"}],featuredDoctorTitle:"Meet Our Lead Producer",featuredDoctorSubtitle:"Our team is composed of industry veterans and award-winning producers.",featuredDoctor:{name:"Anousheh",specialty:"Lead Producer & Sound Designer",bio:"With over 15 years of experience producing for major artists, Anousheh is a pioneer in blending traditional techniques with cutting-edge AI tools. She is dedicated to empowering artists to create their best work."},featuredDoctorButton:"Meet The Entire Team"}},musicSheetGenerator:{title:"AI Sheet Music Generator",subtitle:"Turn your musical ideas into readable sheet music. Describe a melody, mood, or progression, and let the AI write the notes for you.",promptLabel:"Describe your musical idea",promptPlaceholder:"e.g., A simple and happy folk melody in G Major, suitable for a flute.",suggestions:["A slow, sad waltz in A minor for piano.","A fast, energetic celtic jig.","'Twinkle Twinkle Little Star' melody.","A short, mysterious theme in C harmonic minor."],buttonText:"Generate Sheet Music",generating:"Generating...",resultsTitle:"Generated Sheet Music",abcNotationTitle:"ABC Notation Code",copyButton:"Copy Code",copySuccess:"Copied!",placeholder:"Your generated sheet music will appear here.",error:"Sorry, I couldn't generate sheet music for that idea. Please try a different description.",engineLabel:"Generation Engine",engineMusic21:"Music21",engineMusic21Desc:"Overall best choice. For parsing, analysis, and generation.",engineLilypond:"LilyPond",engineLilypondDesc:"Highest-quality engraving for publication-standard scores.",engineAbjad:"Abjad",engineAbjadDesc:"For algorithmic composition and complex contemporary scores."},myProjectsPage:{title:"My Saved Projects",subtitle:"Review, restore, or delete your past AI-generated music sessions.",restore:"View Project",delete:"Delete",savedOn:"Saved on",emptyTitle:"No projects saved",emptyText:"Your saved AI music projects will appear here.",goBackButton:"Start a New Project"},footer:{description:"Your AI-powered assistant for music creation, production, and analysis.",copyright:" 2024 AURA. All Rights Reserved."},quotaErrorModal:{title:"Quota Exceeded",body:"You have exceeded your API quota. Please check your billing status or try again later. AI features are temporarily unavailable.",cta:"Check Billing",close:"Close"},loginModal:{title:"Login to Your Studio",google:"Continue with Google",facebook:"Continue with Facebook",instagram:"Continue with Instagram",or:"OR",emailPlaceholder:"Enter your email",passwordPlaceholder:"Enter your password",loginButton:"Login"},aiTutor:{title:"AI Music Tutor",subtitle:"Ask me anything about music theory, production, or songwriting. I'm here to help you on your creative journey.",placeholder:"Type your question here..."},musicTrends:{title:"Music Market Trends Analyzer",subtitle:"Enter a topic to get the latest market insights, genre trends, and analyses powered by Google Search.",searchPlaceholder:"e.g., 'lo-fi hip hop trends in 2024'",suggestionsTitle:"Or try one of these topics:",suggestions:["Future of Pop music","Rise of Amapiano genre","TikTok's impact on music charts","Vinyl records sales trend"],searching:"Analyzing...",searchButton:"Analyze",placeholder:"Your market analysis will appear here.",loading:{scanning:"Scanning search results...",synthesizing:"Synthesizing information...",extracting:"Extracting key insights...",compiling:"Compiling your report..."},analysisModes:{quick:"Quick Summary","in-depth":"In-depth Analysis",swot:"SWOT Analysis"},results:{keyInsights:"Key Insights",detailedSummary:"Detailed Summary",emergingTrends:"Emerging Trends",opportunities:"Opportunities",risks:"Risks",strengths:"Strengths",weaknesses:"Weaknesses",threats:"Threats"},sources:"Sources",relatedTopics:"Related Topics"},ourProducers:{title:"Meet Our Expert Producers",subtitle:"Our studio is proud to have a team of highly qualified and experienced producers dedicated to sonic excellence.",tableHeaders:{name:"Name",specialty:"Primary Genre",bio:"Bio",license:"Top Credits"},doctors:[{name:"Anousheh",specialty:"Synthwave, Electronic",bio:"Specializes in analog synth sound design and atmospheric production, with over 15 years of experience.",licenseNumber:"Starlight Drive (Album)"},{name:"Ben Carter",specialty:"Hip-Hop, Trap",bio:"Expert in modern drum programming and sample-based production, focusing on radio-ready hits.",licenseNumber:"City Lights (Single)"},{name:"Ava Nazari",specialty:"Orchestral, Film Score",bio:"Focuses on large-scale orchestral arrangements and emotional scoring for film and games.",licenseNumber:"The Last Kingdom (Score)"}]},collaborationPage:{title:"Collaboration & Label Submissions",goalTitle:"Our Goal",goalText:"We are seeking talented artists and collaborators to join our creative ecosystem. Our mission is to democratize access to professional production tools and label opportunities through technology.",canvasTitle:"Our Vision",canvasItems:{item1:"Launch 10 new artists on major streaming platforms within 2 years.",item2:"Further develop our AI music generation models for richer, more complex compositions.",item3:"Integrate real-time collaboration features for remote co-production.",item4:"Establish a certified training program for aspiring music producers worldwide."},statusTitle:"Current Status",progressLabel:"Open for Submissions",statusText:"We are actively listening to demos and seeking new talent to sign to AURA Records.",methodsTitle:"Get Involved",crowdfundingTitle:"Community Funding (Future)",crowdfundingText:"A token-based crowdfunding campaign is planned for Q4 2024 to allow our community to invest in our signed artists.",buyTokenButton:"Coming Soon",seedTitle:"Submit Your Demo",seedText:"We welcome artists of all genres to submit their best work for consideration by our A&R team. Please review our submission guidelines and use the portal to send us your tracks.",viewContractButton:"View Submission Guidelines",contactWhatsAppButton:"Submit via Demo Portal",franchiseTitle:"Start Your Own Studio",franchiseText:"Interested in running an AURA-powered studio? We are expanding our global presence through a partnership model that combines our advanced AI technology with your local expertise.",franchiseButton:"Explore Studio Partnership"},franchisePage:{title:"Become an AURA Studio Partner",subtitle:"Bring the future of AI-powered music production to your city. Join a network of innovators shaping the industry.",canvasTitle:"Our Business Model Canvas",canvasSubtitle:"A proven framework for success, supported by our cutting-edge technology and brand.",canvasItems:{valueProposition:{title:"Value Proposition",description:"AI-driven composition tools, personalized production workflows, premium branding, and exclusive access to our technology platform."},targetMarket:{title:"Target Market",description:"Independent artists, songwriters, and producers seeking high-end, efficient, and creative music production solutions."},revenueStreams:{title:"Revenue Streams",description:"Subscription fees for AI tools, royalties from released tracks, and premium production/mixing services."},keyResources:{title:"Key Resources",description:"Proprietary AI software, certified training programs, brand assets, and a centralized project management system."},marketingSupport:{title:"Marketing & Support",description:"Global marketing campaigns, local promotional toolkits, operational support, and continuous technology updates."},partnershipModel:{title:"Partnership Model",description:"A collaborative partnership where we provide the technology and brand, and you provide the local operational excellence."}},teamBuildingTitle:"Building Your Production Team",teamBuildingSubtitle:"We provide comprehensive training to ensure your team meets the AURA standard of excellence.",teamRoles:[{role:"Studio Manager",description:"Oversees daily operations, client bookings, and artist satisfaction."},{role:"Lead Producer / Engineer",description:"Head creative professional responsible for sessions and performing advanced production tasks."},{role:"AI Music Specialist",description:"Manages the AI tools, artist data, and ensures seamless tech integration in the workflow."},{role:"Client Coordinator",description:"The first point of contact for artists, managing bookings and project timelines."}],nextStepsTitle:"Your Journey Starts Here",nextStepsSubtitle:"Take the first step towards owning an AURA studio by securing your position with a partnership token.",tokenPurchaseTitle:"Acquire Your Studio Token",tokenPurchaseDescription:"Purchasing a studio token grants you exclusive access to our detailed investment prospectus, a one-on-one session with our expansion team, and priority consideration for your chosen territory. This is a fully refundable deposit.",purchaseButton:"Purchase Studio Token",contactButton:"Contact Our Team"},songIdeaGenerator:{title:"AI Song Idea Generator",subtitle:"Describe a mood, theme, or story, and our AI will help you craft a complete musical concept.",descriptionLabel:"Describe your idea",descriptionPlaceholder:"e.g., 'A melancholic song about walking through a city in the rain at night. Something like a lo-fi hip hop beat.'",suggestionsTitle:"Or, start with one of these ideas:",suggestions:["An upbeat, funky track for a summer road trip.","A dark, cinematic orchestral piece for a movie scene.","A simple, acoustic ballad about lost love.","An energetic 80s-style synthwave track for driving."],analyzing:"Generating...",buttonText:"Generate Song Idea",placeholder:"Your song concept will be displayed here.",analysisTitle:"Song Idea Report",keyCharacteristics:"Key Characteristics",recommendedIngredients:"Recommended Instruments",ingredientsToAvoid:"Instruments to Avoid",actionableSuggestions:"Production Suggestions"},instrumentFinder:{title:"Find Music Gear & Studios",subtitle:"Locate the nearest instrument shop or recording studio for your needs.",searchPlaceholder:"Search by city, instrument, or studio name...",suggestionsTitle:"Try searching for:",suggestions:["Fender guitars in New York","Recording studios with analog gear","Vintage synthesizers","Beginner drum kits"],searchButtonText:"Search",or:"OR",geoSearchButton:"Find Gear Near Me",searching:"Searching...",placeholder:"Search results will appear here.",resultsTitle:"Our Partners",services:"Services Offered",searchTypeLabel:"I'm looking for:",searchTypeClinics:"Stores",searchTypeDoctors:"Studios"},musicGeneration:{title:"Comprehensive AI Analysis",subtitle:"Describe your musical idea, and our AI will provide a deep creative analysis, including theory, arrangement, cost estimates, and more.",saveButton:"Save Project"},musicIdeaForm:{title:"Describe Your Idea",symptomsLabel:"Describe the mood, genre, tempo, and any lyrical ideas.",symptomsPlaceholder:"e.g., 'I want to create a slow, emotional piano track in a minor key. The lyrics should be about nostalgia and looking back at old photos.'",voiceInputStart:"Start voice input",voiceInputStop:"Stop voice input",detailsTitle:"Additional Details (Optional)",aggravatingFactors:"Reference artists or songs?",alleviatingFactors:"Specific instruments to include?",duration:"Target song length?",durationPlaceholder:"e.g., 3 minutes, 4:30",previousTreatments:"DAW or software you're using?",medications:"Any existing melodies or lyrics?",buttonText:"Get Comprehensive Analysis",validationError:"Please describe your idea before analyzing.",culturalPromptsTitle:"Or, start with one of these vibes:"},analysisDisplay:{analysisTitle:"Comprehensive Music Analysis",generating:"Analyzing your idea with AI...",placeholder1:"Your analysis will appear here.",placeholder2:"Fill out the form to get started.",specialistsTitle:"Recommended Producers",conditionsTitle:"Suggested Song Elements",findSpecialistsButton:"Find a producer near you",viewDetails:"View Details",hideDetails:"Hide Details",academicAnalysisButton:"Get Music Theory Info",requestResearchButton:"Request New Feature",loadingDetails:"Loading details...",loadingAcademicAnalysis:"Searching for music theory information...",lowConfidenceFallback:"The AI has low confidence in these results. They are provided for creative inspiration only.",treatmentSectionTitle:"AI-Suggested Next Steps",lifestyleTitle:"Arrangement & Production Advice",songStructureTitle:"Suggested Song Structure",treatmentSuggestionsTitle:"Suggested Initial Techniques",followUpTitle:"Questions to Ask Yourself",prepareSummaryButton:"Prepare Production Brief",generatingSummary:"Generating brief...",copySuccess:"Copied!",skinProfileTitle:"Song Profile",makeupStyleTitle:"Genre & Style Suggestion",homemadeMaskTitle:"Generated Melody/Lyric Idea",keyProducts:"Key Elements",ingredients:"Elements",instructions:"Instructions",costAnalysisTitle:"AI-Generated Production Cost Estimate",calculatingCosts:"Calculating Costs...",calculateCostsButton:"Calculate Estimated Costs",tableHeaderItem:"Service / Item",tableHeaderCost:"Estimated Cost",tableHeaderUnit:"Unit",tableHeaderTotal:"Total Estimated Cost",currency:"USD"},treatmentSummary:{title:"Production Brief",style:"Style",modernDark:"Modern Dark",classicLight:"Classic Light",copyBio:"Copy Brief",namePlaceholder:"Project Brief",locationPlaceholder:"Generated by AURA AI"},producerFinder:{title:"Find a Producer",subtitle:"Based on your analysis, here are some producers who may be a good fit.",maxResults:"Max Results",finding:"Finding producers...",findButton:"Find Producers",validationError:"Complete the analysis first to find relevant producers.",savedTitle:"Saved Producers",clearAll:"Clear All",bio:"Bio",specialty:"Genre",relevance:"Relevance",notesLabel:"My Notes",notesPlaceholder:"e.g., 'Email on Monday about mixing.'",remove:"Remove",crateTitle:"Search Results",crateSubtitle:"Save producers you're interested in.",clearCrate:"Clear Results",rankBy:"Rank by",sort:{relevance:"Relevance",city:"City",name:"Name"},saved:"Saved",save:"Save",parseErrorTitle:"Could not read AI response",parseErrorSubtitle:"The AI returned data in an unexpected format. Here is the raw text:",crateEmpty:"No producers found. Try adjusting your search."}},fa:{header:{home:"",musicGeneration:"   AI",songIdeaGenerator:"   AI",musicSheetGenerator:"   AI",instrumentFinder:" ",aiTutor:"  ",musicTrends:" ",ourProducers:" ",collaboration:"",myProjects:" ",login:" /  ",logout:""},searchModal:{title:"   AURA",placeholder:"    ...",searchButton:"",suggestionsTitle:" ",suggestionQueries:["  Lo-fi","   "," I-V-vi-IV ","  Travis Scott"],resultsTitle:" ",noResults:"   .     .",viewResult:""},hero:{title:"      ",subtitle:"                -       .",button1:"  ",button2:"   ",servicesTitle:"  ",servicesSubtitle:"                       .",services:[{icon:"idea",title:"  ",description:"                  .",targetPage:"song_idea_generator"},{icon:"melody",title:" ",description:"             .",targetPage:"music_generation"},{icon:"sheet_music",title:"  ",description:"                 .",targetPage:"music_sheet_generator"},{icon:"lyrics",title:" ",description:"                  .",targetPage:"music_generation"},{icon:"chords",title:" ",description:"            .",targetPage:"music_generation"},{icon:"drums",title:"  ",description:"             .",targetPage:"music_generation"},{icon:"mastering",title:"   ",description:"              .",targetPage:"music_generation"},{icon:"remix",title:" ",description:"                   .",targetPage:"music_generation"},{icon:"art",title:"  ",description:"               .",targetPage:"music_generation"},{icon:"collab",title:" ",description:"             .",targetPage:"collaboration"},{icon:"health",title:" ",description:"     .      .",targetPage:"home"}],aiExplanation:{title:"      AURA",subtitle:"                .",points:[{title:".  ",description:"                     .            ."},{title:".    ",description:"                               ."},{title:".    ",description:"     (VST)                           ."},{title:".  ",description:"         ( ------)                  ."},{title:".     ",description:"            EQ               Spotify  Apple Music  ."},{title:".   ",description:"                                       ."},{title:".   ",description:"                       ."},{title:".   ",description:"                                 ."}]},homePageAdditions:{testimonialsTitle:"  ",testimonialsSubtitle:"      AURA   .",testimonials:[{quote:"     .         AURA         .",name:" ",treatment:" "},{quote:"AURA        .                .",name:" .",treatment:"   "},{quote:"            .      .",name:" .",treatment:"   "}],featuredDoctorTitle:"     ",featuredDoctorSubtitle:"          .",featuredDoctor:{name:"",specialty:"    ",bio:"                      .          ."},featuredDoctorButton:"   "}},musicSheetGenerator:{title:"     ",subtitle:"        .                  .",promptLabel:"     ",promptPlaceholder:":            .",suggestions:["         .","     ."," '   '.","        ."],buttonText:" ",generating:"  ...",resultsTitle:"   ",abcNotationTitle:"  ABC",copyButton:" ",copySuccess:" !",placeholder:"         .",error:"       .      .",engineLabel:" ",engineMusic21:"Music21",engineMusic21Desc:"  .     .",engineLilypond:"LilyPond",engineLilypondDesc:"      .",engineAbjad:"Abjad",engineAbjadDesc:"      ."},myProjectsPage:{title:"   ",subtitle:"              .",restore:" ",delete:"",savedOn:"  ",emptyTitle:"    ",emptyText:"         .",goBackButton:"   "},footer:{description:"         .",copyright:"  AURA.    ."},quotaErrorModal:{title:"  ",body:"   API   .            .         .",cta:" ",close:""},loginModal:{title:"   ",google:"  ",facebook:"  ",instagram:"  ",or:"",emailPlaceholder:"    ",passwordPlaceholder:"     ",loginButton:""},aiTutor:{title:"   ",subtitle:"           .            .",placeholder:"     ..."},musicTrends:{title:"   ",subtitle:"                 .",searchPlaceholder:": '   -   '",suggestionsTitle:"       :",suggestions:["  ","  ","    ","   "],searching:"  ...",searchButton:"",placeholder:"       .",loading:{scanning:"    ...",synthesizing:"   ...",extracting:"    ...",compiling:"    ..."},analysisModes:{quick:" ","in-depth":" ",swot:" SWOT"},results:{keyInsights:" ",detailedSummary:" ",emergingTrends:" ",opportunities:"",risks:"",strengths:" ",weaknesses:" ",threats:""},sources:"",relatedTopics:" "},ourProducers:{title:"     ",subtitle:"                    .",tableHeaders:{name:"",specialty:" ",bio:"",license:" "},doctors:[{name:"",specialty:" ",bio:"              .",licenseNumber:" Starlight Drive"},{name:" ",specialty:" ",bio:"               .",licenseNumber:" City Lights"},{name:" ",specialty:"  ",bio:"             .",licenseNumber:"  The Last Kingdom"}]},collaborationPage:{title:"     ",goalTitle:" ",goalText:"              .                .",canvasTitle:" ",canvasItems:{item1:"          .",item2:"            .",item3:"         .",item4:"           ."},statusTitle:" ",progressLabel:"  ",statusText:"                   AURA Records .",methodsTitle:" ",crowdfundingTitle:"  ()",crowdfundingText:"                          .",buyTokenButton:" ",seedTitle:"    ",seedText:"                A&R   .                .",viewContractButton:"  ",contactWhatsAppButton:"    ",franchiseTitle:"    ",franchiseText:"       AURA                           .",franchiseButton:"  "},franchisePage:{title:"  AURA ",subtitle:"          .          .",canvasTitle:"     ",canvasSubtitle:"           .",canvasItems:{valueProposition:{title:" ",description:"                  ."},targetMarket:{title:" ",description:"               ."},revenueStreams:{title:" ",description:"              / ."},keyResources:{title:" ",description:"              ."},marketingSupport:{title:"  ",description:"            ."},partnershipModel:{title:" ",description:"                    ."}},teamBuildingTitle:"   ",teamBuildingSubtitle:"             AURA   .",teamRoles:[{role:" ",description:"        ."},{role:" /  ",description:"         ."},{role:"   ",description:"             ."},{role:" ",description:"          ."}],nextStepsTitle:"     ",nextStepsSubtitle:"       AURA         .",tokenPurchaseTitle:"     ",tokenPurchaseDescription:"                              .       .",purchaseButton:"  ",contactButton:"   "},songIdeaGenerator:{title:"     ",subtitle:"                     .",descriptionLabel:"    ",descriptionPlaceholder:": '            .      -  .'",suggestionsTitle:"       :",suggestions:["         .","         .","         .","         ."],analyzing:"  ...",buttonText:"  ",placeholder:"       .",analysisTitle:"  ",keyCharacteristics:" ",recommendedIngredients:" ",ingredientsToAvoid:"    ",actionableSuggestions:" "},instrumentFinder:{title:"     ",subtitle:"           .",searchPlaceholder:"       ...",suggestionsTitle:" :",suggestions:["   ","    "," ","   "],searchButtonText:"",or:"",geoSearchButton:"     ",searching:"  ...",placeholder:"      .",resultsTitle:" ",services:"  ",searchTypeLabel:"  :",searchTypeClinics:"",searchTypeDoctors:""},musicGeneration:{title:"    ",subtitle:"                       .",saveButton:" "},musicIdeaForm:{title:"    ",symptomsLabel:"         .",symptomsPlaceholder:": '           .          .'",voiceInputStart:"  ",voiceInputStop:"  ",detailsTitle:"  ()",aggravatingFactors:"   ",alleviatingFactors:"   ",duration:"  ",durationPlaceholder:":   :",previousTreatments:"  DAW   ",medications:"   ",buttonText:"  ",validationError:"        .",culturalPromptsTitle:"         :"},analysisDisplay:{analysisTitle:"  ",generating:"       ...",placeholder1:"      .",placeholder2:"     .",specialistsTitle:" ",conditionsTitle:"  ",findSpecialistsButton:"      ",viewDetails:" ",hideDetails:"  ",academicAnalysisButton:"   ",requestResearchButton:"  ",loadingDetails:"   ...",loadingAcademicAnalysis:"     ...",lowConfidenceFallback:"       .       .",treatmentSectionTitle:"    ",lifestyleTitle:"   ",songStructureTitle:"  ",treatmentSuggestionsTitle:"  ",followUpTitle:"     ",prepareSummaryButton:"  ",generatingSummary:"   ...",copySuccess:" !",skinProfileTitle:" ",makeupStyleTitle:"   ",homemadeMaskTitle:" /  ",keyProducts:" ",ingredients:"",instructions:"",costAnalysisTitle:"     ",calculatingCosts:"   ...",calculateCostsButton:"  ",tableHeaderItem:" / ",tableHeaderCost:" ",tableHeaderUnit:"",tableHeaderTotal:"   ",currency:""},treatmentSummary:{title:" ",style:"",modernDark:" ",classicLight:" ",copyBio:" ",namePlaceholder:" ",locationPlaceholder:"     AURA"},producerFinder:{title:"  ",subtitle:"              .",maxResults:" ",finding:"   ...",findButton:"  ",validationError:"          .",savedTitle:"  ",clearAll:"  ",bio:"",specialty:"",relevance:"",notesLabel:" ",notesPlaceholder:": '    .'",remove:"",crateTitle:" ",crateSubtitle:"        .",clearCrate:"  ",rankBy:"  ",sort:{relevance:"",city:"",name:""},saved:" ",save:"",parseErrorTitle:"     ",parseErrorSubtitle:"       .      :",crateEmpty:"  .     ."}},ar:{header:{home:"",musicGeneration:"   ",songIdeaGenerator:"    ",musicSheetGenerator:"   ",instrumentFinder:"  ",aiTutor:"  ",musicTrends:" ",ourProducers:"",collaboration:"",myProjects:"",login:"  / ",logout:" "},hero:{title:"      ",subtitle:"             -      .",button1:"   ",button2:"  ",servicesTitle:" ",services:[{icon:"health",title:" ",description:"   .    .",targetPage:"home"}]},musicSheetGenerator:{title:"    ",subtitle:"       .              .",promptLabel:"  ",promptPlaceholder:":          .",suggestions:["       .","   ."," '   '.","       ."],buttonText:" ",generating:" ...",resultsTitle:"  ",abcNotationTitle:"  ABC",copyButton:" ",copySuccess:" !",placeholder:"      .",error:"        .    .",engineLabel:" ",engineMusic21:"Music21",engineMusic21Desc:"   .   .",engineLilypond:"LilyPond",engineLilypondDesc:"     .",engineAbjad:"Abjad",engineAbjadDesc:"    ."},songIdeaGenerator:{title:"    ",subtitle:"              .",descriptionLabel:" ",descriptionPlaceholder:": '        .    -  .'",suggestionsTitle:"    :",suggestions:["        .","     .","     .","      ."],analyzing:" ...",buttonText:"  ",placeholder:"    .",analysisTitle:"  ",keyCharacteristics:" ",recommendedIngredients:"  ",ingredientsToAvoid:"   ",actionableSuggestions:" "},instrumentFinder:{title:"    ",subtitle:"          .",searchPlaceholder:"       ...",suggestionsTitle:"  :",suggestions:["   ","   ","  ","  "],searchButtonText:"",or:"",geoSearchButton:"    ",searching:" ...",placeholder:"   .",resultsTitle:"",services:" ",searchTypeLabel:" :",searchTypeClinics:"",searchTypeDoctors:""},musicTrends:{title:"   ",subtitle:"             Google.",searchPlaceholder:": '   -  2024'",suggestionsTitle:"    :",suggestions:["  ","  ","     ","   "],searching:" ...",searchButton:"",placeholder:"     .",loading:{scanning:"   ...",synthesizing:"  ...",extracting:"   ...",compiling:"  ..."},analysisModes:{quick:" ","in-depth":" ",swot:" SWOT"},results:{keyInsights:" ",detailedSummary:" ",emergingTrends:" ",opportunities:"",risks:"",strengths:" ",weaknesses:" ",threats:""},sources:"",relatedTopics:"  "},myProjectsPage:{title:" ",subtitle:"            .",restore:" ",delete:"",savedOn:" ",emptyTitle:"   ",emptyText:"    .",goBackButton:"  "},footer:{description:"       .",copyright:" 2024 AURA.   ."},musicGeneration:{title:"   ",subtitle:"                 .",saveButton:" "},analysisDisplay:{currency:" ",costAnalysisTitle:"     ",calculatingCosts:"  ...",calculateCostsButton:"  ",tableHeaderItem:" / ",tableHeaderCost:" ",tableHeaderUnit:"",tableHeaderTotal:"  ",songStructureTitle:"  "}}},Dp=j.createContext(null),Ky=({children:i})=>{const[t,s]=j.useState("fa"),o=u=>{s(u),typeof window<"u"&&(document.documentElement.lang=u,document.documentElement.dir=u==="fa"||u==="ar"?"rtl":"ltr")};ps.useEffect(()=>{typeof window<"u"&&(document.documentElement.dir=t==="fa"||t==="ar"?"rtl":"ltr",document.documentElement.lang=t)},[t]);const r=u=>{const h=(g,v)=>{const S=v.split(".");let b=g;for(const C of S)if(b&&typeof b=="object"&&C in b)b=b[C];else return;return b},y=sh[t];let x=h(y,u);if(x===void 0&&t!=="en"){const g=sh.en;x=h(g,u)}return x===void 0?(console.warn(`Translation key not found: ${u}`),u):x};return ps.createElement(Dp.Provider,{value:{language:t,setLanguage:o,t:r}},i)},Je=()=>{const i=j.useContext(Dp);if(!i)throw new Error("useLanguage must be used within a LanguageProvider");return i};function Zy(i){return i&&typeof i=="object"&&"address"in i&&"phone"in i}const Wy=({currentPage:i,setPage:t,isAuthenticated:s,onLoginClick:o,onLogoutClick:r,onSearchClick:u})=>{const{language:h,setLanguage:y,t:x}=Je(),[g,v]=j.useState(!1),[S,b]=j.useState(!1),C=j.useRef(null);j.useEffect(()=>{const k=Y=>{C.current&&!C.current.contains(Y.target)&&v(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const w=k=>{t(k),b(!1),window.scrollTo(0,0)},R=[{key:"home",text:x("header.home"),action:()=>w("home")},{key:"song_idea_generator",text:x("header.songIdeaGenerator"),action:()=>w("song_idea_generator")},{key:"music_generation",text:x("header.musicGeneration"),action:()=>w("music_generation")},{key:"music_sheet_generator",text:x("header.musicSheetGenerator"),action:()=>w("music_sheet_generator")},{key:"instrument_finder",text:x("header.instrumentFinder"),action:()=>w("instrument_finder")},{key:"ai_tutor",text:x("header.aiTutor"),action:()=>w("ai_tutor")},{key:"music_trends",text:x("header.musicTrends"),action:()=>w("music_trends")},{key:"our_producers",text:x("header.ourProducers"),action:()=>w("our_producers")},{key:"collaboration",text:x("header.collaboration"),action:()=>w("collaboration")},{key:"my_projects",text:x("header.myProjects"),action:()=>w("my_projects")}];return m.jsxs("header",{className:"bg-gray-900/80 backdrop-blur-sm sticky top-0 z-50 border-b border-white/10",children:[m.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex items-center justify-between h-20",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsxs("button",{onClick:()=>t("home"),className:"flex-shrink-0 flex items-center space-x-2 rtl:space-x-reverse transform transition-transform hover:scale-105",children:[m.jsxs("svg",{className:"h-8 w-8 text-rose-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[m.jsx("path",{d:"M10 2a.75.75 0 01.75.75v.255a.25.25 0 00.5 0V2.75A.75.75 0 0112 2h.25a.25.25 0 000-.5H12a.75.75 0 01-.75-.75V.5a.25.25 0 00-.5 0v.25A.75.75 0 0110 2zM8 4.25a.25.25 0 00-.5 0V5a.75.75 0 01-1.5 0V4.25a.25.25 0 00-.5 0V5A.75.75 0 014 5h-.25a.25.25 0 000 .5H4A.75.75 0 014.75 6v.25a.25.25 0 00.5 0V6A.75.75 0 016 5.25h.25a.25.25 0 000-.5H6A.75.75 0 015.25 4V3.75a.25.25 0 00-.5 0V4c0 .414.336.75.75.75h.5a.75.75 0 01.75-.75V3.75a.25.25 0 00-.5 0v.5zM12.25 6a.25.25 0 00.5 0V5.75A.75.75 0 0114 5h.25a.25.25 0 000-.5H14a.75.75 0 01-.75-.75V3.5a.25.25 0 00-.5 0v.25A.75.75 0 0112 4.5h-.25a.25.25 0 000 .5h.25A.75.75 0 0112.75 6z"}),m.jsx("path",{fillRule:"evenodd",d:"M3 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H3.75a.75.75 0 01-.75-.75V10zm1.5 0V8.75a.75.75 0 00-1.5 0V10a.75.75 0 00.75.75h.01a.75.75 0 00.75-.75zm1.5.75a.75.75 0 000-1.5H6a.75.75 0 000 1.5h.75zm1.5 0a.75.75 0 000-1.5h-.01a.75.75 0 000 1.5h.01zM10 8.25a.75.75 0 01.75.75v.01a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm1.5.75a.75.75 0 00-.75-.75h-.01a.75.75 0 000 1.5h.01a.75.75 0 00.75-.75zm1.5.75a.75.75 0 01.75-.75h.01a.75.75 0 010 1.5h-.01a.75.75 0 01-.75-.75zM15.25 10a.75.75 0 00-1.5 0v.01a.75.75 0 001.5 0V10zM3 15a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H3.75a.75.75 0 01-.75-.75v-.01zm1.5 0V13.75a.75.75 0 00-1.5 0V15a.75.75 0 00.75.75h.01a.75.75 0 00.75-.75zm1.5.75a.75.75 0 000-1.5H6a.75.75 0 000 1.5h.75zm1.5 0a.75.75 0 000-1.5h-.01a.75.75 0 000 1.5h.01zM10 13.25a.75.75 0 01.75.75v.01a.75.75 0 01-1.5 0v-.01a.75.75 0 01.75-.75zm1.5.75a.75.75 0 00-.75-.75h-.01a.75.75 0 000 1.5h.01a.75.75 0 00.75-.75zm1.5.75a.75.75 0 01.75-.75h.01a.75.75 0 010 1.5h-.01a.75.75 0 01-.75-.75zm2.25.75a.75.75 0 000-1.5h-.01a.75.75 0 000 1.5h.01z",clipRule:"evenodd"})]}),m.jsx("span",{className:"font-bold text-xl text-white",children:"AURA"})]}),m.jsx("nav",{className:"hidden md:flex md:ml-10 md:space-x-4 lg:space-x-8",children:R.map(k=>m.jsx("button",{onClick:k.action,className:`text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transform transition-all duration-200 hover:-translate-y-0.5 ${i===k.key?"text-rose-300":""}`,children:k.text},k.key))})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{onClick:u,className:"flex items-center text-gray-300 hover:text-white transform transition-transform hover:scale-110","aria-label":"Search",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),m.jsxs("div",{className:"relative",ref:C,children:[m.jsx("button",{onClick:()=>v(!g),className:"flex items-center text-gray-300 hover:text-white transform transition-transform hover:scale-110","aria-label":"Change language",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5h12M9 3v2m4 13l4-4M19 9l-4 4M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),g&&m.jsx("div",{className:"absolute right-0 rtl:left-0 rtl:right-auto mt-2 w-48 rounded-md shadow-lg bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"language-menu",children:m.jsxs("div",{className:"p-1",role:"none",children:[m.jsx("button",{onClick:()=>{y("en"),v(!1)},className:`w-full text-left block px-4 py-2 text-sm rounded-md transition-colors ${h==="en"?"bg-rose-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,role:"menuitem",children:"English"}),m.jsx("button",{onClick:()=>{y("fa"),v(!1)},className:`w-full text-left block px-4 py-2 text-sm rounded-md transition-colors ${h==="fa"?"bg-rose-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,role:"menuitem",children:" (Persian)"}),m.jsx("button",{onClick:()=>{y("ar"),v(!1)},className:`w-full text-left block px-4 py-2 text-sm rounded-md transition-colors ${h==="ar"?"bg-rose-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,role:"menuitem",children:" (Arabic)"})]})})]}),m.jsx("div",{className:"hidden sm:block",children:s?m.jsx("button",{onClick:r,className:"px-4 py-2 bg-rose-600 text-white font-semibold rounded-md hover:bg-rose-700 transition-colors text-sm",children:x("header.logout")}):m.jsx("button",{onClick:o,className:"px-4 py-2 bg-gray-700/50 border border-gray-500 text-white font-semibold rounded-md hover:bg-gray-700 transition-colors text-sm",children:x("header.login")})}),m.jsx("div",{className:"flex md:hidden",children:m.jsxs("button",{onClick:()=>b(!S),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none",children:[m.jsx("span",{className:"sr-only",children:"Open main menu"}),S?m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):m.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})})]})]})}),S&&m.jsx("div",{className:"md:hidden animate-fade-in",children:m.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[R.map(k=>m.jsx("button",{onClick:k.action,className:`w-full text-left text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium ${i===k.key?"bg-gray-900 text-white":""}`,children:k.text},k.key)),m.jsx("div",{className:"pt-4 border-t border-gray-700",children:s?m.jsx("button",{onClick:()=>{r(),b(!1)},className:"w-full text-left text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:x("header.logout")}):m.jsx("button",{onClick:()=>{o(),b(!1)},className:"w-full text-left text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:x("header.login")})})]})})]})},ex=({name:i,className:t="h-12 w-12 text-rose-400 mb-4"})=>{switch(i){case"idea":return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})});case"melody":return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 6l12-3"})});case"lyrics":return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})});case"chords":return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 17V7h2a2 2 0 100-4H7a2 2 0 00-2 2v12a2 2 0 002 2h2a2 2 0 100-4H9z"})});case"drums":return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})});case"mastering":return m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]});case"remix":return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})});case"sheet_music":return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});case"art":return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"collab":return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm-9 3a2 2 0 11-4 0 2 2 0 014 0z"})});case"health":return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})});default:return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 6.253v11.494m-9-5.494h18"})})}},lh=({setPage:i})=>{const{language:t,setLanguage:s,t:o}=Je(),r=o("hero.services"),u=o("hero.homePageAdditions"),h=o("hero.aiExplanation"),[y,x]=j.useState(0);return m.jsxs("div",{className:"animate-fade-in bg-gray-900 text-white",children:[m.jsxs("section",{className:"relative h-screen flex items-center justify-center text-center overflow-hidden",children:[m.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute z-0 w-auto min-w-full min-h-full max-w-none object-cover",src:"https://cdn.pixabay.com/video/2022/09/20/129188-751915934_large.mp4",poster:"https://cdn.pixabay.com/photo/2017/08/30/17/23/fantasy-2697968_1280.jpg"}),m.jsx("div",{className:"absolute inset-0 bg-black opacity-60 z-10"}),m.jsxs("div",{className:"z-20 p-4 space-y-6",children:[m.jsx("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-extrabold tracking-tight",dangerouslySetInnerHTML:{__html:o("hero.title")}}),m.jsx("p",{className:"text-lg md:text-xl text-gray-300 max-w-3xl mx-auto",children:o("hero.subtitle")}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4",children:[m.jsx("button",{onClick:()=>i("music_generation"),className:"px-8 py-4 bg-gradient-to-r from-rose-500 to-pink-500 text-white font-bold rounded-lg hover:from-rose-600 hover:to-pink-600 transition-all text-lg shadow-lg hover:shadow-rose-500/40 transform duration-300 hover:scale-110 hover:-translate-y-1 animate-pulse-glow",children:o("hero.button1")}),m.jsx("button",{onClick:()=>i("our_producers"),className:"px-8 py-4 bg-transparent border-2 border-white/70 text-white font-bold rounded-lg hover:bg-white/10 hover:border-white transition-all text-lg transform duration-300 hover:scale-105 hover:-translate-y-1",children:o("hero.button2")})]})]}),m.jsxs("div",{className:"absolute bottom-8 z-20 flex items-center justify-center space-x-2 sm:space-x-4 bg-gray-900/50 backdrop-blur-sm p-2 rounded-full shadow-lg",children:[m.jsx("button",{onClick:()=>s("en"),className:`px-3 sm:px-4 py-1.5 text-sm font-semibold rounded-full transition-colors ${t==="en"?"bg-rose-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"English"}),m.jsx("button",{onClick:()=>s("fa"),className:`px-3 sm:px-4 py-1.5 text-sm font-semibold rounded-full transition-colors ${t==="fa"?"bg-rose-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:""}),m.jsx("button",{onClick:()=>s("ar"),className:`px-3 sm:px-4 py-1.5 text-sm font-semibold rounded-full transition-colors ${t==="ar"?"bg-rose-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:""})]})]}),m.jsx("section",{className:"py-20 sm:py-28 bg-gray-900",children:m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[m.jsx("h2",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:o("hero.servicesTitle")}),m.jsx("p",{className:"mt-4 text-lg text-gray-300",children:o("hero.servicesSubtitle")})]}),m.jsx("div",{className:"mt-16 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((g,v)=>m.jsxs("button",{onClick:()=>{g.targetPage!=="home"&&i(g.targetPage)},className:`bg-gray-800/50 p-8 rounded-lg border border-white/10 text-left transition-all duration-300 group ${g.targetPage==="home"?"cursor-default":"hover:border-rose-400/50 hover:bg-gray-800 hover:-translate-y-2"}`,children:[m.jsx(ex,{name:g.icon}),m.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-rose-300 transition-colors",children:g.title}),m.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:g.description})]},v))})]})}),m.jsx("section",{className:"py-20 sm:py-28 bg-gray-800/30",children:m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[m.jsx("h2",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:h.title}),m.jsx("p",{className:"mt-4 text-lg text-gray-300",children:h.subtitle})]}),m.jsx("div",{className:"mt-16 max-w-4xl mx-auto space-y-4",children:h.points.map((g,v)=>m.jsxs("div",{className:"border border-white/10 rounded-lg overflow-hidden transition-all duration-300 bg-gray-900/30",children:[m.jsxs("button",{onClick:()=>x(y===v?null:v),className:"w-full flex justify-between items-center p-5 text-left hover:bg-gray-900/50 transition-colors","aria-expanded":y===v,"aria-controls":`accordion-content-${v}`,children:[m.jsx("h3",{className:"text-lg font-semibold text-white",children:g.title}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 text-rose-400 transition-transform duration-300 transform ${y===v?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m.jsx("div",{id:`accordion-content-${v}`,className:`transition-all duration-500 ease-in-out grid ${y===v?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:m.jsx("div",{className:"overflow-hidden",children:m.jsx("div",{className:"p-5 bg-gray-800/50 text-gray-300 border-t border-white/10",children:m.jsx("p",{className:"leading-relaxed",children:g.description})})})})]},v))})]})}),m.jsx("section",{className:"py-20 sm:py-28 bg-gray-900",children:m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[m.jsx("h2",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:u.testimonialsTitle}),m.jsx("p",{className:"mt-4 text-lg text-gray-300",children:u.testimonialsSubtitle})]}),m.jsx("div",{className:"mt-16 max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:u.testimonials.map((g,v)=>m.jsxs("div",{className:"bg-gray-800/50 p-8 rounded-lg border border-white/10 text-center relative overflow-hidden flex flex-col",children:[m.jsx("svg",{className:"absolute top-0 left-0 h-24 w-24 text-rose-500/10 transform -translate-x-4 -translate-y-4 rtl:right-0 rtl:left-auto rtl:translate-x-4",stroke:"currentColor",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-9.609l.017.017v3.316h-2.54c-2.883 0-4.444 2.118-4.444 4.542v9.122h-2zM.017 21v-7.391c0-5.704 3.731-9.57 8.983-9.609l.017.017v3.316h-2.54c-2.883 0-4.444 2.118-4.444 4.542v9.122h-2z"})}),m.jsx("div",{className:"flex-grow z-10",children:m.jsxs("p",{className:"text-gray-300 italic",children:['"',g.quote,'"']})}),m.jsxs("div",{className:"mt-6 z-10",children:[m.jsx("p",{className:"font-bold text-white text-lg",children:g.name}),m.jsx("p",{className:"text-sm text-rose-300",children:g.treatment})]})]},v))})]})}),m.jsx("section",{className:"py-20 sm:py-28 bg-black/20",children:m.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-5xl mx-auto grid md:grid-cols-2 gap-12 items-center bg-gray-800/50 rounded-lg shadow-lg border border-white/10 p-8 sm:p-12 overflow-hidden",children:[m.jsxs("div",{className:"relative h-96 md:h-full rounded-lg overflow-hidden order-1 md:order-2",children:[m.jsx("img",{src:"https://images.unsplash.com/photo-1580894742597-87bc8789db3d?q=80&w=1000&auto=format&fit=crop",alt:u.featuredDoctor.name,className:"absolute inset-0 w-full h-full object-cover object-center"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-800/80 via-transparent to-transparent md:bg-gradient-to-l md:from-gray-800/80"})]}),m.jsxs("div",{className:"relative z-10 order-2 md:order-1",children:[m.jsx("h3",{className:"text-base font-semibold uppercase tracking-wider text-rose-300",children:u.featuredDoctorTitle}),m.jsx("h2",{className:"mt-2 text-3xl sm:text-4xl font-extrabold text-white",children:u.featuredDoctor.name}),m.jsx("p",{className:"mt-1 text-lg text-rose-200/90",children:u.featuredDoctor.specialty}),m.jsx("p",{className:"mt-4 text-gray-400 leading-relaxed",children:u.featuredDoctor.bio}),m.jsx("div",{className:"mt-8",children:m.jsx("button",{onClick:()=>i("our_producers"),className:"px-8 py-3 bg-gray-700/50 border border-gray-500 text-white font-semibold rounded-md hover:bg-gray-700 transition-all text-lg transform duration-300 hover:scale-105 hover:-translate-y-1",children:u.featuredDoctorButton})})]})]})})})]})},tx=({savedProjects:i,onRestore:t,onDelete:s,setPage:o})=>{const{language:r,t:u}=Je();return m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24 animate-fade-in",children:[m.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[m.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:u("myProjectsPage.title")}),m.jsx("p",{className:"mt-4 text-lg text-gray-300",children:u("myProjectsPage.subtitle")})]}),m.jsx("div",{className:"mt-16 max-w-4xl mx-auto",children:i.length>0?m.jsx("div",{className:"space-y-6",children:i.map(h=>m.jsxs("div",{className:"bg-gray-800/50 border border-white/10 rounded-lg shadow-md p-4",children:[m.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-2",children:[m.jsx("p",{className:"text-lg font-semibold text-white truncate pr-2",children:h.name}),m.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2",children:[m.jsx("button",{onClick:()=>t(h.id),title:u("myProjectsPage.restore"),className:"p-2 text-gray-400 rounded-full hover:bg-gray-700 hover:text-blue-400 transition-all transform hover:scale-110",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[m.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),m.jsx("path",{fillRule:"evenodd",d:"M.458 10C3.732 4.943 9.522 3 10 3s6.268 1.943 9.542 7c-3.274 5.057-9.064 7-9.542 7S3.732 15.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}),m.jsx("button",{onClick:()=>s(h.id),title:u("myProjectsPage.delete"),className:"p-2 text-gray-400 rounded-full hover:bg-gray-700 hover:text-red-400 transition-all transform hover:scale-110",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),m.jsx("div",{className:"mt-2 text-sm text-gray-400",children:m.jsxs("time",{dateTime:new Date(h.timestamp).toISOString(),children:[u("myProjectsPage.savedOn")," ",new Date(h.timestamp).toLocaleString(r==="fa"?"fa-IR":"en-US")]})})]},h.id))}):m.jsxs("div",{className:"text-center bg-gray-800/50 border border-dashed border-gray-600 rounded-lg p-12",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2-2H5a2 2 0 01-2-2z"})}),m.jsx("h3",{className:"mt-2 text-xl font-medium text-white",children:u("myProjectsPage.emptyTitle")}),m.jsx("p",{className:"mt-1 text-sm text-gray-400",children:u("myProjectsPage.emptyText")}),m.jsx("div",{className:"mt-6",children:m.jsx("button",{type:"button",onClick:()=>o("music_generation"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-rose-500 transition-all transform hover:-translate-y-1",children:u("myProjectsPage.goBackButton")})})]})})]})},nx=()=>{const{t:i}=Je();return m.jsx("footer",{id:"footer",className:"bg-black/20 backdrop-blur-sm text-gray-400 border-t border-white/10",children:m.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[m.jsxs("svg",{className:"h-8 w-8 text-rose-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[m.jsx("path",{d:"M10 2a.75.75 0 01.75.75v.255a.25.25 0 00.5 0V2.75A.75.75 0 0112 2h.25a.25.25 0 000-.5H12a.75.75 0 01-.75-.75V.5a.25.25 0 00-.5 0v.25A.75.75 0 0110 2zM8 4.25a.25.25 0 00-.5 0V5a.75.75 0 01-1.5 0V4.25a.25.25 0 00-.5 0V5A.75.75 0 014 5h-.25a.25.25 0 000 .5H4A.75.75 0 014.75 6v.25a.25.25 0 00.5 0V6A.75.75 0 016 5.25h.25a.25.25 0 000-.5H6A.75.75 0 015.25 4V3.75a.25.25 0 00-.5 0V4c0 .414.336.75.75.75h.5a.75.75 0 01.75-.75V3.75a.25.25 0 00-.5 0v.5zM12.25 6a.25.25 0 00.5 0V5.75A.75.75 0 0114 5h.25a.25.25 0 000-.5H14a.75.75 0 01-.75-.75V3.5a.25.25 0 00-.5 0v.25A.75.75 0 0112 4.5h-.25a.25.25 0 000 .5h.25A.75.75 0 0112.75 6z"}),m.jsx("path",{fillRule:"evenodd",d:"M3 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H3.75a.75.75 0 01-.75-.75V10zm1.5 0V8.75a.75.75 0 00-1.5 0V10a.75.75 0 00.75.75h.01a.75.75 0 00.75-.75zm1.5.75a.75.75 0 000-1.5H6a.75.75 0 000 1.5h.75zm1.5 0a.75.75 0 000-1.5h-.01a.75.75 0 000 1.5h.01zM10 8.25a.75.75 0 01.75.75v.01a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm1.5.75a.75.75 0 00-.75-.75h-.01a.75.75 0 000 1.5h.01a.75.75 0 00.75-.75zm1.5.75a.75.75 0 01.75-.75h.01a.75.75 0 010 1.5h-.01a.75.75 0 01-.75-.75zM15.25 10a.75.75 0 00-1.5 0v.01a.75.75 0 001.5 0V10zM3 15a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H3.75a.75.75 0 01-.75-.75v-.01zm1.5 0V13.75a.75.75 0 00-1.5 0V15a.75.75 0 00.75.75h.01a.75.75 0 00.75-.75zm1.5.75a.75.75 0 000-1.5H6a.75.75 0 000 1.5h.75zm1.5 0a.75.75 0 000-1.5h-.01a.75.75 0 000 1.5h.01zM10 13.25a.75.75 0 01.75.75v.01a.75.75 0 01-1.5 0v-.01a.75.75 0 01.75-.75zm1.5.75a.75.75 0 00-.75-.75h-.01a.75.75 0 000 1.5h.01a.75.75 0 00.75-.75zm1.5.75a.75.75 0 01.75-.75h.01a.75.75 0 010 1.5h-.01a.75.75 0 01-.75-.75zm2.25.75a.75.75 0 000-1.5h-.01a.75.75 0 000 1.5h.01z",clipRule:"evenodd"})]}),m.jsx("span",{className:"font-bold text-xl text-white",children:"AURA"})]}),m.jsx("p",{className:"text-sm leading-relaxed max-w-sm",children:i("footer.description")})]}),m.jsx("div",{className:"text-center md:text-right",children:m.jsx("p",{className:"text-xs",children:i("footer.copyright")})})]})})})},ix=({isOpen:i,onClose:t})=>{const{t:s}=Je();return i?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 animate-fade-in","aria-modal":"true",role:"dialog",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md mx-4 border border-red-500/50",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-900",children:m.jsx("svg",{className:"h-6 w-6 text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),m.jsx("h3",{className:"mt-5 text-lg font-semibold leading-6 text-white",children:s("quotaErrorModal.title")}),m.jsx("div",{className:"mt-2",children:m.jsx("p",{className:"text-sm text-gray-400",children:s("quotaErrorModal.body")})})]}),m.jsxs("div",{className:"mt-5 sm:mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[m.jsx("a",{href:"https://aistudio.google.com/billing",target:"_blank",rel:"noopener noreferrer",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none sm:text-sm text-center",children:s("quotaErrorModal.cta")}),m.jsx("button",{type:"button",onClick:t,className:"w-full inline-flex justify-center rounded-md border border-gray-600 shadow-sm px-4 py-2 bg-gray-700 text-base font-medium text-white hover:bg-gray-600 focus:outline-none sm:text-sm",children:s("quotaErrorModal.close")})]})]})}):null},sx=[{version:"1.0.0",date:"2024-07-26",changes:{en:[{type:"new",text:"Initial release of the AURA AI Music Studio platform."},{type:"improvement",text:"Enhanced AI analysis for music generation."},{type:"fix",text:"Fixed a bug in the login modal."}],fa:[{type:"new",text:"       AURA."},{type:"improvement",text:"      ."},{type:"fix",text:"    ."}],ar:[{type:"new",text:"     AURA AI."},{type:"improvement",text:"     ."},{type:"fix",text:"     ."}]}}],lx={en:["A sad, melancholic song about rain, with a simple piano melody.","An upbeat, energetic synthwave track for a night drive.","A funky, groovy bassline-driven track like Vulfpeck.","A dark, atmospheric trap beat with a heavy 808."],fa:["            .","         .","          Vulfpeck.","       808 ."],ar:["        .","      .","        Vulfpeck.","     808 ."]},ox=({isOpen:i,onClose:t})=>{const{language:s,t:o}=Je();if(!i)return null;const r=h=>{switch(h){case"new":return"bg-green-500/20 text-green-300 border-green-500/30";case"improvement":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"fix":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}},u=h=>{switch(h){case"new":return o("changelog.new");case"improvement":return o("changelog.improvement");case"fix":return o("changelog.fix");default:return h.toUpperCase()}};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 animate-fade-in","aria-modal":"true",role:"dialog",onClick:t,children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl mx-4 border border-gray-700 max-h-[80vh] flex flex-col",onClick:h=>h.stopPropagation(),children:[m.jsxs("header",{className:"p-5 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[m.jsx("h3",{className:"text-xl font-semibold leading-6 text-white",children:o("changelog.title")}),m.jsx("button",{type:"button",onClick:t,className:"p-2 rounded-full text-gray-400 hover:bg-gray-700 hover:text-white transition-colors","aria-label":"Close",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx("div",{className:"p-6 overflow-y-auto",children:m.jsx("div",{className:"space-y-8",children:sx.map(h=>m.jsxs("section",{"aria-labelledby":`version-${h.version}`,children:[m.jsxs("div",{className:"flex items-baseline space-x-3 rtl:space-x-reverse",children:[m.jsx("h4",{id:`version-${h.version}`,className:"text-2xl font-bold text-gray-100",children:h.version}),m.jsx("p",{className:"text-sm text-gray-400",children:new Date(h.date).toLocaleDateString(s==="fa"?"fa-IR":"en-US",{year:"numeric",month:"long",day:"numeric"})})]}),m.jsx("ul",{className:"mt-4 space-y-3 border-l-2 border-gray-700 pl-6 rtl:border-l-0 rtl:border-r-2 rtl:pl-0 rtl:pr-6",children:h.changes[s].map((y,x)=>m.jsxs("li",{className:"flex items-start gap-x-3",children:[m.jsx("span",{className:`flex-shrink-0 text-xs font-semibold mt-1 px-2 py-0.5 rounded-md border ${r(y.type)}`,children:u(y.type)}),m.jsx("p",{className:"text-gray-300",children:y.text})]},x))})]},h.version))})})]})})},ax=({isOpen:i,onClose:t,onLogin:s})=>{const{t:o}=Je(),[r,u]=j.useState(""),[h,y]=j.useState(""),[x,g]=j.useState({email:"",password:""});if(!i)return null;const v=()=>{const C={email:"",password:""};let w=!0;return r?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(C.email=o("validation.email"),w=!1):(C.email=o("validation.required"),w=!1),h?h.length<6&&(C.password=o("validation.passwordLength"),w=!1):(C.password=o("validation.required"),w=!1),g(C),w},S=C=>{C.preventDefault(),v()&&s()},b=({icon:C,text:w,onClick:R,className:k})=>m.jsxs("button",{type:"button",onClick:R,className:`w-full flex items-center justify-center gap-3 py-3 px-4 rounded-md text-sm font-medium transition-colors shadow-sm ${k}`,children:[C,m.jsx("span",{children:w})]});return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 animate-fade-in",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"login-modal-title",children:m.jsxs("div",{className:"bg-gray-800 text-white rounded-lg shadow-xl w-full max-w-sm mx-4 border border-gray-700",onClick:C=>C.stopPropagation(),children:[m.jsxs("header",{className:"p-5 border-b border-gray-700 flex justify-between items-center",children:[m.jsx("h2",{id:"login-modal-title",className:"text-xl font-bold",children:o("loginModal.title")}),m.jsx("button",{type:"button",onClick:t,className:"p-2 rounded-full text-gray-400 hover:bg-gray-700 hover:text-white","aria-label":"Close",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsxs("main",{className:"p-8 space-y-6",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsx(b,{onClick:s,icon:m.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),m.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),m.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238C29.211 35.091 26.715 36 24 36c-5.222 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),m.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.012 36.417 44 30.618 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),text:o("loginModal.google"),className:"bg-white text-gray-700 hover:bg-gray-200"}),m.jsx(b,{onClick:s,icon:m.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33V21.878A10.003 10.003 0 0022 12z"})}),text:o("loginModal.facebook"),className:"bg-[#1877F2] text-white hover:bg-[#166eab]"}),m.jsx(b,{onClick:s,icon:m.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.012 3.584-.07 4.85c-.148 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.012-3.584.07-4.85c.148-3.225 1.664-4.771 4.919-4.919 1.266-.057 1.644-.069 4.85-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12s.014 3.667.072 4.947c.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24s3.667-.014 4.947-.072c4.358-.2 6.78-2.618 6.98-6.98C23.986 15.667 24 15.259 24 12s-.014-3.667-.072-4.947c-.2-4.358-2.618-6.78-6.98-6.98C15.667.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.88 1.44 1.44 0 000-2.88z"})}),text:o("loginModal.instagram"),className:"bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white hover:opacity-90"})]}),m.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[m.jsx("div",{className:"flex-grow border-t border-gray-600"}),m.jsx("span",{className:"flex-shrink mx-4",children:o("loginModal.or")}),m.jsx("div",{className:"flex-grow border-t border-gray-600"})]}),m.jsxs("form",{onSubmit:S,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"sr-only",children:o("loginModal.emailPlaceholder")}),m.jsx("input",{type:"email",id:"email",value:r,onChange:C=>{u(C.target.value),x.email&&g(w=>({...w,email:""}))},placeholder:o("loginModal.emailPlaceholder"),className:`w-full bg-gray-700 rounded-md p-3 focus:outline-none transition-colors ${x.email?"border border-red-500 ring-2 ring-red-500/50":"border border-gray-600 focus:ring-2 focus:ring-brown-500"}`,required:!0}),x.email&&m.jsx("p",{className:"mt-2 text-sm text-red-400 animate-fade-in",children:x.email})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"sr-only",children:o("loginModal.passwordPlaceholder")}),m.jsx("input",{type:"password",id:"password",value:h,onChange:C=>{y(C.target.value),x.password&&g(w=>({...w,password:""}))},placeholder:o("loginModal.passwordPlaceholder"),className:`w-full bg-gray-700 rounded-md p-3 focus:outline-none transition-colors ${x.password?"border border-red-500 ring-2 ring-red-500/50":"border border-gray-600 focus:ring-2 focus:ring-brown-500"}`,required:!0}),x.password&&m.jsx("p",{className:"mt-2 text-sm text-red-400 animate-fade-in",children:x.password})]}),m.jsx("button",{type:"submit",className:"w-full py-3 bg-brown-600 text-white font-semibold rounded-md hover:bg-brown-700 transition-colors",children:o("loginModal.loginButton")})]})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let rx,ux;function cx(){return{geminiUrl:rx,vertexUrl:ux}}function dx(i,t,s,o){var r,u;if(!(i!=null&&i.baseUrl)){const h=cx();return t?(r=h.vertexUrl)!==null&&r!==void 0?r:s:(u=h.geminiUrl)!==null&&u!==void 0?u:o}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bi{}function oe(i,t){const s=/\{([^}]+)\}/g;return i.replace(s,(o,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const u=t[r];return u!=null?String(u):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function d(i,t,s){for(let u=0;u<t.length-1;u++){const h=t[u];if(h.endsWith("[]")){const y=h.slice(0,-2);if(!(y in i))if(Array.isArray(s))i[y]=Array.from({length:s.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(i[y])){const x=i[y];if(Array.isArray(s))for(let g=0;g<x.length;g++){const v=x[g];d(v,t.slice(u+1),s[g])}else for(const g of x)d(g,t.slice(u+1),s)}return}else if(h.endsWith("[0]")){const y=h.slice(0,-3);y in i||(i[y]=[{}]);const x=i[y];d(x[0],t.slice(u+1),s);return}(!i[h]||typeof i[h]!="object")&&(i[h]={}),i=i[h]}const o=t[t.length-1],r=i[o];if(r!==void 0){if(!s||typeof s=="object"&&Object.keys(s).length===0||s===r)return;if(typeof r=="object"&&typeof s=="object"&&r!==null&&s!==null)Object.assign(r,s);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof s=="object"&&s!==null&&!Array.isArray(s)?Object.assign(i,s):i[o]=s}function c(i,t,s=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let o=0;o<t.length;o++){if(typeof i!="object"||i===null)return s;const r=t[o];if(r.endsWith("[]")){const u=r.slice(0,-2);if(u in i){const h=i[u];return Array.isArray(h)?h.map(y=>c(y,t.slice(o+1),s)):s}else return s}else i=i[r]}return i}catch(o){if(o instanceof TypeError)return s;throw o}}function fx(i,t){for(const[s,o]of Object.entries(t)){const r=s.split("."),u=o.split("."),h=new Set;let y=-1;for(let x=0;x<r.length;x++)if(r[x]==="*"){y=x;break}if(y!==-1&&u.length>y)for(let x=y;x<u.length;x++){const g=u[x];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&h.add(g)}Eu(i,r,u,0,h)}}function Eu(i,t,s,o,r){if(o>=t.length||typeof i!="object"||i===null)return;const u=t[o];if(u.endsWith("[]")){const h=u.slice(0,-2),y=i;if(h in y&&Array.isArray(y[h]))for(const x of y[h])Eu(x,t,s,o+1,r)}else if(u==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const h=i,y=Object.keys(h).filter(g=>!g.startsWith("_")&&!r.has(g)),x={};for(const g of y)x[g]=h[g];for(const[g,v]of Object.entries(x)){const S=[];for(const b of s.slice(o))b==="*"?S.push(g):S.push(b);d(h,S,v)}for(const g of y)delete h[g]}}else{const h=i;u in h&&Eu(h[u],t,s,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mx(i){const t={},s=c(i,["operationName"]);s!=null&&d(t,["operationName"],s);const o=c(i,["resourceName"]);return o!=null&&d(t,["_url","resourceName"],o),t}function hx(i){const t={},s=c(i,["name"]);s!=null&&d(t,["name"],s);const o=c(i,["metadata"]);o!=null&&d(t,["metadata"],o);const r=c(i,["done"]);r!=null&&d(t,["done"],r);const u=c(i,["error"]);u!=null&&d(t,["error"],u);const h=c(i,["response","generateVideoResponse"]);return h!=null&&d(t,["response"],gx(h)),t}function px(i){const t={},s=c(i,["name"]);s!=null&&d(t,["name"],s);const o=c(i,["metadata"]);o!=null&&d(t,["metadata"],o);const r=c(i,["done"]);r!=null&&d(t,["done"],r);const u=c(i,["error"]);u!=null&&d(t,["error"],u);const h=c(i,["response"]);return h!=null&&d(t,["response"],yx(h)),t}function gx(i){const t={},s=c(i,["generatedSamples"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(h=>xx(h))),d(t,["generatedVideos"],u)}const o=c(i,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const r=c(i,["raiMediaFilteredReasons"]);return r!=null&&d(t,["raiMediaFilteredReasons"],r),t}function yx(i){const t={},s=c(i,["videos"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(h=>vx(h))),d(t,["generatedVideos"],u)}const o=c(i,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const r=c(i,["raiMediaFilteredReasons"]);return r!=null&&d(t,["raiMediaFilteredReasons"],r),t}function xx(i){const t={},s=c(i,["video"]);return s!=null&&d(t,["video"],bx(s)),t}function vx(i){const t={},s=c(i,["_self"]);return s!=null&&d(t,["video"],Ex(s)),t}function Tx(i){const t={},s=c(i,["operationName"]);return s!=null&&d(t,["_url","operationName"],s),t}function Sx(i){const t={},s=c(i,["operationName"]);return s!=null&&d(t,["_url","operationName"],s),t}function bx(i){const t={},s=c(i,["uri"]);s!=null&&d(t,["uri"],s);const o=c(i,["encodedVideo"]);o!=null&&d(t,["videoBytes"],Lu(o));const r=c(i,["encoding"]);return r!=null&&d(t,["mimeType"],r),t}function Ex(i){const t={},s=c(i,["gcsUri"]);s!=null&&d(t,["uri"],s);const o=c(i,["bytesBase64Encoded"]);o!=null&&d(t,["videoBytes"],Lu(o));const r=c(i,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(oh||(oh={}));var ah;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(ah||(ah={}));var rh;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(rh||(rh={}));var ve;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ve||(ve={}));var uh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(uh||(uh={}));var ch;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(ch||(ch={}));var dh;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(dh||(dh={}));var fh;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(fh||(fh={}));var mh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(mh||(mh={}));var hh;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(hh||(hh={}));var ph;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(ph||(ph={}));var gh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(gh||(gh={}));var yh;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(yh||(yh={}));var xh;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(xh||(xh={}));var vh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(vh||(vh={}));var Th;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Th||(Th={}));var gs;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(gs||(gs={}));var Sh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Sh||(Sh={}));var bh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(bh||(bh={}));var Eh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Eh||(Eh={}));var Cu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Cu||(Cu={}));var Ch;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Ch||(Ch={}));var Ah;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Ah||(Ah={}));var wh;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(wh||(wh={}));var _h;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(_h||(_h={}));var Nh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Nh||(Nh={}));var Mh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Mh||(Mh={}));var Rh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Rh||(Rh={}));var kh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(kh||(kh={}));var Ih;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Ih||(Ih={}));var Dh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Dh||(Dh={}));var Uh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Uh||(Uh={}));var Lh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Lh||(Lh={}));var zh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(zh||(zh={}));var Ph;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Ph||(Ph={}));var Gh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Gh||(Gh={}));var qh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(qh||(qh={}));var Bh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Bh||(Bh={}));var Hh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Hh||(Hh={}));var Vh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Vh||(Vh={}));var jh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(jh||(jh={}));var Oh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Oh||(Oh={}));var Fh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Fh||(Fh={}));var Yh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Yh||(Yh={}));var Jh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Jh||(Jh={}));var Qh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Qh||(Qh={}));var $h;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($h||($h={}));var Xh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Xh||(Xh={}));var Kh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Kh||(Kh={}));var cs;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(cs||(cs={}));class Au{constructor(t){const s={};for(const o of t.headers.entries())s[o[0]]=o[1];this.headers=s,this.responseInternal=t}json(){return this.responseInternal.json()}}class pl{get text(){var t,s,o,r,u,h,y,x;if(((r=(o=(s=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const S=[];for(const b of(x=(y=(h=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||h===void 0?void 0:h.content)===null||y===void 0?void 0:y.parts)!==null&&x!==void 0?x:[]){for(const[C,w]of Object.entries(b))C!=="text"&&C!=="thought"&&(w!==null||w!==void 0)&&S.push(C);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;v=!0,g+=b.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var t,s,o,r,u,h,y,x;if(((r=(o=(s=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const S of(x=(y=(h=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||h===void 0?void 0:h.content)===null||y===void 0?void 0:y.parts)!==null&&x!==void 0?x:[]){for(const[b,C]of Object.entries(S))b!=="inlineData"&&(C!==null||C!==void 0)&&v.push(b);S.inlineData&&typeof S.inlineData.data=="string"&&(g+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var t,s,o,r,u,h,y,x;if(((r=(o=(s=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(x=(y=(h=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||h===void 0?void 0:h.content)===null||y===void 0?void 0:y.parts)===null||x===void 0?void 0:x.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var t,s,o,r,u,h,y,x,g;if(((r=(o=(s=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(x=(y=(h=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||h===void 0?void 0:h.content)===null||y===void 0?void 0:y.parts)===null||x===void 0?void 0:x.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var t,s,o,r,u,h,y,x,g;if(((r=(o=(s=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(x=(y=(h=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||h===void 0?void 0:h.content)===null||y===void 0?void 0:y.parts)===null||x===void 0?void 0:x.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class Zh{}class Wh{}class Cx{}class Ax{}class wx{}class _x{}class ep{}class tp{}class np{}class Nx{}class Yo{_fromAPIResponse({apiResponse:t,isVertexAI:s}){const o=new Yo;let r;const u=t;return s?r=px(u):r=hx(u),Object.assign(o,r),o}}class ip{}class sp{}class lp{}class Mx{}class Rx{}class kx{}class op{}class Ix{get text(){var t,s,o;let r="",u=!1;const h=[];for(const y of(o=(s=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||s===void 0?void 0:s.parts)!==null&&o!==void 0?o:[]){for(const[x,g]of Object.entries(y))x!=="text"&&x!=="thought"&&g!==null&&h.push(x);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;u=!0,r+=y.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?r:void 0}get data(){var t,s,o;let r="";const u=[];for(const h of(o=(s=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||s===void 0?void 0:s.parts)!==null&&o!==void 0?o:[]){for(const[y,x]of Object.entries(h))y!=="inlineData"&&x!==null&&u.push(y);h.inlineData&&typeof h.inlineData.data=="string"&&(r+=atob(h.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Dx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const s=t.split("/",2);return`publishers/${s[0]}/models/${s[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Up(i,t){const s=Me(i,t);return s?s.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${s}`:s.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${s}`:s:""}function Lp(i){return Array.isArray(i)?i.map(t=>Jo(t)):[Jo(i)]}function Jo(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function zp(i){const t=Jo(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Pp(i){const t=Jo(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ap(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Gp(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>ap(t)):[ap(i)]}function wu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function rp(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function up(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function ft(i){if(i==null)throw new Error("ContentUnion is required");return wu(i)?i:{role:"user",parts:Gp(i)}}function zu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(s=>{const o=ft(s);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(i.isVertexAI()){const s=ft(t);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]}return Array.isArray(t)?t.map(s=>ft(s)):[ft(t)]}function Xt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(rp(i)||up(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ft(i)]}const t=[],s=[],o=wu(i[0]);for(const r of i){const u=wu(r);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)t.push(r);else{if(rp(r)||up(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");s.push(r)}}return o||t.push({role:"user",parts:Gp(s)}),t}function Ux(i,t){i.includes("null")&&(t.nullable=!0);const s=i.filter(o=>o!=="null");if(s.length===1)t.type=Object.values(ve).includes(s[0].toUpperCase())?s[0].toUpperCase():ve.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of s)t.anyOf.push({type:Object.values(ve).includes(o.toUpperCase())?o.toUpperCase():ve.TYPE_UNSPECIFIED})}}function ds(i){const t={},s=["items"],o=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=i.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(t.nullable=!0,i=u[1]):u[1].type==="null"&&(t.nullable=!0,i=u[0])),i.type instanceof Array&&Ux(i.type,t);for(const[h,y]of Object.entries(i))if(y!=null)if(h=="type"){if(y==="null")throw new Error("type: null can not be the only possible type for the field.");if(y instanceof Array)continue;t.type=Object.values(ve).includes(y.toUpperCase())?y.toUpperCase():ve.TYPE_UNSPECIFIED}else if(s.includes(h))t[h]=ds(y);else if(o.includes(h)){const x=[];for(const g of y){if(g.type=="null"){t.nullable=!0;continue}x.push(ds(g))}t[h]=x}else if(r.includes(h)){const x={};for(const[g,v]of Object.entries(y))x[g]=ds(v);t[h]=x}else{if(h==="additionalProperties")continue;t[h]=y}return t}function Pu(i){return ds(i)}function Gu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function qu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function ys(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ds(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ds(t.response));return i}function xs(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const s of i)t.push(s);return t}function Lx(i,t,s,o=1){const r=!t.startsWith(`${s}/`)&&t.split("/").length===o;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${s}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${s}/${t}`:t:r?`${s}/${t}`:t}function An(i,t){if(typeof t!="string")throw new Error("name must be a string");return Lx(i,t,"cachedContents")}function qp(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function ei(i){return Lu(i)}function zx(i){return i!=null&&typeof i=="object"&&"name"in i}function Px(i){return i!=null&&typeof i=="object"&&"video"in i}function Gx(i){return i!=null&&typeof i=="object"&&"uri"in i}function Bp(i){var t;let s;if(zx(i)&&(s=i.name),!(Gx(i)&&(s=i.uri,s===void 0))&&!(Px(i)&&(s=(t=i.video)===null||t===void 0?void 0:t.uri,s===void 0))){if(typeof i=="string"&&(s=i),s===void 0)throw new Error("Could not extract file name from the provided input.");if(s.startsWith("https://")){const r=s.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${s}`);s=r[0]}else s.startsWith("files/")&&(s=s.split("files/")[1]);return s}}function Hp(i,t){let s;return i.isVertexAI()?s=t?"publishers/google/models":"models":s=t?"models":"tunedModels",s}function Vp(i){for(const t of["models","tunedModels","publisherModels"])if(qx(i,t))return i[t];return[]}function qx(i,t){return i!==null&&typeof i=="object"&&t in i}function Bx(i,t={}){const s=i,o={name:s.name,description:s.description,parametersJsonSchema:s.inputSchema};return s.outputSchema&&(o.responseJsonSchema=s.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function Hx(i,t={}){const s=[],o=new Set;for(const r of i){const u=r.name;if(o.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);o.add(u);const h=Bx(r,t);h.functionDeclarations&&s.push(...h.functionDeclarations)}return{functionDeclarations:s}}function jp(i,t){let s;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))s={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))s={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))s={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");s={inlinedRequests:t}}else s=t;const o=[s.gcsUri,s.bigqueryUri].filter(Boolean).length,r=[s.inlinedRequests,s.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return s}function Vx(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Op(i){if(typeof i!="object"||i===null)return{};const t=i,s=t.inlinedResponses;if(typeof s!="object"||s===null)return i;const r=s.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let u=!1;for(const h of r){if(typeof h!="object"||h===null)continue;const x=h.response;if(typeof x!="object"||x===null)continue;if(x.embedding!==void 0){u=!0;break}}return u&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function vs(i,t){const s=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(s))return s.split("/").pop();throw new Error(`Invalid batch job name: ${s}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(s))return s.split("/").pop();if(/^\d+$/.test(s))return s;throw new Error(`Invalid batch job name: ${s}.`)}function Fp(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jx(i){const t={},s=c(i,["responsesFile"]);s!=null&&d(t,["fileName"],s);const o=c(i,["inlinedResponses","inlinedResponses"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(h=>Tv(h))),d(t,["inlinedResponses"],u)}const r=c(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(h=>h)),d(t,["inlinedEmbedContentResponses"],u)}return t}function Ox(i){const t={},s=c(i,["predictionsFormat"]);s!=null&&d(t,["format"],s);const o=c(i,["gcsDestination","outputUriPrefix"]);o!=null&&d(t,["gcsUri"],o);const r=c(i,["bigqueryDestination","outputUri"]);return r!=null&&d(t,["bigqueryUri"],r),t}function Fx(i){const t={},s=c(i,["format"]);s!=null&&d(t,["predictionsFormat"],s);const o=c(i,["gcsUri"]);o!=null&&d(t,["gcsDestination","outputUriPrefix"],o);const r=c(i,["bigqueryUri"]);if(r!=null&&d(t,["bigqueryDestination","outputUri"],r),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Oo(i){const t={},s=c(i,["name"]);s!=null&&d(t,["name"],s);const o=c(i,["metadata","displayName"]);o!=null&&d(t,["displayName"],o);const r=c(i,["metadata","state"]);r!=null&&d(t,["state"],Fp(r));const u=c(i,["metadata","createTime"]);u!=null&&d(t,["createTime"],u);const h=c(i,["metadata","endTime"]);h!=null&&d(t,["endTime"],h);const y=c(i,["metadata","updateTime"]);y!=null&&d(t,["updateTime"],y);const x=c(i,["metadata","model"]);x!=null&&d(t,["model"],x);const g=c(i,["metadata","output"]);return g!=null&&d(t,["dest"],jx(Op(g))),t}function _u(i){const t={},s=c(i,["name"]);s!=null&&d(t,["name"],s);const o=c(i,["displayName"]);o!=null&&d(t,["displayName"],o);const r=c(i,["state"]);r!=null&&d(t,["state"],Fp(r));const u=c(i,["error"]);u!=null&&d(t,["error"],u);const h=c(i,["createTime"]);h!=null&&d(t,["createTime"],h);const y=c(i,["startTime"]);y!=null&&d(t,["startTime"],y);const x=c(i,["endTime"]);x!=null&&d(t,["endTime"],x);const g=c(i,["updateTime"]);g!=null&&d(t,["updateTime"],g);const v=c(i,["model"]);v!=null&&d(t,["model"],v);const S=c(i,["inputConfig"]);S!=null&&d(t,["src"],Yx(S));const b=c(i,["outputConfig"]);return b!=null&&d(t,["dest"],Ox(Op(b))),t}function Yx(i){const t={},s=c(i,["instancesFormat"]);s!=null&&d(t,["format"],s);const o=c(i,["gcsSource","uris"]);o!=null&&d(t,["gcsUri"],o);const r=c(i,["bigquerySource","inputUri"]);return r!=null&&d(t,["bigqueryUri"],r),t}function Jx(i,t){const s={};if(c(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=c(t,["fileName"]);o!=null&&d(s,["fileName"],o);const r=c(t,["inlinedRequests"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(h=>vv(i,h))),d(s,["requests","requests"],u)}return s}function Qx(i){const t={},s=c(i,["format"]);s!=null&&d(t,["instancesFormat"],s);const o=c(i,["gcsUri"]);o!=null&&d(t,["gcsSource","uris"],o);const r=c(i,["bigqueryUri"]);if(r!=null&&d(t,["bigquerySource","inputUri"],r),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function $x(i){const t={},s=c(i,["data"]);if(s!=null&&d(t,["data"],s),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Xx(i,t){const s={},o=c(t,["name"]);return o!=null&&d(s,["_url","name"],vs(i,o)),s}function Kx(i,t){const s={},o=c(t,["name"]);return o!=null&&d(s,["_url","name"],vs(i,o)),s}function Zx(i){const t={},s=c(i,["content"]);s!=null&&d(t,["content"],s);const o=c(i,["citationMetadata"]);o!=null&&d(t,["citationMetadata"],Wx(o));const r=c(i,["tokenCount"]);r!=null&&d(t,["tokenCount"],r);const u=c(i,["finishReason"]);u!=null&&d(t,["finishReason"],u);const h=c(i,["avgLogprobs"]);h!=null&&d(t,["avgLogprobs"],h);const y=c(i,["groundingMetadata"]);y!=null&&d(t,["groundingMetadata"],y);const x=c(i,["index"]);x!=null&&d(t,["index"],x);const g=c(i,["logprobsResult"]);g!=null&&d(t,["logprobsResult"],g);const v=c(i,["safetyRatings"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(C=>C)),d(t,["safetyRatings"],b)}const S=c(i,["urlContextMetadata"]);return S!=null&&d(t,["urlContextMetadata"],S),t}function Wx(i){const t={},s=c(i,["citationSources"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(r=>r)),d(t,["citations"],o)}return t}function Yp(i){const t={},s=c(i,["parts"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>_v(u))),d(t,["parts"],r)}const o=c(i,["role"]);return o!=null&&d(t,["role"],o),t}function ev(i,t){const s={},o=c(i,["displayName"]);if(t!==void 0&&o!=null&&d(t,["batch","displayName"],o),c(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return s}function tv(i,t){const s={},o=c(i,["displayName"]);t!==void 0&&o!=null&&d(t,["displayName"],o);const r=c(i,["dest"]);return t!==void 0&&r!=null&&d(t,["outputConfig"],Fx(Vx(r))),s}function cp(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["src"]);r!=null&&d(s,["batch","inputConfig"],Jx(i,jp(i,r)));const u=c(t,["config"]);return u!=null&&ev(u,s),s}function nv(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["model"],Me(i,o));const r=c(t,["src"]);r!=null&&d(s,["inputConfig"],Qx(jp(i,r)));const u=c(t,["config"]);return u!=null&&tv(u,s),s}function iv(i,t){const s={},o=c(i,["displayName"]);return t!==void 0&&o!=null&&d(t,["batch","displayName"],o),s}function sv(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["src"]);r!=null&&d(s,["batch","inputConfig"],dv(i,r));const u=c(t,["config"]);return u!=null&&iv(u,s),s}function lv(i,t){const s={},o=c(t,["name"]);return o!=null&&d(s,["_url","name"],vs(i,o)),s}function ov(i,t){const s={},o=c(t,["name"]);return o!=null&&d(s,["_url","name"],vs(i,o)),s}function av(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["name"]);o!=null&&d(t,["name"],o);const r=c(i,["done"]);r!=null&&d(t,["done"],r);const u=c(i,["error"]);return u!=null&&d(t,["error"],u),t}function rv(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["name"]);o!=null&&d(t,["name"],o);const r=c(i,["done"]);r!=null&&d(t,["done"],r);const u=c(i,["error"]);return u!=null&&d(t,["error"],u),t}function uv(i,t){const s={},o=c(t,["contents"]);if(o!=null){let u=zu(i,o);Array.isArray(u)&&(u=u.map(h=>h)),d(s,["requests[]","request","content"],u)}const r=c(t,["config"]);return r!=null&&(d(s,["_self"],cv(r,s)),fx(s,{"requests[].*":"requests[].request.*"})),s}function cv(i,t){const s={},o=c(i,["taskType"]);t!==void 0&&o!=null&&d(t,["requests[]","taskType"],o);const r=c(i,["title"]);t!==void 0&&r!=null&&d(t,["requests[]","title"],r);const u=c(i,["outputDimensionality"]);if(t!==void 0&&u!=null&&d(t,["requests[]","outputDimensionality"],u),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function dv(i,t){const s={},o=c(t,["fileName"]);o!=null&&d(s,["file_name"],o);const r=c(t,["inlinedRequests"]);return r!=null&&d(s,["requests"],uv(i,r)),s}function fv(i){const t={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(i,["fileUri"]);s!=null&&d(t,["fileUri"],s);const o=c(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function mv(i,t,s){const o={},r=c(t,["systemInstruction"]);s!==void 0&&r!=null&&d(s,["systemInstruction"],Yp(ft(r)));const u=c(t,["temperature"]);u!=null&&d(o,["temperature"],u);const h=c(t,["topP"]);h!=null&&d(o,["topP"],h);const y=c(t,["topK"]);y!=null&&d(o,["topK"],y);const x=c(t,["candidateCount"]);x!=null&&d(o,["candidateCount"],x);const g=c(t,["maxOutputTokens"]);g!=null&&d(o,["maxOutputTokens"],g);const v=c(t,["stopSequences"]);v!=null&&d(o,["stopSequences"],v);const S=c(t,["responseLogprobs"]);S!=null&&d(o,["responseLogprobs"],S);const b=c(t,["logprobs"]);b!=null&&d(o,["logprobs"],b);const C=c(t,["presencePenalty"]);C!=null&&d(o,["presencePenalty"],C);const w=c(t,["frequencyPenalty"]);w!=null&&d(o,["frequencyPenalty"],w);const R=c(t,["seed"]);R!=null&&d(o,["seed"],R);const k=c(t,["responseMimeType"]);k!=null&&d(o,["responseMimeType"],k);const Y=c(t,["responseSchema"]);Y!=null&&d(o,["responseSchema"],Pu(Y));const J=c(t,["responseJsonSchema"]);if(J!=null&&d(o,["responseJsonSchema"],J),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=c(t,["safetySettings"]);if(s!==void 0&&L!=null){let se=L;Array.isArray(se)&&(se=se.map(ie=>Nv(ie))),d(s,["safetySettings"],se)}const O=c(t,["tools"]);if(s!==void 0&&O!=null){let se=xs(O);Array.isArray(se)&&(se=se.map(ie=>Mv(ys(ie)))),d(s,["tools"],se)}const W=c(t,["toolConfig"]);if(s!==void 0&&W!=null&&d(s,["toolConfig"],W),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=c(t,["cachedContent"]);s!==void 0&&ee!=null&&d(s,["cachedContent"],An(i,ee));const $=c(t,["responseModalities"]);$!=null&&d(o,["responseModalities"],$);const re=c(t,["mediaResolution"]);re!=null&&d(o,["mediaResolution"],re);const te=c(t,["speechConfig"]);if(te!=null&&d(o,["speechConfig"],Gu(te)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Z=c(t,["thinkingConfig"]);Z!=null&&d(o,["thinkingConfig"],Z);const ce=c(t,["imageConfig"]);return ce!=null&&d(o,["imageConfig"],ce),o}function hv(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["candidates"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(g=>Zx(g))),d(t,["candidates"],x)}const r=c(i,["modelVersion"]);r!=null&&d(t,["modelVersion"],r);const u=c(i,["promptFeedback"]);u!=null&&d(t,["promptFeedback"],u);const h=c(i,["responseId"]);h!=null&&d(t,["responseId"],h);const y=c(i,["usageMetadata"]);return y!=null&&d(t,["usageMetadata"],y),t}function pv(i,t){const s={},o=c(t,["name"]);return o!=null&&d(s,["_url","name"],vs(i,o)),s}function gv(i,t){const s={},o=c(t,["name"]);return o!=null&&d(s,["_url","name"],vs(i,o)),s}function yv(i){const t={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(i,["enableWidget"]);return s!=null&&d(t,["enableWidget"],s),t}function xv(i){const t={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const s=c(i,["timeRangeFilter"]);return s!=null&&d(t,["timeRangeFilter"],s),t}function vv(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["request","model"],Me(i,o));const r=c(t,["contents"]);if(r!=null){let y=Xt(r);Array.isArray(y)&&(y=y.map(x=>Yp(x))),d(s,["request","contents"],y)}const u=c(t,["metadata"]);u!=null&&d(s,["metadata"],u);const h=c(t,["config"]);return h!=null&&d(s,["request","generationConfig"],mv(i,h,c(s,["request"],{}))),s}function Tv(i){const t={},s=c(i,["response"]);s!=null&&d(t,["response"],hv(s));const o=c(i,["error"]);return o!=null&&d(t,["error"],o),t}function Sv(i,t){const s={},o=c(i,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const r=c(i,["pageToken"]);if(t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),c(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return s}function bv(i,t){const s={},o=c(i,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const r=c(i,["pageToken"]);t!==void 0&&r!=null&&d(t,["_query","pageToken"],r);const u=c(i,["filter"]);return t!==void 0&&u!=null&&d(t,["_query","filter"],u),s}function Ev(i){const t={},s=c(i,["config"]);return s!=null&&Sv(s,t),t}function Cv(i){const t={},s=c(i,["config"]);return s!=null&&bv(s,t),t}function Av(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const r=c(i,["operations"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(h=>Oo(h))),d(t,["batchJobs"],u)}return t}function wv(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const r=c(i,["batchPredictionJobs"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(h=>_u(h))),d(t,["batchJobs"],u)}return t}function _v(i){const t={},s=c(i,["functionCall"]);s!=null&&d(t,["functionCall"],s);const o=c(i,["codeExecutionResult"]);o!=null&&d(t,["codeExecutionResult"],o);const r=c(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const u=c(i,["fileData"]);u!=null&&d(t,["fileData"],fv(u));const h=c(i,["functionResponse"]);h!=null&&d(t,["functionResponse"],h);const y=c(i,["inlineData"]);y!=null&&d(t,["inlineData"],$x(y));const x=c(i,["text"]);x!=null&&d(t,["text"],x);const g=c(i,["thought"]);g!=null&&d(t,["thought"],g);const v=c(i,["thoughtSignature"]);v!=null&&d(t,["thoughtSignature"],v);const S=c(i,["videoMetadata"]);return S!=null&&d(t,["videoMetadata"],S),t}function Nv(i){const t={},s=c(i,["category"]);if(s!=null&&d(t,["category"],s),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(i,["threshold"]);return o!=null&&d(t,["threshold"],o),t}function Mv(i){const t={},s=c(i,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(v=>v)),d(t,["functionDeclarations"],g)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["googleSearchRetrieval"]);o!=null&&d(t,["googleSearchRetrieval"],o);const r=c(i,["googleMaps"]);r!=null&&d(t,["googleMaps"],yv(r));const u=c(i,["computerUse"]);u!=null&&d(t,["computerUse"],u);const h=c(i,["codeExecution"]);if(h!=null&&d(t,["codeExecution"],h),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const y=c(i,["googleSearch"]);y!=null&&d(t,["googleSearch"],xv(y));const x=c(i,["urlContext"]);return x!=null&&d(t,["urlContext"],x),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ti;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_RAG_STORES="ragStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Ti||(Ti={}));class Sl{constructor(t,s,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=s,this.init(t,o,r)}init(t,s,o){var r,u;this.nameInternal=t,this.pageInternal=s[this.nameInternal]||[],this.sdkHttpResponseInternal=s==null?void 0:s.sdkHttpResponse,this.idxInternal=0;let h={config:{}};!o||Object.keys(o).length===0?h={config:{}}:typeof o=="object"?h=Object.assign({},o):h=o,h.config&&(h.config.pageToken=s.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(u=(r=h.config)===null||r===void 0?void 0:r.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rv extends bi{constructor(t){super(),this.apiClient=t,this.create=async s=>(this.apiClient.isVertexAI()&&(s.config=this.formatDestination(s.src,s.config)),this.createInternal(s)),this.createEmbeddings=async s=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(s)},this.list=async(s={})=>new Sl(Ti.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(s),s)}createInlinedGenerateContentRequest(t){const s=cp(this.apiClient,t),o=s._url,r=oe("{model}:batchGenerateContent",o),y=s.batch.inputConfig.requests,x=y.requests,g=[];for(const v of x){const S=Object.assign({},v);if(S.systemInstruction){const b=S.systemInstruction;delete S.systemInstruction;const C=S.request;C.systemInstruction=b,S.request=C}g.push(S)}return y.requests=g,delete s.config,delete s._url,delete s._query,{path:r,body:s}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,s){const o=s?Object.assign({},s):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const u=this.getGcsUri(t),h=this.getBigqueryUri(t);if(u)u.endsWith(".jsonl")?o.dest=`${u.slice(0,-6)}/dest`:o.dest=`${u}_dest_${r}`;else if(h)o.dest=`${h}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=nv(this.apiClient,t);return y=oe("batchPredictionJobs",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>_u(v))}else{const g=cp(this.apiClient,t);return y=oe("{model}:batchGenerateContent",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>Oo(v))}}async createEmbeddingsInternal(t){var s,o;let r,u="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=sv(this.apiClient,t);return u=oe("{model}:asyncBatchEmbedContent",y._url),h=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),r.then(x=>Oo(x))}}async get(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=gv(this.apiClient,t);return y=oe("batchPredictionJobs/{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>_u(v))}else{const g=pv(this.apiClient,t);return y=oe("batches/{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>Oo(v))}}async cancel(t){var s,o,r,u;let h="",y={};if(this.apiClient.isVertexAI()){const x=Kx(this.apiClient,t);h=oe("batchPredictionJobs/{name}:cancel",x._url),y=x._query,delete x._url,delete x._query,await this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const x=Xx(this.apiClient,t);h=oe("batches/{name}:cancel",x._url),y=x._query,delete x._url,delete x._query,await this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=Cv(t);return y=oe("batchPredictionJobs",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=wv(v),b=new op;return Object.assign(b,S),b})}else{const g=Ev(t);return y=oe("batches",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=Av(v),b=new op;return Object.assign(b,S),b})}}async delete(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=ov(this.apiClient,t);return y=oe("batchPredictionJobs/{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>rv(v))}else{const g=lv(this.apiClient,t);return y=oe("batches/{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>av(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kv(i){const t={},s=c(i,["data"]);if(s!=null&&d(t,["data"],s),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function dp(i){const t={},s=c(i,["parts"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>Zv(u))),d(t,["parts"],r)}const o=c(i,["role"]);return o!=null&&d(t,["role"],o),t}function Iv(i,t){const s={},o=c(i,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const r=c(i,["expireTime"]);t!==void 0&&r!=null&&d(t,["expireTime"],r);const u=c(i,["displayName"]);t!==void 0&&u!=null&&d(t,["displayName"],u);const h=c(i,["contents"]);if(t!==void 0&&h!=null){let v=Xt(h);Array.isArray(v)&&(v=v.map(S=>dp(S))),d(t,["contents"],v)}const y=c(i,["systemInstruction"]);t!==void 0&&y!=null&&d(t,["systemInstruction"],dp(ft(y)));const x=c(i,["tools"]);if(t!==void 0&&x!=null){let v=x;Array.isArray(v)&&(v=v.map(S=>Wv(S))),d(t,["tools"],v)}const g=c(i,["toolConfig"]);if(t!==void 0&&g!=null&&d(t,["toolConfig"],g),c(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return s}function Dv(i,t){const s={},o=c(i,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const r=c(i,["expireTime"]);t!==void 0&&r!=null&&d(t,["expireTime"],r);const u=c(i,["displayName"]);t!==void 0&&u!=null&&d(t,["displayName"],u);const h=c(i,["contents"]);if(t!==void 0&&h!=null){let S=Xt(h);Array.isArray(S)&&(S=S.map(b=>b)),d(t,["contents"],S)}const y=c(i,["systemInstruction"]);t!==void 0&&y!=null&&d(t,["systemInstruction"],ft(y));const x=c(i,["tools"]);if(t!==void 0&&x!=null){let S=x;Array.isArray(S)&&(S=S.map(b=>e1(b))),d(t,["tools"],S)}const g=c(i,["toolConfig"]);t!==void 0&&g!=null&&d(t,["toolConfig"],g);const v=c(i,["kmsKeyName"]);return t!==void 0&&v!=null&&d(t,["encryption_spec","kmsKeyName"],v),s}function Uv(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["model"],Up(i,o));const r=c(t,["config"]);return r!=null&&Iv(r,s),s}function Lv(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["model"],Up(i,o));const r=c(t,["config"]);return r!=null&&Dv(r,s),s}function zv(i,t){const s={},o=c(t,["name"]);return o!=null&&d(s,["_url","name"],An(i,o)),s}function Pv(i,t){const s={},o=c(t,["name"]);return o!=null&&d(s,["_url","name"],An(i,o)),s}function Gv(i){const t={},s=c(i,["sdkHttpResponse"]);return s!=null&&d(t,["sdkHttpResponse"],s),t}function qv(i){const t={},s=c(i,["sdkHttpResponse"]);return s!=null&&d(t,["sdkHttpResponse"],s),t}function Bv(i){const t={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(i,["fileUri"]);s!=null&&d(t,["fileUri"],s);const o=c(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Hv(i){const t={};if(c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const s=c(i,["description"]);s!=null&&d(t,["description"],s);const o=c(i,["name"]);o!=null&&d(t,["name"],o);const r=c(i,["parameters"]);r!=null&&d(t,["parameters"],r);const u=c(i,["parametersJsonSchema"]);u!=null&&d(t,["parametersJsonSchema"],u);const h=c(i,["response"]);h!=null&&d(t,["response"],h);const y=c(i,["responseJsonSchema"]);return y!=null&&d(t,["responseJsonSchema"],y),t}function Vv(i,t){const s={},o=c(t,["name"]);return o!=null&&d(s,["_url","name"],An(i,o)),s}function jv(i,t){const s={},o=c(t,["name"]);return o!=null&&d(s,["_url","name"],An(i,o)),s}function Ov(i){const t={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(i,["enableWidget"]);return s!=null&&d(t,["enableWidget"],s),t}function Fv(i){const t={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const s=c(i,["timeRangeFilter"]);return s!=null&&d(t,["timeRangeFilter"],s),t}function Yv(i,t){const s={},o=c(i,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const r=c(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),s}function Jv(i,t){const s={},o=c(i,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const r=c(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),s}function Qv(i){const t={},s=c(i,["config"]);return s!=null&&Yv(s,t),t}function $v(i){const t={},s=c(i,["config"]);return s!=null&&Jv(s,t),t}function Xv(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const r=c(i,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(h=>h)),d(t,["cachedContents"],u)}return t}function Kv(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const r=c(i,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(h=>h)),d(t,["cachedContents"],u)}return t}function Zv(i){const t={},s=c(i,["functionCall"]);s!=null&&d(t,["functionCall"],s);const o=c(i,["codeExecutionResult"]);o!=null&&d(t,["codeExecutionResult"],o);const r=c(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const u=c(i,["fileData"]);u!=null&&d(t,["fileData"],Bv(u));const h=c(i,["functionResponse"]);h!=null&&d(t,["functionResponse"],h);const y=c(i,["inlineData"]);y!=null&&d(t,["inlineData"],kv(y));const x=c(i,["text"]);x!=null&&d(t,["text"],x);const g=c(i,["thought"]);g!=null&&d(t,["thought"],g);const v=c(i,["thoughtSignature"]);v!=null&&d(t,["thoughtSignature"],v);const S=c(i,["videoMetadata"]);return S!=null&&d(t,["videoMetadata"],S),t}function Wv(i){const t={},s=c(i,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(v=>v)),d(t,["functionDeclarations"],g)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["googleSearchRetrieval"]);o!=null&&d(t,["googleSearchRetrieval"],o);const r=c(i,["googleMaps"]);r!=null&&d(t,["googleMaps"],Ov(r));const u=c(i,["computerUse"]);u!=null&&d(t,["computerUse"],u);const h=c(i,["codeExecution"]);if(h!=null&&d(t,["codeExecution"],h),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const y=c(i,["googleSearch"]);y!=null&&d(t,["googleSearch"],Fv(y));const x=c(i,["urlContext"]);return x!=null&&d(t,["urlContext"],x),t}function e1(i){const t={},s=c(i,["functionDeclarations"]);if(s!=null){let S=s;Array.isArray(S)&&(S=S.map(b=>Hv(b))),d(t,["functionDeclarations"],S)}const o=c(i,["retrieval"]);o!=null&&d(t,["retrieval"],o);const r=c(i,["googleSearchRetrieval"]);r!=null&&d(t,["googleSearchRetrieval"],r);const u=c(i,["googleMaps"]);u!=null&&d(t,["googleMaps"],u);const h=c(i,["computerUse"]);h!=null&&d(t,["computerUse"],h);const y=c(i,["codeExecution"]);y!=null&&d(t,["codeExecution"],y);const x=c(i,["enterpriseWebSearch"]);x!=null&&d(t,["enterpriseWebSearch"],x);const g=c(i,["googleSearch"]);g!=null&&d(t,["googleSearch"],g);const v=c(i,["urlContext"]);return v!=null&&d(t,["urlContext"],v),t}function t1(i,t){const s={},o=c(i,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const r=c(i,["expireTime"]);return t!==void 0&&r!=null&&d(t,["expireTime"],r),s}function n1(i,t){const s={},o=c(i,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const r=c(i,["expireTime"]);return t!==void 0&&r!=null&&d(t,["expireTime"],r),s}function i1(i,t){const s={},o=c(t,["name"]);o!=null&&d(s,["_url","name"],An(i,o));const r=c(t,["config"]);return r!=null&&t1(r,s),s}function s1(i,t){const s={},o=c(t,["name"]);o!=null&&d(s,["_url","name"],An(i,o));const r=c(t,["config"]);return r!=null&&n1(r,s),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l1 extends bi{constructor(t){super(),this.apiClient=t,this.list=async(s={})=>new Sl(Ti.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(s),s)}async create(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=Lv(this.apiClient,t);return y=oe("cachedContents",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>v)}else{const g=Uv(this.apiClient,t);return y=oe("cachedContents",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>v)}}async get(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=jv(this.apiClient,t);return y=oe("{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>v)}else{const g=Vv(this.apiClient,t);return y=oe("{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>v)}}async delete(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=Pv(this.apiClient,t);return y=oe("{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=qv(v),b=new sp;return Object.assign(b,S),b})}else{const g=zv(this.apiClient,t);return y=oe("{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=Gv(v),b=new sp;return Object.assign(b,S),b})}}async update(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=s1(this.apiClient,t);return y=oe("{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>v)}else{const g=i1(this.apiClient,t);return y=oe("{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>v)}}async listInternal(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=$v(t);return y=oe("cachedContents",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=Kv(v),b=new lp;return Object.assign(b,S),b})}else{const g=Qv(t);return y=oe("cachedContents",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=Xv(v),b=new lp;return Object.assign(b,S),b})}}}function fp(i){var t=typeof Symbol=="function"&&Symbol.iterator,s=t&&i[t],o=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oe(i){return this instanceof Oe?(this.v=i,this):new Oe(i)}function fs(i,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(i,t||[]),r,u=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",h),r[Symbol.asyncIterator]=function(){return this},r;function h(C){return function(w){return Promise.resolve(w).then(C,S)}}function y(C,w){o[C]&&(r[C]=function(R){return new Promise(function(k,Y){u.push([C,R,k,Y])>1||x(C,R)})},w&&(r[C]=w(r[C])))}function x(C,w){try{g(o[C](w))}catch(R){b(u[0][3],R)}}function g(C){C.value instanceof Oe?Promise.resolve(C.value.v).then(v,S):b(u[0][2],C)}function v(C){x("next",C)}function S(C){x("throw",C)}function b(C,w){C(w),u.shift(),u.length&&x(u[0][0],u[0][1])}}function xl(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],s;return t?t.call(i):(i=typeof fp=="function"?fp(i):i[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(u){s[u]=i[u]&&function(h){return new Promise(function(y,x){h=i[u](h),r(y,x,h.done,h.value)})}}function r(u,h,y,x){Promise.resolve(x).then(function(g){u({value:g,done:y})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o1(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const s=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return s===void 0?!1:Jp(s)}function Jp(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function a1(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function mp(i){if(i===void 0||i.length===0)return[];const t=[],s=i.length;let o=0;for(;o<s;)if(i[o].role==="user")t.push(i[o]),o++;else{const r=[];let u=!0;for(;o<s&&i[o].role==="model";)r.push(i[o]),u&&!Jp(i[o])&&(u=!1),o++;u?t.push(...r):t.pop()}return t}class r1{constructor(t,s){this.modelsModule=t,this.apiClient=s}create(t){return new u1(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class u1{constructor(t,s,o,r={},u=[]){this.apiClient=t,this.modelsModule=s,this.model=o,this.config=r,this.history=u,this.sendPromise=Promise.resolve(),a1(u)}async sendMessage(t){var s;await this.sendPromise;const o=ft(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(s=t.config)!==null&&s!==void 0?s:this.config});return this.sendPromise=(async()=>{var u,h,y;const x=await r,g=(h=(u=x.candidates)===null||u===void 0?void 0:u[0])===null||h===void 0?void 0:h.content,v=x.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let b=[];v!=null&&(b=(y=v.slice(S))!==null&&y!==void 0?y:[]);const C=g?[g]:[];this.recordHistory(o,C,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var s;await this.sendPromise;const o=ft(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(s=t.config)!==null&&s!==void 0?s:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const u=await r;return this.processStreamResponse(u,o)}getHistory(t=!1){const s=t?mp(this.history):this.history;return structuredClone(s)}processStreamResponse(t,s){var o,r;return fs(this,arguments,function*(){var h,y,x,g;const v=[];try{for(var S=!0,b=xl(t),C;C=yield Oe(b.next()),h=C.done,!h;S=!0){g=C.value,S=!1;const w=g;if(o1(w)){const R=(r=(o=w.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;R!==void 0&&v.push(R)}yield yield Oe(w)}}catch(w){y={error:w}}finally{try{!S&&!h&&(x=b.return)&&(yield Oe(x.call(b)))}finally{if(y)throw y.error}}this.recordHistory(s,v)})}recordHistory(t,s,o){let r=[];s.length>0&&s.every(u=>u.role!==void 0)?r=s:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...mp(o)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ko extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ko.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c1(i){const t={},s=c(i,["file"]);return s!=null&&d(t,["file"],s),t}function d1(i){const t={},s=c(i,["sdkHttpResponse"]);return s!=null&&d(t,["sdkHttpResponse"],s),t}function f1(i){const t={},s=c(i,["name"]);return s!=null&&d(t,["_url","file"],Bp(s)),t}function m1(i){const t={},s=c(i,["sdkHttpResponse"]);return s!=null&&d(t,["sdkHttpResponse"],s),t}function h1(i){const t={},s=c(i,["name"]);return s!=null&&d(t,["_url","file"],Bp(s)),t}function p1(i,t){const s={},o=c(i,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const r=c(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),s}function g1(i){const t={},s=c(i,["config"]);return s!=null&&p1(s,t),t}function y1(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const r=c(i,["files"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(h=>h)),d(t,["files"],u)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x1 extends bi{constructor(t){super(),this.apiClient=t,this.list=async(s={})=>new Sl(Ti.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(s),s)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(s=>s)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var s,o;let r,u="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=g1(t);return u=oe("files",y._url),h=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:x.headers},v})),r.then(x=>{const g=y1(x),v=new Mx;return Object.assign(v,g),v})}}async createInternal(t){var s,o;let r,u="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=c1(t);return u=oe("upload/v1beta/files",y._url),h=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),r.then(x=>{const g=d1(x),v=new Rx;return Object.assign(v,g),v})}}async get(t){var s,o;let r,u="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=h1(t);return u=oe("files/{file}",y._url),h=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),r.then(x=>x)}}async delete(t){var s,o;let r,u="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=f1(t);return u=oe("files/{file}",y._url),h=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:x.headers},v})),r.then(x=>{const g=m1(x),v=new kx;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fo(i){const t={},s=c(i,["data"]);if(s!=null&&d(t,["data"],s),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function v1(i){const t={},s=c(i,["parts"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>U1(u))),d(t,["parts"],r)}const o=c(i,["role"]);return o!=null&&d(t,["role"],o),t}function T1(i){const t={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(i,["fileUri"]);s!=null&&d(t,["fileUri"],s);const o=c(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function S1(i){const t={};if(c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const s=c(i,["description"]);s!=null&&d(t,["description"],s);const o=c(i,["name"]);o!=null&&d(t,["name"],o);const r=c(i,["parameters"]);r!=null&&d(t,["parameters"],r);const u=c(i,["parametersJsonSchema"]);u!=null&&d(t,["parametersJsonSchema"],u);const h=c(i,["response"]);h!=null&&d(t,["response"],h);const y=c(i,["responseJsonSchema"]);return y!=null&&d(t,["responseJsonSchema"],y),t}function b1(i){const t={},s=c(i,["modelSelectionConfig"]);s!=null&&d(t,["modelConfig"],s);const o=c(i,["audioTimestamp"]);o!=null&&d(t,["audioTimestamp"],o);const r=c(i,["candidateCount"]);r!=null&&d(t,["candidateCount"],r);const u=c(i,["enableAffectiveDialog"]);u!=null&&d(t,["enableAffectiveDialog"],u);const h=c(i,["frequencyPenalty"]);h!=null&&d(t,["frequencyPenalty"],h);const y=c(i,["logprobs"]);y!=null&&d(t,["logprobs"],y);const x=c(i,["maxOutputTokens"]);x!=null&&d(t,["maxOutputTokens"],x);const g=c(i,["mediaResolution"]);g!=null&&d(t,["mediaResolution"],g);const v=c(i,["presencePenalty"]);v!=null&&d(t,["presencePenalty"],v);const S=c(i,["responseJsonSchema"]);S!=null&&d(t,["responseJsonSchema"],S);const b=c(i,["responseLogprobs"]);b!=null&&d(t,["responseLogprobs"],b);const C=c(i,["responseMimeType"]);C!=null&&d(t,["responseMimeType"],C);const w=c(i,["responseModalities"]);w!=null&&d(t,["responseModalities"],w);const R=c(i,["responseSchema"]);R!=null&&d(t,["responseSchema"],R);const k=c(i,["routingConfig"]);k!=null&&d(t,["routingConfig"],k);const Y=c(i,["seed"]);Y!=null&&d(t,["seed"],Y);const J=c(i,["speechConfig"]);J!=null&&d(t,["speechConfig"],Qp(J));const L=c(i,["stopSequences"]);L!=null&&d(t,["stopSequences"],L);const O=c(i,["temperature"]);O!=null&&d(t,["temperature"],O);const W=c(i,["thinkingConfig"]);W!=null&&d(t,["thinkingConfig"],W);const ee=c(i,["topK"]);ee!=null&&d(t,["topK"],ee);const $=c(i,["topP"]);if($!=null&&d(t,["topP"],$),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function E1(i){const t={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(i,["enableWidget"]);return s!=null&&d(t,["enableWidget"],s),t}function C1(i){const t={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const s=c(i,["timeRangeFilter"]);return s!=null&&d(t,["timeRangeFilter"],s),t}function A1(i,t){const s={},o=c(i,["generationConfig"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig"],o);const r=c(i,["responseModalities"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig","responseModalities"],r);const u=c(i,["temperature"]);t!==void 0&&u!=null&&d(t,["setup","generationConfig","temperature"],u);const h=c(i,["topP"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","topP"],h);const y=c(i,["topK"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","topK"],y);const x=c(i,["maxOutputTokens"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","maxOutputTokens"],x);const g=c(i,["mediaResolution"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","mediaResolution"],g);const v=c(i,["seed"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","seed"],v);const S=c(i,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],qu(S));const b=c(i,["thinkingConfig"]);t!==void 0&&b!=null&&d(t,["setup","generationConfig","thinkingConfig"],b);const C=c(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=c(i,["systemInstruction"]);t!==void 0&&w!=null&&d(t,["setup","systemInstruction"],v1(ft(w)));const R=c(i,["tools"]);if(t!==void 0&&R!=null){let ee=xs(R);Array.isArray(ee)&&(ee=ee.map($=>z1(ys($)))),d(t,["setup","tools"],ee)}const k=c(i,["sessionResumption"]);t!==void 0&&k!=null&&d(t,["setup","sessionResumption"],L1(k));const Y=c(i,["inputAudioTranscription"]);t!==void 0&&Y!=null&&d(t,["setup","inputAudioTranscription"],Y);const J=c(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&d(t,["setup","outputAudioTranscription"],J);const L=c(i,["realtimeInputConfig"]);t!==void 0&&L!=null&&d(t,["setup","realtimeInputConfig"],L);const O=c(i,["contextWindowCompression"]);t!==void 0&&O!=null&&d(t,["setup","contextWindowCompression"],O);const W=c(i,["proactivity"]);return t!==void 0&&W!=null&&d(t,["setup","proactivity"],W),s}function w1(i,t){const s={},o=c(i,["generationConfig"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig"],b1(o));const r=c(i,["responseModalities"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig","responseModalities"],r);const u=c(i,["temperature"]);t!==void 0&&u!=null&&d(t,["setup","generationConfig","temperature"],u);const h=c(i,["topP"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","topP"],h);const y=c(i,["topK"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","topK"],y);const x=c(i,["maxOutputTokens"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","maxOutputTokens"],x);const g=c(i,["mediaResolution"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","mediaResolution"],g);const v=c(i,["seed"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","seed"],v);const S=c(i,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],Qp(qu(S)));const b=c(i,["thinkingConfig"]);t!==void 0&&b!=null&&d(t,["setup","generationConfig","thinkingConfig"],b);const C=c(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=c(i,["systemInstruction"]);t!==void 0&&w!=null&&d(t,["setup","systemInstruction"],ft(w));const R=c(i,["tools"]);if(t!==void 0&&R!=null){let ee=xs(R);Array.isArray(ee)&&(ee=ee.map($=>P1(ys($)))),d(t,["setup","tools"],ee)}const k=c(i,["sessionResumption"]);t!==void 0&&k!=null&&d(t,["setup","sessionResumption"],k);const Y=c(i,["inputAudioTranscription"]);t!==void 0&&Y!=null&&d(t,["setup","inputAudioTranscription"],Y);const J=c(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&d(t,["setup","outputAudioTranscription"],J);const L=c(i,["realtimeInputConfig"]);t!==void 0&&L!=null&&d(t,["setup","realtimeInputConfig"],L);const O=c(i,["contextWindowCompression"]);t!==void 0&&O!=null&&d(t,["setup","contextWindowCompression"],O);const W=c(i,["proactivity"]);return t!==void 0&&W!=null&&d(t,["setup","proactivity"],W),s}function _1(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["setup","model"],Me(i,o));const r=c(t,["config"]);return r!=null&&d(s,["config"],A1(r,s)),s}function N1(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["setup","model"],Me(i,o));const r=c(t,["config"]);return r!=null&&d(s,["config"],w1(r,s)),s}function M1(i){const t={},s=c(i,["musicGenerationConfig"]);return s!=null&&d(t,["musicGenerationConfig"],s),t}function R1(i){const t={},s=c(i,["weightedPrompts"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(r=>r)),d(t,["weightedPrompts"],o)}return t}function k1(i){const t={},s=c(i,["media"]);if(s!=null){let g=Lp(s);Array.isArray(g)&&(g=g.map(v=>Fo(v))),d(t,["mediaChunks"],g)}const o=c(i,["audio"]);o!=null&&d(t,["audio"],Fo(Pp(o)));const r=c(i,["audioStreamEnd"]);r!=null&&d(t,["audioStreamEnd"],r);const u=c(i,["video"]);u!=null&&d(t,["video"],Fo(zp(u)));const h=c(i,["text"]);h!=null&&d(t,["text"],h);const y=c(i,["activityStart"]);y!=null&&d(t,["activityStart"],y);const x=c(i,["activityEnd"]);return x!=null&&d(t,["activityEnd"],x),t}function I1(i){const t={},s=c(i,["media"]);if(s!=null){let g=Lp(s);Array.isArray(g)&&(g=g.map(v=>v)),d(t,["mediaChunks"],g)}const o=c(i,["audio"]);o!=null&&d(t,["audio"],Pp(o));const r=c(i,["audioStreamEnd"]);r!=null&&d(t,["audioStreamEnd"],r);const u=c(i,["video"]);u!=null&&d(t,["video"],zp(u));const h=c(i,["text"]);h!=null&&d(t,["text"],h);const y=c(i,["activityStart"]);y!=null&&d(t,["activityStart"],y);const x=c(i,["activityEnd"]);return x!=null&&d(t,["activityEnd"],x),t}function D1(i){const t={},s=c(i,["setupComplete"]);s!=null&&d(t,["setupComplete"],s);const o=c(i,["serverContent"]);o!=null&&d(t,["serverContent"],o);const r=c(i,["toolCall"]);r!=null&&d(t,["toolCall"],r);const u=c(i,["toolCallCancellation"]);u!=null&&d(t,["toolCallCancellation"],u);const h=c(i,["usageMetadata"]);h!=null&&d(t,["usageMetadata"],G1(h));const y=c(i,["goAway"]);y!=null&&d(t,["goAway"],y);const x=c(i,["sessionResumptionUpdate"]);return x!=null&&d(t,["sessionResumptionUpdate"],x),t}function U1(i){const t={},s=c(i,["functionCall"]);s!=null&&d(t,["functionCall"],s);const o=c(i,["codeExecutionResult"]);o!=null&&d(t,["codeExecutionResult"],o);const r=c(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const u=c(i,["fileData"]);u!=null&&d(t,["fileData"],T1(u));const h=c(i,["functionResponse"]);h!=null&&d(t,["functionResponse"],h);const y=c(i,["inlineData"]);y!=null&&d(t,["inlineData"],Fo(y));const x=c(i,["text"]);x!=null&&d(t,["text"],x);const g=c(i,["thought"]);g!=null&&d(t,["thought"],g);const v=c(i,["thoughtSignature"]);v!=null&&d(t,["thoughtSignature"],v);const S=c(i,["videoMetadata"]);return S!=null&&d(t,["videoMetadata"],S),t}function L1(i){const t={},s=c(i,["handle"]);if(s!=null&&d(t,["handle"],s),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Qp(i){const t={},s=c(i,["languageCode"]);s!=null&&d(t,["languageCode"],s);const o=c(i,["voiceConfig"]);if(o!=null&&d(t,["voiceConfig"],o),c(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function z1(i){const t={},s=c(i,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(v=>v)),d(t,["functionDeclarations"],g)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["googleSearchRetrieval"]);o!=null&&d(t,["googleSearchRetrieval"],o);const r=c(i,["googleMaps"]);r!=null&&d(t,["googleMaps"],E1(r));const u=c(i,["computerUse"]);u!=null&&d(t,["computerUse"],u);const h=c(i,["codeExecution"]);if(h!=null&&d(t,["codeExecution"],h),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const y=c(i,["googleSearch"]);y!=null&&d(t,["googleSearch"],C1(y));const x=c(i,["urlContext"]);return x!=null&&d(t,["urlContext"],x),t}function P1(i){const t={},s=c(i,["functionDeclarations"]);if(s!=null){let S=s;Array.isArray(S)&&(S=S.map(b=>S1(b))),d(t,["functionDeclarations"],S)}const o=c(i,["retrieval"]);o!=null&&d(t,["retrieval"],o);const r=c(i,["googleSearchRetrieval"]);r!=null&&d(t,["googleSearchRetrieval"],r);const u=c(i,["googleMaps"]);u!=null&&d(t,["googleMaps"],u);const h=c(i,["computerUse"]);h!=null&&d(t,["computerUse"],h);const y=c(i,["codeExecution"]);y!=null&&d(t,["codeExecution"],y);const x=c(i,["enterpriseWebSearch"]);x!=null&&d(t,["enterpriseWebSearch"],x);const g=c(i,["googleSearch"]);g!=null&&d(t,["googleSearch"],g);const v=c(i,["urlContext"]);return v!=null&&d(t,["urlContext"],v),t}function G1(i){const t={},s=c(i,["promptTokenCount"]);s!=null&&d(t,["promptTokenCount"],s);const o=c(i,["cachedContentTokenCount"]);o!=null&&d(t,["cachedContentTokenCount"],o);const r=c(i,["candidatesTokenCount"]);r!=null&&d(t,["responseTokenCount"],r);const u=c(i,["toolUsePromptTokenCount"]);u!=null&&d(t,["toolUsePromptTokenCount"],u);const h=c(i,["thoughtsTokenCount"]);h!=null&&d(t,["thoughtsTokenCount"],h);const y=c(i,["totalTokenCount"]);y!=null&&d(t,["totalTokenCount"],y);const x=c(i,["promptTokensDetails"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(w=>w)),d(t,["promptTokensDetails"],C)}const g=c(i,["cacheTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(w=>w)),d(t,["cacheTokensDetails"],C)}const v=c(i,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(w=>w)),d(t,["responseTokensDetails"],C)}const S=c(i,["toolUsePromptTokensDetails"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(w=>w)),d(t,["toolUsePromptTokensDetails"],C)}const b=c(i,["trafficType"]);return b!=null&&d(t,["trafficType"],b),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q1(i){const t={},s=c(i,["data"]);if(s!=null&&d(t,["data"],s),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function B1(i){const t={},s=c(i,["content"]);s!=null&&d(t,["content"],s);const o=c(i,["citationMetadata"]);o!=null&&d(t,["citationMetadata"],H1(o));const r=c(i,["tokenCount"]);r!=null&&d(t,["tokenCount"],r);const u=c(i,["finishReason"]);u!=null&&d(t,["finishReason"],u);const h=c(i,["avgLogprobs"]);h!=null&&d(t,["avgLogprobs"],h);const y=c(i,["groundingMetadata"]);y!=null&&d(t,["groundingMetadata"],y);const x=c(i,["index"]);x!=null&&d(t,["index"],x);const g=c(i,["logprobsResult"]);g!=null&&d(t,["logprobsResult"],g);const v=c(i,["safetyRatings"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(C=>C)),d(t,["safetyRatings"],b)}const S=c(i,["urlContextMetadata"]);return S!=null&&d(t,["urlContextMetadata"],S),t}function H1(i){const t={},s=c(i,["citationSources"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(r=>r)),d(t,["citations"],o)}return t}function V1(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["contents"]);if(r!=null){let u=Xt(r);Array.isArray(u)&&(u=u.map(h=>h)),d(s,["contents"],u)}return s}function j1(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>u)),d(t,["tokensInfo"],r)}return t}function O1(i){const t={},s=c(i,["values"]);s!=null&&d(t,["values"],s);const o=c(i,["statistics"]);return o!=null&&d(t,["statistics"],F1(o)),t}function F1(i){const t={},s=c(i,["truncated"]);s!=null&&d(t,["truncated"],s);const o=c(i,["token_count"]);return o!=null&&d(t,["tokenCount"],o),t}function Zo(i){const t={},s=c(i,["parts"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>XT(u))),d(t,["parts"],r)}const o=c(i,["role"]);return o!=null&&d(t,["role"],o),t}function Y1(i){const t={},s=c(i,["controlType"]);s!=null&&d(t,["controlType"],s);const o=c(i,["enableControlImageComputation"]);return o!=null&&d(t,["computeControl"],o),t}function J1(i){const t={};if(c(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function Q1(i,t){const s={},o=c(i,["systemInstruction"]);t!==void 0&&o!=null&&d(t,["systemInstruction"],ft(o));const r=c(i,["tools"]);if(t!==void 0&&r!=null){let h=r;Array.isArray(h)&&(h=h.map(y=>Wp(y))),d(t,["tools"],h)}const u=c(i,["generationConfig"]);return t!==void 0&&u!=null&&d(t,["generationConfig"],PT(u)),s}function $1(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["contents"]);if(r!=null){let h=Xt(r);Array.isArray(h)&&(h=h.map(y=>Zo(y))),d(s,["contents"],h)}const u=c(t,["config"]);return u!=null&&J1(u),s}function X1(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["contents"]);if(r!=null){let h=Xt(r);Array.isArray(h)&&(h=h.map(y=>y)),d(s,["contents"],h)}const u=c(t,["config"]);return u!=null&&Q1(u,s),s}function K1(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["totalTokens"]);o!=null&&d(t,["totalTokens"],o);const r=c(i,["cachedContentTokenCount"]);return r!=null&&d(t,["cachedContentTokenCount"],r),t}function Z1(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["totalTokens"]);return o!=null&&d(t,["totalTokens"],o),t}function W1(i,t){const s={},o=c(t,["model"]);return o!=null&&d(s,["_url","name"],Me(i,o)),s}function eT(i,t){const s={},o=c(t,["model"]);return o!=null&&d(s,["_url","name"],Me(i,o)),s}function tT(i){const t={},s=c(i,["sdkHttpResponse"]);return s!=null&&d(t,["sdkHttpResponse"],s),t}function nT(i){const t={},s=c(i,["sdkHttpResponse"]);return s!=null&&d(t,["sdkHttpResponse"],s),t}function iT(i,t){const s={},o=c(i,["outputGcsUri"]);t!==void 0&&o!=null&&d(t,["parameters","storageUri"],o);const r=c(i,["negativePrompt"]);t!==void 0&&r!=null&&d(t,["parameters","negativePrompt"],r);const u=c(i,["numberOfImages"]);t!==void 0&&u!=null&&d(t,["parameters","sampleCount"],u);const h=c(i,["aspectRatio"]);t!==void 0&&h!=null&&d(t,["parameters","aspectRatio"],h);const y=c(i,["guidanceScale"]);t!==void 0&&y!=null&&d(t,["parameters","guidanceScale"],y);const x=c(i,["seed"]);t!==void 0&&x!=null&&d(t,["parameters","seed"],x);const g=c(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&d(t,["parameters","safetySetting"],g);const v=c(i,["personGeneration"]);t!==void 0&&v!=null&&d(t,["parameters","personGeneration"],v);const S=c(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&d(t,["parameters","includeSafetyAttributes"],S);const b=c(i,["includeRaiReason"]);t!==void 0&&b!=null&&d(t,["parameters","includeRaiReason"],b);const C=c(i,["language"]);t!==void 0&&C!=null&&d(t,["parameters","language"],C);const w=c(i,["outputMimeType"]);t!==void 0&&w!=null&&d(t,["parameters","outputOptions","mimeType"],w);const R=c(i,["outputCompressionQuality"]);t!==void 0&&R!=null&&d(t,["parameters","outputOptions","compressionQuality"],R);const k=c(i,["addWatermark"]);t!==void 0&&k!=null&&d(t,["parameters","addWatermark"],k);const Y=c(i,["labels"]);t!==void 0&&Y!=null&&d(t,["labels"],Y);const J=c(i,["editMode"]);t!==void 0&&J!=null&&d(t,["parameters","editMode"],J);const L=c(i,["baseSteps"]);return t!==void 0&&L!=null&&d(t,["parameters","editConfig","baseSteps"],L),s}function sT(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["prompt"]);r!=null&&d(s,["instances[0]","prompt"],r);const u=c(t,["referenceImages"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(x=>nS(x))),d(s,["instances[0]","referenceImages"],y)}const h=c(t,["config"]);return h!=null&&iT(h,s),s}function lT(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>Wo(u))),d(t,["generatedImages"],r)}return t}function oT(i,t){const s={},o=c(i,["taskType"]);t!==void 0&&o!=null&&d(t,["requests[]","taskType"],o);const r=c(i,["title"]);t!==void 0&&r!=null&&d(t,["requests[]","title"],r);const u=c(i,["outputDimensionality"]);if(t!==void 0&&u!=null&&d(t,["requests[]","outputDimensionality"],u),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function aT(i,t){const s={},o=c(i,["taskType"]);t!==void 0&&o!=null&&d(t,["instances[]","task_type"],o);const r=c(i,["title"]);t!==void 0&&r!=null&&d(t,["instances[]","title"],r);const u=c(i,["outputDimensionality"]);t!==void 0&&u!=null&&d(t,["parameters","outputDimensionality"],u);const h=c(i,["mimeType"]);t!==void 0&&h!=null&&d(t,["instances[]","mimeType"],h);const y=c(i,["autoTruncate"]);return t!==void 0&&y!=null&&d(t,["parameters","autoTruncate"],y),s}function rT(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["contents"]);if(r!=null){let y=zu(i,r);Array.isArray(y)&&(y=y.map(x=>x)),d(s,["requests[]","content"],y)}const u=c(t,["config"]);u!=null&&oT(u,s);const h=c(t,["model"]);return h!==void 0&&d(s,["requests[]","model"],Me(i,h)),s}function uT(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["contents"]);if(r!=null){let h=zu(i,r);Array.isArray(h)&&(h=h.map(y=>y)),d(s,["instances[]","content"],h)}const u=c(t,["config"]);return u!=null&&aT(u,s),s}function cT(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(h=>h)),d(t,["embeddings"],u)}const r=c(i,["metadata"]);return r!=null&&d(t,["metadata"],r),t}function dT(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["predictions[]","embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(h=>O1(h))),d(t,["embeddings"],u)}const r=c(i,["metadata"]);return r!=null&&d(t,["metadata"],r),t}function fT(i){const t={},s=c(i,["endpoint"]);s!=null&&d(t,["name"],s);const o=c(i,["deployedModelId"]);return o!=null&&d(t,["deployedModelId"],o),t}function mT(i){const t={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(i,["fileUri"]);s!=null&&d(t,["fileUri"],s);const o=c(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function hT(i){const t={};if(c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const s=c(i,["description"]);s!=null&&d(t,["description"],s);const o=c(i,["name"]);o!=null&&d(t,["name"],o);const r=c(i,["parameters"]);r!=null&&d(t,["parameters"],r);const u=c(i,["parametersJsonSchema"]);u!=null&&d(t,["parametersJsonSchema"],u);const h=c(i,["response"]);h!=null&&d(t,["response"],h);const y=c(i,["responseJsonSchema"]);return y!=null&&d(t,["responseJsonSchema"],y),t}function pT(i,t,s){const o={},r=c(t,["systemInstruction"]);s!==void 0&&r!=null&&d(s,["systemInstruction"],Zo(ft(r)));const u=c(t,["temperature"]);u!=null&&d(o,["temperature"],u);const h=c(t,["topP"]);h!=null&&d(o,["topP"],h);const y=c(t,["topK"]);y!=null&&d(o,["topK"],y);const x=c(t,["candidateCount"]);x!=null&&d(o,["candidateCount"],x);const g=c(t,["maxOutputTokens"]);g!=null&&d(o,["maxOutputTokens"],g);const v=c(t,["stopSequences"]);v!=null&&d(o,["stopSequences"],v);const S=c(t,["responseLogprobs"]);S!=null&&d(o,["responseLogprobs"],S);const b=c(t,["logprobs"]);b!=null&&d(o,["logprobs"],b);const C=c(t,["presencePenalty"]);C!=null&&d(o,["presencePenalty"],C);const w=c(t,["frequencyPenalty"]);w!=null&&d(o,["frequencyPenalty"],w);const R=c(t,["seed"]);R!=null&&d(o,["seed"],R);const k=c(t,["responseMimeType"]);k!=null&&d(o,["responseMimeType"],k);const Y=c(t,["responseSchema"]);Y!=null&&d(o,["responseSchema"],Pu(Y));const J=c(t,["responseJsonSchema"]);if(J!=null&&d(o,["responseJsonSchema"],J),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=c(t,["safetySettings"]);if(s!==void 0&&L!=null){let se=L;Array.isArray(se)&&(se=se.map(ie=>iS(ie))),d(s,["safetySettings"],se)}const O=c(t,["tools"]);if(s!==void 0&&O!=null){let se=xs(O);Array.isArray(se)&&(se=se.map(ie=>uS(ys(ie)))),d(s,["tools"],se)}const W=c(t,["toolConfig"]);if(s!==void 0&&W!=null&&d(s,["toolConfig"],W),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=c(t,["cachedContent"]);s!==void 0&&ee!=null&&d(s,["cachedContent"],An(i,ee));const $=c(t,["responseModalities"]);$!=null&&d(o,["responseModalities"],$);const re=c(t,["mediaResolution"]);re!=null&&d(o,["mediaResolution"],re);const te=c(t,["speechConfig"]);if(te!=null&&d(o,["speechConfig"],Gu(te)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Z=c(t,["thinkingConfig"]);Z!=null&&d(o,["thinkingConfig"],Z);const ce=c(t,["imageConfig"]);return ce!=null&&d(o,["imageConfig"],ce),o}function gT(i,t,s){const o={},r=c(t,["systemInstruction"]);s!==void 0&&r!=null&&d(s,["systemInstruction"],ft(r));const u=c(t,["temperature"]);u!=null&&d(o,["temperature"],u);const h=c(t,["topP"]);h!=null&&d(o,["topP"],h);const y=c(t,["topK"]);y!=null&&d(o,["topK"],y);const x=c(t,["candidateCount"]);x!=null&&d(o,["candidateCount"],x);const g=c(t,["maxOutputTokens"]);g!=null&&d(o,["maxOutputTokens"],g);const v=c(t,["stopSequences"]);v!=null&&d(o,["stopSequences"],v);const S=c(t,["responseLogprobs"]);S!=null&&d(o,["responseLogprobs"],S);const b=c(t,["logprobs"]);b!=null&&d(o,["logprobs"],b);const C=c(t,["presencePenalty"]);C!=null&&d(o,["presencePenalty"],C);const w=c(t,["frequencyPenalty"]);w!=null&&d(o,["frequencyPenalty"],w);const R=c(t,["seed"]);R!=null&&d(o,["seed"],R);const k=c(t,["responseMimeType"]);k!=null&&d(o,["responseMimeType"],k);const Y=c(t,["responseSchema"]);Y!=null&&d(o,["responseSchema"],Pu(Y));const J=c(t,["responseJsonSchema"]);J!=null&&d(o,["responseJsonSchema"],J);const L=c(t,["routingConfig"]);L!=null&&d(o,["routingConfig"],L);const O=c(t,["modelSelectionConfig"]);O!=null&&d(o,["modelConfig"],O);const W=c(t,["safetySettings"]);if(s!==void 0&&W!=null){let M=W;Array.isArray(M)&&(M=M.map(z=>z)),d(s,["safetySettings"],M)}const ee=c(t,["tools"]);if(s!==void 0&&ee!=null){let M=xs(ee);Array.isArray(M)&&(M=M.map(z=>Wp(ys(z)))),d(s,["tools"],M)}const $=c(t,["toolConfig"]);s!==void 0&&$!=null&&d(s,["toolConfig"],$);const re=c(t,["labels"]);s!==void 0&&re!=null&&d(s,["labels"],re);const te=c(t,["cachedContent"]);s!==void 0&&te!=null&&d(s,["cachedContent"],An(i,te));const Z=c(t,["responseModalities"]);Z!=null&&d(o,["responseModalities"],Z);const ce=c(t,["mediaResolution"]);ce!=null&&d(o,["mediaResolution"],ce);const se=c(t,["speechConfig"]);se!=null&&d(o,["speechConfig"],Zp(Gu(se)));const ie=c(t,["audioTimestamp"]);ie!=null&&d(o,["audioTimestamp"],ie);const me=c(t,["thinkingConfig"]);me!=null&&d(o,["thinkingConfig"],me);const X=c(t,["imageConfig"]);return X!=null&&d(o,["imageConfig"],X),o}function hp(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["contents"]);if(r!=null){let h=Xt(r);Array.isArray(h)&&(h=h.map(y=>Zo(y))),d(s,["contents"],h)}const u=c(t,["config"]);return u!=null&&d(s,["generationConfig"],pT(i,u,s)),s}function pp(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["contents"]);if(r!=null){let h=Xt(r);Array.isArray(h)&&(h=h.map(y=>y)),d(s,["contents"],h)}const u=c(t,["config"]);return u!=null&&d(s,["generationConfig"],gT(i,u,s)),s}function gp(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["candidates"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(g=>B1(g))),d(t,["candidates"],x)}const r=c(i,["modelVersion"]);r!=null&&d(t,["modelVersion"],r);const u=c(i,["promptFeedback"]);u!=null&&d(t,["promptFeedback"],u);const h=c(i,["responseId"]);h!=null&&d(t,["responseId"],h);const y=c(i,["usageMetadata"]);return y!=null&&d(t,["usageMetadata"],y),t}function yp(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>v)),d(t,["candidates"],g)}const r=c(i,["createTime"]);r!=null&&d(t,["createTime"],r);const u=c(i,["modelVersion"]);u!=null&&d(t,["modelVersion"],u);const h=c(i,["promptFeedback"]);h!=null&&d(t,["promptFeedback"],h);const y=c(i,["responseId"]);y!=null&&d(t,["responseId"],y);const x=c(i,["usageMetadata"]);return x!=null&&d(t,["usageMetadata"],x),t}function yT(i,t){const s={};if(c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=c(i,["numberOfImages"]);t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o);const r=c(i,["aspectRatio"]);t!==void 0&&r!=null&&d(t,["parameters","aspectRatio"],r);const u=c(i,["guidanceScale"]);if(t!==void 0&&u!=null&&d(t,["parameters","guidanceScale"],u),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=c(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&d(t,["parameters","safetySetting"],h);const y=c(i,["personGeneration"]);t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y);const x=c(i,["includeSafetyAttributes"]);t!==void 0&&x!=null&&d(t,["parameters","includeSafetyAttributes"],x);const g=c(i,["includeRaiReason"]);t!==void 0&&g!=null&&d(t,["parameters","includeRaiReason"],g);const v=c(i,["language"]);t!==void 0&&v!=null&&d(t,["parameters","language"],v);const S=c(i,["outputMimeType"]);t!==void 0&&S!=null&&d(t,["parameters","outputOptions","mimeType"],S);const b=c(i,["outputCompressionQuality"]);if(t!==void 0&&b!=null&&d(t,["parameters","outputOptions","compressionQuality"],b),c(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=c(i,["imageSize"]);if(t!==void 0&&C!=null&&d(t,["parameters","sampleImageSize"],C),c(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function xT(i,t){const s={},o=c(i,["outputGcsUri"]);t!==void 0&&o!=null&&d(t,["parameters","storageUri"],o);const r=c(i,["negativePrompt"]);t!==void 0&&r!=null&&d(t,["parameters","negativePrompt"],r);const u=c(i,["numberOfImages"]);t!==void 0&&u!=null&&d(t,["parameters","sampleCount"],u);const h=c(i,["aspectRatio"]);t!==void 0&&h!=null&&d(t,["parameters","aspectRatio"],h);const y=c(i,["guidanceScale"]);t!==void 0&&y!=null&&d(t,["parameters","guidanceScale"],y);const x=c(i,["seed"]);t!==void 0&&x!=null&&d(t,["parameters","seed"],x);const g=c(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&d(t,["parameters","safetySetting"],g);const v=c(i,["personGeneration"]);t!==void 0&&v!=null&&d(t,["parameters","personGeneration"],v);const S=c(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&d(t,["parameters","includeSafetyAttributes"],S);const b=c(i,["includeRaiReason"]);t!==void 0&&b!=null&&d(t,["parameters","includeRaiReason"],b);const C=c(i,["language"]);t!==void 0&&C!=null&&d(t,["parameters","language"],C);const w=c(i,["outputMimeType"]);t!==void 0&&w!=null&&d(t,["parameters","outputOptions","mimeType"],w);const R=c(i,["outputCompressionQuality"]);t!==void 0&&R!=null&&d(t,["parameters","outputOptions","compressionQuality"],R);const k=c(i,["addWatermark"]);t!==void 0&&k!=null&&d(t,["parameters","addWatermark"],k);const Y=c(i,["labels"]);t!==void 0&&Y!=null&&d(t,["labels"],Y);const J=c(i,["imageSize"]);t!==void 0&&J!=null&&d(t,["parameters","sampleImageSize"],J);const L=c(i,["enhancePrompt"]);return t!==void 0&&L!=null&&d(t,["parameters","enhancePrompt"],L),s}function vT(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["prompt"]);r!=null&&d(s,["instances[0]","prompt"],r);const u=c(t,["config"]);return u!=null&&yT(u,s),s}function TT(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["prompt"]);r!=null&&d(s,["instances[0]","prompt"],r);const u=c(t,["config"]);return u!=null&&xT(u,s),s}function ST(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(h=>DT(h))),d(t,["generatedImages"],u)}const r=c(i,["positivePromptSafetyAttributes"]);return r!=null&&d(t,["positivePromptSafetyAttributes"],Xp(r)),t}function bT(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(h=>Wo(h))),d(t,["generatedImages"],u)}const r=c(i,["positivePromptSafetyAttributes"]);return r!=null&&d(t,["positivePromptSafetyAttributes"],Kp(r)),t}function ET(i,t){const s={},o=c(i,["numberOfVideos"]);if(t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o),c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=c(i,["durationSeconds"]);if(t!==void 0&&r!=null&&d(t,["parameters","durationSeconds"],r),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(i,["aspectRatio"]);t!==void 0&&u!=null&&d(t,["parameters","aspectRatio"],u);const h=c(i,["resolution"]);t!==void 0&&h!=null&&d(t,["parameters","resolution"],h);const y=c(i,["personGeneration"]);if(t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y),c(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const x=c(i,["negativePrompt"]);t!==void 0&&x!=null&&d(t,["parameters","negativePrompt"],x);const g=c(i,["enhancePrompt"]);if(t!==void 0&&g!=null&&d(t,["parameters","enhancePrompt"],g),c(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(i,["lastFrame"]);t!==void 0&&v!=null&&d(t,["instances[0]","lastFrame"],ea(v));const S=c(i,["referenceImages"]);if(t!==void 0&&S!=null){let b=S;Array.isArray(b)&&(b=b.map(C=>bS(C))),d(t,["instances[0]","referenceImages"],b)}if(c(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function CT(i,t){const s={},o=c(i,["numberOfVideos"]);t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o);const r=c(i,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const u=c(i,["fps"]);t!==void 0&&u!=null&&d(t,["parameters","fps"],u);const h=c(i,["durationSeconds"]);t!==void 0&&h!=null&&d(t,["parameters","durationSeconds"],h);const y=c(i,["seed"]);t!==void 0&&y!=null&&d(t,["parameters","seed"],y);const x=c(i,["aspectRatio"]);t!==void 0&&x!=null&&d(t,["parameters","aspectRatio"],x);const g=c(i,["resolution"]);t!==void 0&&g!=null&&d(t,["parameters","resolution"],g);const v=c(i,["personGeneration"]);t!==void 0&&v!=null&&d(t,["parameters","personGeneration"],v);const S=c(i,["pubsubTopic"]);t!==void 0&&S!=null&&d(t,["parameters","pubsubTopic"],S);const b=c(i,["negativePrompt"]);t!==void 0&&b!=null&&d(t,["parameters","negativePrompt"],b);const C=c(i,["enhancePrompt"]);t!==void 0&&C!=null&&d(t,["parameters","enhancePrompt"],C);const w=c(i,["generateAudio"]);t!==void 0&&w!=null&&d(t,["parameters","generateAudio"],w);const R=c(i,["lastFrame"]);t!==void 0&&R!=null&&d(t,["instances[0]","lastFrame"],tn(R));const k=c(i,["referenceImages"]);if(t!==void 0&&k!=null){let L=k;Array.isArray(L)&&(L=L.map(O=>ES(O))),d(t,["instances[0]","referenceImages"],L)}const Y=c(i,["mask"]);t!==void 0&&Y!=null&&d(t,["instances[0]","mask"],SS(Y));const J=c(i,["compressionQuality"]);return t!==void 0&&J!=null&&d(t,["parameters","compressionQuality"],J),s}function AT(i){const t={},s=c(i,["name"]);s!=null&&d(t,["name"],s);const o=c(i,["metadata"]);o!=null&&d(t,["metadata"],o);const r=c(i,["done"]);r!=null&&d(t,["done"],r);const u=c(i,["error"]);u!=null&&d(t,["error"],u);const h=c(i,["response","generateVideoResponse"]);return h!=null&&d(t,["response"],MT(h)),t}function wT(i){const t={},s=c(i,["name"]);s!=null&&d(t,["name"],s);const o=c(i,["metadata"]);o!=null&&d(t,["metadata"],o);const r=c(i,["done"]);r!=null&&d(t,["done"],r);const u=c(i,["error"]);u!=null&&d(t,["error"],u);const h=c(i,["response"]);return h!=null&&d(t,["response"],RT(h)),t}function _T(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["prompt"]);r!=null&&d(s,["instances[0]","prompt"],r);const u=c(t,["image"]);u!=null&&d(s,["instances[0]","image"],ea(u));const h=c(t,["video"]);h!=null&&d(s,["instances[0]","video"],eg(h));const y=c(t,["source"]);y!=null&&kT(y,s);const x=c(t,["config"]);return x!=null&&ET(x,s),s}function NT(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["prompt"]);r!=null&&d(s,["instances[0]","prompt"],r);const u=c(t,["image"]);u!=null&&d(s,["instances[0]","image"],tn(u));const h=c(t,["video"]);h!=null&&d(s,["instances[0]","video"],tg(h));const y=c(t,["source"]);y!=null&&IT(y,s);const x=c(t,["config"]);return x!=null&&CT(x,s),s}function MT(i){const t={},s=c(i,["generatedSamples"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(h=>LT(h))),d(t,["generatedVideos"],u)}const o=c(i,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const r=c(i,["raiMediaFilteredReasons"]);return r!=null&&d(t,["raiMediaFilteredReasons"],r),t}function RT(i){const t={},s=c(i,["videos"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(h=>zT(h))),d(t,["generatedVideos"],u)}const o=c(i,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const r=c(i,["raiMediaFilteredReasons"]);return r!=null&&d(t,["raiMediaFilteredReasons"],r),t}function kT(i,t){const s={},o=c(i,["prompt"]);t!==void 0&&o!=null&&d(t,["instances[0]","prompt"],o);const r=c(i,["image"]);t!==void 0&&r!=null&&d(t,["instances[0]","image"],ea(r));const u=c(i,["video"]);return t!==void 0&&u!=null&&d(t,["instances[0]","video"],eg(u)),s}function IT(i,t){const s={},o=c(i,["prompt"]);t!==void 0&&o!=null&&d(t,["instances[0]","prompt"],o);const r=c(i,["image"]);t!==void 0&&r!=null&&d(t,["instances[0]","image"],tn(r));const u=c(i,["video"]);return t!==void 0&&u!=null&&d(t,["instances[0]","video"],tg(u)),s}function DT(i){const t={},s=c(i,["_self"]);s!=null&&d(t,["image"],VT(s));const o=c(i,["raiFilteredReason"]);o!=null&&d(t,["raiFilteredReason"],o);const r=c(i,["_self"]);return r!=null&&d(t,["safetyAttributes"],Xp(r)),t}function Wo(i){const t={},s=c(i,["_self"]);s!=null&&d(t,["image"],$p(s));const o=c(i,["raiFilteredReason"]);o!=null&&d(t,["raiFilteredReason"],o);const r=c(i,["_self"]);r!=null&&d(t,["safetyAttributes"],Kp(r));const u=c(i,["prompt"]);return u!=null&&d(t,["enhancedPrompt"],u),t}function UT(i){const t={},s=c(i,["_self"]);s!=null&&d(t,["mask"],$p(s));const o=c(i,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>u)),d(t,["labels"],r)}return t}function LT(i){const t={},s=c(i,["video"]);return s!=null&&d(t,["video"],vS(s)),t}function zT(i){const t={},s=c(i,["_self"]);return s!=null&&d(t,["video"],TS(s)),t}function PT(i){const t={},s=c(i,["modelSelectionConfig"]);s!=null&&d(t,["modelConfig"],s);const o=c(i,["audioTimestamp"]);o!=null&&d(t,["audioTimestamp"],o);const r=c(i,["candidateCount"]);r!=null&&d(t,["candidateCount"],r);const u=c(i,["enableAffectiveDialog"]);u!=null&&d(t,["enableAffectiveDialog"],u);const h=c(i,["frequencyPenalty"]);h!=null&&d(t,["frequencyPenalty"],h);const y=c(i,["logprobs"]);y!=null&&d(t,["logprobs"],y);const x=c(i,["maxOutputTokens"]);x!=null&&d(t,["maxOutputTokens"],x);const g=c(i,["mediaResolution"]);g!=null&&d(t,["mediaResolution"],g);const v=c(i,["presencePenalty"]);v!=null&&d(t,["presencePenalty"],v);const S=c(i,["responseJsonSchema"]);S!=null&&d(t,["responseJsonSchema"],S);const b=c(i,["responseLogprobs"]);b!=null&&d(t,["responseLogprobs"],b);const C=c(i,["responseMimeType"]);C!=null&&d(t,["responseMimeType"],C);const w=c(i,["responseModalities"]);w!=null&&d(t,["responseModalities"],w);const R=c(i,["responseSchema"]);R!=null&&d(t,["responseSchema"],R);const k=c(i,["routingConfig"]);k!=null&&d(t,["routingConfig"],k);const Y=c(i,["seed"]);Y!=null&&d(t,["seed"],Y);const J=c(i,["speechConfig"]);J!=null&&d(t,["speechConfig"],Zp(J));const L=c(i,["stopSequences"]);L!=null&&d(t,["stopSequences"],L);const O=c(i,["temperature"]);O!=null&&d(t,["temperature"],O);const W=c(i,["thinkingConfig"]);W!=null&&d(t,["thinkingConfig"],W);const ee=c(i,["topK"]);ee!=null&&d(t,["topK"],ee);const $=c(i,["topP"]);if($!=null&&d(t,["topP"],$),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function GT(i,t){const s={},o=c(t,["model"]);return o!=null&&d(s,["_url","name"],Me(i,o)),s}function qT(i,t){const s={},o=c(t,["model"]);return o!=null&&d(s,["_url","name"],Me(i,o)),s}function BT(i){const t={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(i,["enableWidget"]);return s!=null&&d(t,["enableWidget"],s),t}function HT(i){const t={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const s=c(i,["timeRangeFilter"]);return s!=null&&d(t,["timeRangeFilter"],s),t}function VT(i){const t={},s=c(i,["bytesBase64Encoded"]);s!=null&&d(t,["imageBytes"],ei(s));const o=c(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function $p(i){const t={},s=c(i,["gcsUri"]);s!=null&&d(t,["gcsUri"],s);const o=c(i,["bytesBase64Encoded"]);o!=null&&d(t,["imageBytes"],ei(o));const r=c(i,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function ea(i){const t={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=c(i,["imageBytes"]);s!=null&&d(t,["bytesBase64Encoded"],ei(s));const o=c(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function tn(i){const t={},s=c(i,["gcsUri"]);s!=null&&d(t,["gcsUri"],s);const o=c(i,["imageBytes"]);o!=null&&d(t,["bytesBase64Encoded"],ei(o));const r=c(i,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function jT(i,t,s){const o={},r=c(t,["pageSize"]);s!==void 0&&r!=null&&d(s,["_query","pageSize"],r);const u=c(t,["pageToken"]);s!==void 0&&u!=null&&d(s,["_query","pageToken"],u);const h=c(t,["filter"]);s!==void 0&&h!=null&&d(s,["_query","filter"],h);const y=c(t,["queryBase"]);return s!==void 0&&y!=null&&d(s,["_url","models_url"],Hp(i,y)),o}function OT(i,t,s){const o={},r=c(t,["pageSize"]);s!==void 0&&r!=null&&d(s,["_query","pageSize"],r);const u=c(t,["pageToken"]);s!==void 0&&u!=null&&d(s,["_query","pageToken"],u);const h=c(t,["filter"]);s!==void 0&&h!=null&&d(s,["_query","filter"],h);const y=c(t,["queryBase"]);return s!==void 0&&y!=null&&d(s,["_url","models_url"],Hp(i,y)),o}function FT(i,t){const s={},o=c(t,["config"]);return o!=null&&jT(i,o,s),s}function YT(i,t){const s={},o=c(t,["config"]);return o!=null&&OT(i,o,s),s}function JT(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const r=c(i,["_self"]);if(r!=null){let u=Vp(r);Array.isArray(u)&&(u=u.map(h=>Nu(h))),d(t,["models"],u)}return t}function QT(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const r=c(i,["_self"]);if(r!=null){let u=Vp(r);Array.isArray(u)&&(u=u.map(h=>Mu(h))),d(t,["models"],u)}return t}function $T(i){const t={},s=c(i,["maskMode"]);s!=null&&d(t,["maskMode"],s);const o=c(i,["segmentationClasses"]);o!=null&&d(t,["maskClasses"],o);const r=c(i,["maskDilation"]);return r!=null&&d(t,["dilation"],r),t}function Nu(i){const t={},s=c(i,["name"]);s!=null&&d(t,["name"],s);const o=c(i,["displayName"]);o!=null&&d(t,["displayName"],o);const r=c(i,["description"]);r!=null&&d(t,["description"],r);const u=c(i,["version"]);u!=null&&d(t,["version"],u);const h=c(i,["_self"]);h!=null&&d(t,["tunedModelInfo"],cS(h));const y=c(i,["inputTokenLimit"]);y!=null&&d(t,["inputTokenLimit"],y);const x=c(i,["outputTokenLimit"]);x!=null&&d(t,["outputTokenLimit"],x);const g=c(i,["supportedGenerationMethods"]);return g!=null&&d(t,["supportedActions"],g),t}function Mu(i){const t={},s=c(i,["name"]);s!=null&&d(t,["name"],s);const o=c(i,["displayName"]);o!=null&&d(t,["displayName"],o);const r=c(i,["description"]);r!=null&&d(t,["description"],r);const u=c(i,["versionId"]);u!=null&&d(t,["version"],u);const h=c(i,["deployedModels"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(b=>fT(b))),d(t,["endpoints"],S)}const y=c(i,["labels"]);y!=null&&d(t,["labels"],y);const x=c(i,["_self"]);x!=null&&d(t,["tunedModelInfo"],dS(x));const g=c(i,["defaultCheckpointId"]);g!=null&&d(t,["defaultCheckpointId"],g);const v=c(i,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(b=>b)),d(t,["checkpoints"],S)}return t}function XT(i){const t={},s=c(i,["functionCall"]);s!=null&&d(t,["functionCall"],s);const o=c(i,["codeExecutionResult"]);o!=null&&d(t,["codeExecutionResult"],o);const r=c(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const u=c(i,["fileData"]);u!=null&&d(t,["fileData"],mT(u));const h=c(i,["functionResponse"]);h!=null&&d(t,["functionResponse"],h);const y=c(i,["inlineData"]);y!=null&&d(t,["inlineData"],q1(y));const x=c(i,["text"]);x!=null&&d(t,["text"],x);const g=c(i,["thought"]);g!=null&&d(t,["thought"],g);const v=c(i,["thoughtSignature"]);v!=null&&d(t,["thoughtSignature"],v);const S=c(i,["videoMetadata"]);return S!=null&&d(t,["videoMetadata"],S),t}function KT(i){const t={},s=c(i,["productImage"]);return s!=null&&d(t,["image"],tn(s)),t}function ZT(i,t){const s={},o=c(i,["numberOfImages"]);t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o);const r=c(i,["baseSteps"]);t!==void 0&&r!=null&&d(t,["parameters","editConfig","baseSteps"],r);const u=c(i,["outputGcsUri"]);t!==void 0&&u!=null&&d(t,["parameters","storageUri"],u);const h=c(i,["seed"]);t!==void 0&&h!=null&&d(t,["parameters","seed"],h);const y=c(i,["safetyFilterLevel"]);t!==void 0&&y!=null&&d(t,["parameters","safetySetting"],y);const x=c(i,["personGeneration"]);t!==void 0&&x!=null&&d(t,["parameters","personGeneration"],x);const g=c(i,["addWatermark"]);t!==void 0&&g!=null&&d(t,["parameters","addWatermark"],g);const v=c(i,["outputMimeType"]);t!==void 0&&v!=null&&d(t,["parameters","outputOptions","mimeType"],v);const S=c(i,["outputCompressionQuality"]);t!==void 0&&S!=null&&d(t,["parameters","outputOptions","compressionQuality"],S);const b=c(i,["enhancePrompt"]);t!==void 0&&b!=null&&d(t,["parameters","enhancePrompt"],b);const C=c(i,["labels"]);return t!==void 0&&C!=null&&d(t,["labels"],C),s}function WT(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["source"]);r!=null&&tS(r,s);const u=c(t,["config"]);return u!=null&&ZT(u,s),s}function eS(i){const t={},s=c(i,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(r=>Wo(r))),d(t,["generatedImages"],o)}return t}function tS(i,t){const s={},o=c(i,["prompt"]);t!==void 0&&o!=null&&d(t,["instances[0]","prompt"],o);const r=c(i,["personImage"]);t!==void 0&&r!=null&&d(t,["instances[0]","personImage","image"],tn(r));const u=c(i,["productImages"]);if(t!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>KT(y))),d(t,["instances[0]","productImages"],h)}return s}function nS(i){const t={},s=c(i,["referenceImage"]);s!=null&&d(t,["referenceImage"],tn(s));const o=c(i,["referenceId"]);o!=null&&d(t,["referenceId"],o);const r=c(i,["referenceType"]);r!=null&&d(t,["referenceType"],r);const u=c(i,["maskImageConfig"]);u!=null&&d(t,["maskImageConfig"],$T(u));const h=c(i,["controlImageConfig"]);h!=null&&d(t,["controlImageConfig"],Y1(h));const y=c(i,["styleImageConfig"]);y!=null&&d(t,["styleImageConfig"],y);const x=c(i,["subjectImageConfig"]);return x!=null&&d(t,["subjectImageConfig"],x),t}function Xp(i){const t={},s=c(i,["safetyAttributes","categories"]);s!=null&&d(t,["categories"],s);const o=c(i,["safetyAttributes","scores"]);o!=null&&d(t,["scores"],o);const r=c(i,["contentType"]);return r!=null&&d(t,["contentType"],r),t}function Kp(i){const t={},s=c(i,["safetyAttributes","categories"]);s!=null&&d(t,["categories"],s);const o=c(i,["safetyAttributes","scores"]);o!=null&&d(t,["scores"],o);const r=c(i,["contentType"]);return r!=null&&d(t,["contentType"],r),t}function iS(i){const t={},s=c(i,["category"]);if(s!=null&&d(t,["category"],s),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(i,["threshold"]);return o!=null&&d(t,["threshold"],o),t}function sS(i){const t={},s=c(i,["image"]);return s!=null&&d(t,["image"],tn(s)),t}function lS(i,t){const s={},o=c(i,["mode"]);t!==void 0&&o!=null&&d(t,["parameters","mode"],o);const r=c(i,["maxPredictions"]);t!==void 0&&r!=null&&d(t,["parameters","maxPredictions"],r);const u=c(i,["confidenceThreshold"]);t!==void 0&&u!=null&&d(t,["parameters","confidenceThreshold"],u);const h=c(i,["maskDilation"]);t!==void 0&&h!=null&&d(t,["parameters","maskDilation"],h);const y=c(i,["binaryColorThreshold"]);t!==void 0&&y!=null&&d(t,["parameters","binaryColorThreshold"],y);const x=c(i,["labels"]);return t!==void 0&&x!=null&&d(t,["labels"],x),s}function oS(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["source"]);r!=null&&rS(r,s);const u=c(t,["config"]);return u!=null&&lS(u,s),s}function aS(i){const t={},s=c(i,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(r=>UT(r))),d(t,["generatedMasks"],o)}return t}function rS(i,t){const s={},o=c(i,["prompt"]);t!==void 0&&o!=null&&d(t,["instances[0]","prompt"],o);const r=c(i,["image"]);t!==void 0&&r!=null&&d(t,["instances[0]","image"],tn(r));const u=c(i,["scribbleImage"]);return t!==void 0&&u!=null&&d(t,["instances[0]","scribble"],sS(u)),s}function Zp(i){const t={},s=c(i,["languageCode"]);s!=null&&d(t,["languageCode"],s);const o=c(i,["voiceConfig"]);if(o!=null&&d(t,["voiceConfig"],o),c(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function uS(i){const t={},s=c(i,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(v=>v)),d(t,["functionDeclarations"],g)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["googleSearchRetrieval"]);o!=null&&d(t,["googleSearchRetrieval"],o);const r=c(i,["googleMaps"]);r!=null&&d(t,["googleMaps"],BT(r));const u=c(i,["computerUse"]);u!=null&&d(t,["computerUse"],u);const h=c(i,["codeExecution"]);if(h!=null&&d(t,["codeExecution"],h),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const y=c(i,["googleSearch"]);y!=null&&d(t,["googleSearch"],HT(y));const x=c(i,["urlContext"]);return x!=null&&d(t,["urlContext"],x),t}function Wp(i){const t={},s=c(i,["functionDeclarations"]);if(s!=null){let S=s;Array.isArray(S)&&(S=S.map(b=>hT(b))),d(t,["functionDeclarations"],S)}const o=c(i,["retrieval"]);o!=null&&d(t,["retrieval"],o);const r=c(i,["googleSearchRetrieval"]);r!=null&&d(t,["googleSearchRetrieval"],r);const u=c(i,["googleMaps"]);u!=null&&d(t,["googleMaps"],u);const h=c(i,["computerUse"]);h!=null&&d(t,["computerUse"],h);const y=c(i,["codeExecution"]);y!=null&&d(t,["codeExecution"],y);const x=c(i,["enterpriseWebSearch"]);x!=null&&d(t,["enterpriseWebSearch"],x);const g=c(i,["googleSearch"]);g!=null&&d(t,["googleSearch"],g);const v=c(i,["urlContext"]);return v!=null&&d(t,["urlContext"],v),t}function cS(i){const t={},s=c(i,["baseModel"]);s!=null&&d(t,["baseModel"],s);const o=c(i,["createTime"]);o!=null&&d(t,["createTime"],o);const r=c(i,["updateTime"]);return r!=null&&d(t,["updateTime"],r),t}function dS(i){const t={},s=c(i,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&d(t,["baseModel"],s);const o=c(i,["createTime"]);o!=null&&d(t,["createTime"],o);const r=c(i,["updateTime"]);return r!=null&&d(t,["updateTime"],r),t}function fS(i,t){const s={},o=c(i,["displayName"]);t!==void 0&&o!=null&&d(t,["displayName"],o);const r=c(i,["description"]);t!==void 0&&r!=null&&d(t,["description"],r);const u=c(i,["defaultCheckpointId"]);return t!==void 0&&u!=null&&d(t,["defaultCheckpointId"],u),s}function mS(i,t){const s={},o=c(i,["displayName"]);t!==void 0&&o!=null&&d(t,["displayName"],o);const r=c(i,["description"]);t!==void 0&&r!=null&&d(t,["description"],r);const u=c(i,["defaultCheckpointId"]);return t!==void 0&&u!=null&&d(t,["defaultCheckpointId"],u),s}function hS(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","name"],Me(i,o));const r=c(t,["config"]);return r!=null&&fS(r,s),s}function pS(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["config"]);return r!=null&&mS(r,s),s}function gS(i,t){const s={},o=c(i,["outputGcsUri"]);t!==void 0&&o!=null&&d(t,["parameters","storageUri"],o);const r=c(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&d(t,["parameters","safetySetting"],r);const u=c(i,["personGeneration"]);t!==void 0&&u!=null&&d(t,["parameters","personGeneration"],u);const h=c(i,["includeRaiReason"]);t!==void 0&&h!=null&&d(t,["parameters","includeRaiReason"],h);const y=c(i,["outputMimeType"]);t!==void 0&&y!=null&&d(t,["parameters","outputOptions","mimeType"],y);const x=c(i,["outputCompressionQuality"]);t!==void 0&&x!=null&&d(t,["parameters","outputOptions","compressionQuality"],x);const g=c(i,["enhanceInputImage"]);t!==void 0&&g!=null&&d(t,["parameters","upscaleConfig","enhanceInputImage"],g);const v=c(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&d(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=c(i,["labels"]);t!==void 0&&S!=null&&d(t,["labels"],S);const b=c(i,["numberOfImages"]);t!==void 0&&b!=null&&d(t,["parameters","sampleCount"],b);const C=c(i,["mode"]);return t!==void 0&&C!=null&&d(t,["parameters","mode"],C),s}function yS(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["_url","model"],Me(i,o));const r=c(t,["image"]);r!=null&&d(s,["instances[0]","image"],tn(r));const u=c(t,["upscaleFactor"]);u!=null&&d(s,["parameters","upscaleConfig","upscaleFactor"],u);const h=c(t,["config"]);return h!=null&&gS(h,s),s}function xS(i){const t={},s=c(i,["sdkHttpResponse"]);s!=null&&d(t,["sdkHttpResponse"],s);const o=c(i,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>Wo(u))),d(t,["generatedImages"],r)}return t}function vS(i){const t={},s=c(i,["uri"]);s!=null&&d(t,["uri"],s);const o=c(i,["encodedVideo"]);o!=null&&d(t,["videoBytes"],ei(o));const r=c(i,["encoding"]);return r!=null&&d(t,["mimeType"],r),t}function TS(i){const t={},s=c(i,["gcsUri"]);s!=null&&d(t,["uri"],s);const o=c(i,["bytesBase64Encoded"]);o!=null&&d(t,["videoBytes"],ei(o));const r=c(i,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function SS(i){const t={},s=c(i,["image"]);s!=null&&d(t,["_self"],tn(s));const o=c(i,["maskMode"]);return o!=null&&d(t,["maskMode"],o),t}function bS(i){const t={},s=c(i,["image"]);s!=null&&d(t,["image"],ea(s));const o=c(i,["referenceType"]);return o!=null&&d(t,["referenceType"],o),t}function ES(i){const t={},s=c(i,["image"]);s!=null&&d(t,["image"],tn(s));const o=c(i,["referenceType"]);return o!=null&&d(t,["referenceType"],o),t}function eg(i){const t={},s=c(i,["uri"]);s!=null&&d(t,["uri"],s);const o=c(i,["videoBytes"]);o!=null&&d(t,["encodedVideo"],ei(o));const r=c(i,["mimeType"]);return r!=null&&d(t,["encoding"],r),t}function tg(i){const t={},s=c(i,["uri"]);s!=null&&d(t,["gcsUri"],s);const o=c(i,["videoBytes"]);o!=null&&d(t,["bytesBase64Encoded"],ei(o));const r=c(i,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CS="Content-Type",AS="X-Server-Timeout",wS="User-Agent",Ru="x-goog-api-client",_S="1.28.0",NS=`google-genai-sdk/${_S}`,MS="v1beta1",RS="v1beta",xp=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class kS{constructor(t){var s,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:MS,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:RS,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),s=new URL(t);return s.protocol=s.protocol=="http:"?"ws":"wss",s.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,s,o){const r=[this.getRequestUrlInternal(s)];return o&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let s=this.clientOptions.httpOptions;t.httpOptions&&(s=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,s,o);if(t.queryParams)for(const[h,y]of Object.entries(t.queryParams))r.searchParams.append(h,String(y));let u={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=t.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,s,r.toString(),t.abortSignal),this.unaryApiCall(r,u,t.httpMethod)}patchHttpOptions(t,s){const o=JSON.parse(JSON.stringify(t));for(const[r,u]of Object.entries(s))typeof u=="object"?o[r]=Object.assign(Object.assign({},o[r]),u):u!==void 0&&(o[r]=u);return o}async requestStream(t){let s=this.clientOptions.httpOptions;t.httpOptions&&(s=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,s,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let u={};return u.body=t.body,u=await this.includeExtraHttpOptionsToRequestInit(u,s,r.toString(),t.abortSignal),this.streamApiCall(r,u,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,s,o,r){if(s&&s.timeout||r){const u=new AbortController,h=u.signal;if(s.timeout&&(s==null?void 0:s.timeout)>0){const y=setTimeout(()=>u.abort(),s.timeout);y&&typeof y.unref=="function"&&y.unref()}r&&r.addEventListener("abort",()=>{u.abort()}),t.signal=h}return s&&s.extraBody!==null&&IS(t,s.extraBody),t.headers=await this.getHeadersInternal(s,o),t}async unaryApiCall(t,s,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},s),{method:o})).then(async r=>(await vp(r),new Au(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,s,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},s),{method:o})).then(async r=>(await vp(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){var s;return fs(this,arguments,function*(){const r=(s=t==null?void 0:t.body)===null||s===void 0?void 0:s.getReader(),u=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let h="";for(;;){const{done:y,value:x}=yield Oe(r.read());if(y){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=u.decode(x,{stream:!0});try{const S=JSON.parse(g);if("error"in S){const b=JSON.parse(JSON.stringify(S.error)),C=b.status,w=b.code,R=`got status: ${C}. ${JSON.stringify(S)}`;if(w>=400&&w<600)throw new Ko({message:R,status:w})}}catch(S){if(S.name==="ApiError")throw S}h+=g;let v=h.match(xp);for(;v;){const S=v[1];try{const b=new Response(S,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Oe(new Au(b)),h=h.slice(v[0].length),v=h.match(xp)}catch(b){throw new Error(`exception parsing stream chunk ${S}. ${b}`)}}}}finally{r.releaseLock()}})}async apiCall(t,s){return fetch(t,s).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},s=NS+" "+this.clientOptions.userAgentExtra;return t[wS]=s,t[Ru]=s,t[CS]="application/json",t}async getHeadersInternal(t,s){const o=new Headers;if(t&&t.headers){for(const[r,u]of Object.entries(t.headers))o.append(r,u);t.timeout&&t.timeout>0&&o.append(AS,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,s),o}async uploadFile(t,s){var o,r;const u={};s!=null&&(u.mimeType=s.mimeType,u.name=s.name,u.displayName=s.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const h=this.clientOptions.uploader,y=await h.stat(t);u.sizeBytes=String(y.size);const x=(o=s==null?void 0:s.mimeType)!==null&&o!==void 0?o:y.type;if(x===void 0||x==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=x;let g="";typeof t=="string"&&(g=t.replace(/[/\\]+$/,""),g=(r=g.split(/[/\\]/).pop())!==null&&r!==void 0?r:"");const v=await this.fetchUploadUrl(u,g,s);return h.upload(t,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,s,o){var r;let u={};o!=null&&o.httpOptions?u=o.httpOptions:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`},s?{"X-Goog-Upload-File-Name":s}:{})};const h={file:t},y=await this.request({path:oe("upload/v1beta/files",h._url),body:JSON.stringify(h),httpMethod:"POST",httpOptions:u});if(!y||!(y!=null&&y.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(r=y==null?void 0:y.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function vp(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const s=i.status;let o;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await i.json():o={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(o);throw s>=400&&s<600?new Ko({message:r,status:s}):new Error(r)}}function IS(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let s={};if(typeof i.body=="string"&&i.body.length>0)try{const u=JSON.parse(i.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))s=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(u,h){const y=Object.assign({},u);for(const x in h)if(Object.prototype.hasOwnProperty.call(h,x)){const g=h[x],v=y[x];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?y[x]=o(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${x}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),y[x]=g)}return y}const r=o(s,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DS="mcp_used/unknown";let US=!1;function ng(i){for(const t of i)if(LS(t)||typeof t=="object"&&"inputSchema"in t)return!0;return US}function ig(i){var t;const s=(t=i[Ru])!==null&&t!==void 0?t:"";i[Ru]=(s+` ${DS}`).trimStart()}function LS(i){return i!==null&&typeof i=="object"&&i instanceof Bu}function zS(i,t=100){return fs(this,arguments,function*(){let o,r=0;for(;r<t;){const u=yield Oe(i.listTools({cursor:o}));for(const h of u.tools)yield yield Oe(h),r++;if(!u.nextCursor)break;o=u.nextCursor}})}class Bu{constructor(t=[],s){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=s}static create(t,s){return new Bu(t,s)}async initialize(){var t,s,o,r;if(this.mcpTools.length>0)return;const u={},h=[];for(const v of this.mcpClients)try{for(var y=!0,x=(s=void 0,xl(zS(v))),g;g=await x.next(),t=g.done,!t;y=!0){r=g.value,y=!1;const S=r;h.push(S);const b=S.name;if(u[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);u[b]=v}}catch(S){s={error:S}}finally{try{!y&&!t&&(o=x.return)&&await o.call(x)}finally{if(s)throw s.error}}this.mcpTools=h,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),Hx(this.mcpTools,this.config)}async callTool(t){await this.initialize();const s=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const h=await r.callTool({name:o.name,arguments:o.args},void 0,u);s.push({functionResponse:{name:o.name,response:h.isError?{error:h}:h}})}return s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function PS(i,t,s){const o=new Dx;let r;s.data instanceof Blob?r=JSON.parse(await s.data.text()):r=JSON.parse(s.data),Object.assign(o,r),t(o)}class GS{constructor(t,s,o){this.apiClient=t,this.auth=s,this.webSocketFactory=o}async connect(t){var s,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),h=HS(this.apiClient.getDefaultHeaders()),y=this.apiClient.getApiKey(),x=`${r}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${y}`;let g=()=>{};const v=new Promise(L=>{g=L}),S=t.callbacks,b=function(){g({})},C=this.apiClient,w={onopen:b,onmessage:L=>{PS(C,S.onmessage,L)},onerror:(s=S==null?void 0:S.onerror)!==null&&s!==void 0?s:function(L){},onclose:(o=S==null?void 0:S.onclose)!==null&&o!==void 0?o:function(L){}},R=this.webSocketFactory.create(x,BS(h),w);R.connect(),await v;const J={setup:{model:Me(this.apiClient,t.model)}};return R.send(JSON.stringify(J)),new qS(R,this.apiClient)}}class qS{constructor(t,s){this.conn=t,this.apiClient=s}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const s=R1(t);this.conn.send(JSON.stringify({clientContent:s}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const s=M1(t);this.conn.send(JSON.stringify(s))}sendPlaybackControl(t){const s={playbackControl:t};this.conn.send(JSON.stringify(s))}play(){this.sendPlaybackControl(cs.PLAY)}pause(){this.sendPlaybackControl(cs.PAUSE)}stop(){this.sendPlaybackControl(cs.STOP)}resetContext(){this.sendPlaybackControl(cs.RESET_CONTEXT)}close(){this.conn.close()}}function BS(i){const t={};return i.forEach((s,o)=>{t[o]=s}),t}function HS(i){const t=new Headers;for(const[s,o]of Object.entries(i))t.append(s,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function jS(i,t,s){const o=new Ix;let r;s.data instanceof Blob?r=await s.data.text():s.data instanceof ArrayBuffer?r=new TextDecoder().decode(s.data):r=s.data;const u=JSON.parse(r);if(i.isVertexAI()){const h=D1(u);Object.assign(o,h)}else Object.assign(o,u);t(o)}class OS{constructor(t,s,o){this.apiClient=t,this.auth=s,this.webSocketFactory=o,this.music=new GS(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var s,o,r,u,h,y;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const x=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&ng(t.config.tools)&&ig(S);const b=QS(S);if(this.apiClient.isVertexAI())v=`${x}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,v);else{const te=this.apiClient.getApiKey();let Z="BidiGenerateContent",ce="key";te!=null&&te.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Z="BidiGenerateContentConstrained",ce="access_token"),v=`${x}/ws/google.ai.generativelanguage.${g}.GenerativeService.${Z}?${ce}=${te}`}let C=()=>{};const w=new Promise(te=>{C=te}),R=t.callbacks,k=function(){var te;(te=R==null?void 0:R.onopen)===null||te===void 0||te.call(R),C({})},Y=this.apiClient,J={onopen:k,onmessage:te=>{jS(Y,R.onmessage,te)},onerror:(s=R==null?void 0:R.onerror)!==null&&s!==void 0?s:function(te){},onclose:(o=R==null?void 0:R.onclose)!==null&&o!==void 0?o:function(te){}},L=this.webSocketFactory.create(v,JS(b),J);L.connect(),await w;let O=Me(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const te=this.apiClient.getProject(),Z=this.apiClient.getLocation();O=`projects/${te}/locations/${Z}/`+O}let W={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[gs.AUDIO]}:t.config.responseModalities=[gs.AUDIO]),!((u=t.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ee=(y=(h=t.config)===null||h===void 0?void 0:h.tools)!==null&&y!==void 0?y:[],$=[];for(const te of ee)if(this.isCallableTool(te)){const Z=te;$.push(await Z.tool())}else $.push(te);$.length>0&&(t.config.tools=$);const re={model:O,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?W=N1(this.apiClient,re):W=_1(this.apiClient,re),delete W.config,L.send(JSON.stringify(W)),new YS(L,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const FS={turnComplete:!0};class YS{constructor(t,s){this.conn=t,this.apiClient=s}tLiveClientContent(t,s){if(s.turns!==null&&s.turns!==void 0){let o=[];try{o=Xt(s.turns),t.isVertexAI()||(o=o.map(r=>Zo(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof s.turns}'`)}return{clientContent:{turns:o,turnComplete:s.turnComplete}}}return{clientContent:{turnComplete:s.turnComplete}}}tLiveClienttToolResponse(t,s){let o=[];if(s.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(s.functionResponses)?o=s.functionResponses:o=[s.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const u of o){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!t.isVertexAI()&&!("id"in u))throw new Error(VS)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},FS),t);const s=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(s))}sendRealtimeInput(t){let s={};this.apiClient.isVertexAI()?s={realtimeInput:I1(t)}:s={realtimeInput:k1(t)},this.conn.send(JSON.stringify(s))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const s=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(s))}close(){this.conn.close()}}function JS(i){const t={};return i.forEach((s,o)=>{t[o]=s}),t}function QS(i){const t=new Headers;for(const[s,o]of Object.entries(i))t.append(s,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tp=10;function Sp(i){var t,s,o;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const h of(s=i==null?void 0:i.tools)!==null&&s!==void 0?s:[])if(ms(h)){r=!0;break}if(!r)return!0;const u=(o=i==null?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function ms(i){return"callTool"in i&&typeof i.callTool=="function"}function $S(i){var t,s,o;return(o=(s=(t=i.config)===null||t===void 0?void 0:t.tools)===null||s===void 0?void 0:s.some(r=>ms(r)))!==null&&o!==void 0?o:!1}function XS(i){var t,s,o;return(o=(s=(t=i.config)===null||t===void 0?void 0:t.tools)===null||s===void 0?void 0:s.some(r=>!ms(r)))!==null&&o!==void 0?o:!1}function bp(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KS extends bi{constructor(t){super(),this.apiClient=t,this.generateContent=async s=>{var o,r,u,h,y;const x=await this.processParamsMaybeAddMcpUsage(s);if(this.maybeMoveToResponseJsonSchem(s),!$S(s)||Sp(s.config))return await this.generateContentInternal(x);if(XS(s))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let g,v;const S=Xt(x.contents),b=(u=(r=(o=x.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&u!==void 0?u:Tp;let C=0;for(;C<b&&(g=await this.generateContentInternal(x),!(!g.functionCalls||g.functionCalls.length===0));){const w=g.candidates[0].content,R=[];for(const k of(y=(h=s.config)===null||h===void 0?void 0:h.tools)!==null&&y!==void 0?y:[])if(ms(k)){const J=await k.callTool(g.functionCalls);R.push(...J)}C++,v={role:"user",parts:R},x.contents=Xt(x.contents),x.contents.push(w),x.contents.push(v),bp(x.config)&&(S.push(w),S.push(v))}return bp(x.config)&&(g.automaticFunctionCallingHistory=S),g},this.generateContentStream=async s=>{if(this.maybeMoveToResponseJsonSchem(s),Sp(s.config)){const o=await this.processParamsMaybeAddMcpUsage(s);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(s)},this.generateImages=async s=>await this.generateImagesInternal(s).then(o=>{var r;let u;const h=[];if(o!=null&&o.generatedImages)for(const x of o.generatedImages)x&&(x!=null&&x.safetyAttributes)&&((r=x==null?void 0:x.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?u=x==null?void 0:x.safetyAttributes:h.push(x);let y;return u?y={generatedImages:h,positivePromptSafetyAttributes:u,sdkHttpResponse:o.sdkHttpResponse}:y={generatedImages:h,sdkHttpResponse:o.sdkHttpResponse},y}),this.list=async s=>{var o;const h={config:Object.assign(Object.assign({},{queryBase:!0}),s==null?void 0:s.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((o=h.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new Sl(Ti.PAGED_ITEM_MODELS,y=>this.listInternal(y),await this.listInternal(h),h)},this.editImage=async s=>{const o={model:s.model,prompt:s.prompt,referenceImages:[],config:s.config};return s.referenceImages&&s.referenceImages&&(o.referenceImages=s.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async s=>{let o={numberOfImages:1,mode:"upscale"};s.config&&(o=Object.assign(Object.assign({},o),s.config));const r={model:s.model,image:s.image,upscaleFactor:s.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async s=>{var o,r,u,h,y,x;if((s.prompt||s.image||s.video)&&s.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=s.video)===null||o===void 0)&&o.uri&&(!((r=s.video)===null||r===void 0)&&r.videoBytes)?s.video={uri:s.video.uri,mimeType:s.video.mimeType}:!((h=(u=s.source)===null||u===void 0?void 0:u.video)===null||h===void 0)&&h.uri&&(!((x=(y=s.source)===null||y===void 0?void 0:y.video)===null||x===void 0)&&x.videoBytes)&&(s.source.video={uri:s.source.video.uri,mimeType:s.source.video.mimeType})),await this.generateVideosInternal(s)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var s,o,r;const u=(s=t.config)===null||s===void 0?void 0:s.tools;if(!u)return t;const h=await Promise.all(u.map(async x=>ms(x)?await x.tool():x)),y={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:h})};if(y.config.tools=h,t.config&&t.config.tools&&ng(t.config.tools)){const x=(r=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},x);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),ig(g),y.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:g})}return y}async initAfcToolsMap(t){var s,o,r;const u=new Map;for(const h of(o=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(ms(h)){const y=h,x=await y.tool();for(const g of(r=x.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(u.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);u.set(g.name,y)}}return u}async processAfcStream(t){var s,o,r;const u=(r=(o=(s=t.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Tp;let h=!1,y=0;const x=await this.initAfcToolsMap(t);return(function(g,v,S){var b,C;return fs(this,arguments,function*(){for(var w,R,k,Y;y<u;){h&&(y++,h=!1);const W=yield Oe(g.processParamsMaybeAddMcpUsage(S)),ee=yield Oe(g.generateContentStreamInternal(W)),$=[],re=[];try{for(var J=!0,L=(R=void 0,xl(ee)),O;O=yield Oe(L.next()),w=O.done,!w;J=!0){Y=O.value,J=!1;const te=Y;if(yield yield Oe(te),te.candidates&&(!((b=te.candidates[0])===null||b===void 0)&&b.content)){re.push(te.candidates[0].content);for(const Z of(C=te.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(y<u&&Z.functionCall){if(!Z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(Z.functionCall.name)){const ce=yield Oe(v.get(Z.functionCall.name).callTool([Z.functionCall]));$.push(...ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${Z.functionCall.name}`)}}}}catch(te){R={error:te}}finally{try{!J&&!w&&(k=L.return)&&(yield Oe(k.call(L)))}finally{if(R)throw R.error}}if($.length>0){h=!0;const te=new pl;te.candidates=[{content:{role:"user",parts:$}}],yield yield Oe(te);const Z=[];Z.push(...re),Z.push({role:"user",parts:$});const ce=Xt(S.contents).concat(Z);S.contents=ce}else break}})})(this,x,t)}async generateContentInternal(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=pp(this.apiClient,t);return y=oe("{model}:generateContent",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=yp(v),b=new pl;return Object.assign(b,S),b})}else{const g=hp(this.apiClient,t);return y=oe("{model}:generateContent",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=gp(v),b=new pl;return Object.assign(b,S),b})}}async generateContentStreamInternal(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=pp(this.apiClient,t);return y=oe("{model}:streamGenerateContent?alt=sse",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.requestStream({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),h.then(function(S){return fs(this,arguments,function*(){var b,C,w,R;try{for(var k=!0,Y=xl(S),J;J=yield Oe(Y.next()),b=J.done,!b;k=!0){R=J.value,k=!1;const L=R,O=yp(yield Oe(L.json()));O.sdkHttpResponse={headers:L.headers};const W=new pl;Object.assign(W,O),yield yield Oe(W)}}catch(L){C={error:L}}finally{try{!k&&!b&&(w=Y.return)&&(yield Oe(w.call(Y)))}finally{if(C)throw C.error}}})})}else{const g=hp(this.apiClient,t);return y=oe("{model}:streamGenerateContent?alt=sse",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.requestStream({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}),h.then(function(S){return fs(this,arguments,function*(){var b,C,w,R;try{for(var k=!0,Y=xl(S),J;J=yield Oe(Y.next()),b=J.done,!b;k=!0){R=J.value,k=!1;const L=R,O=gp(yield Oe(L.json()));O.sdkHttpResponse={headers:L.headers};const W=new pl;Object.assign(W,O),yield yield Oe(W)}}catch(L){C={error:L}}finally{try{!k&&!b&&(w=Y.return)&&(yield Oe(w.call(Y)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=uT(this.apiClient,t);return y=oe("{model}:predict",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=dT(v),b=new Zh;return Object.assign(b,S),b})}else{const g=rT(this.apiClient,t);return y=oe("{model}:batchEmbedContents",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=cT(v),b=new Zh;return Object.assign(b,S),b})}}async generateImagesInternal(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=TT(this.apiClient,t);return y=oe("{model}:predict",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=bT(v),b=new Wh;return Object.assign(b,S),b})}else{const g=vT(this.apiClient,t);return y=oe("{model}:predict",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=ST(v),b=new Wh;return Object.assign(b,S),b})}}async editImageInternal(t){var s,o;let r,u="",h={};if(this.apiClient.isVertexAI()){const y=sT(this.apiClient,t);return u=oe("{model}:predict",y._url),h=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:x.headers},v})),r.then(x=>{const g=lT(x),v=new Cx;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var s,o;let r,u="",h={};if(this.apiClient.isVertexAI()){const y=yS(this.apiClient,t);return u=oe("{model}:predict",y._url),h=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:x.headers},v})),r.then(x=>{const g=xS(x),v=new Ax;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var s,o;let r,u="",h={};if(this.apiClient.isVertexAI()){const y=WT(this.apiClient,t);return u=oe("{model}:predict",y._url),h=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),r.then(x=>{const g=eS(x),v=new wx;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var s,o;let r,u="",h={};if(this.apiClient.isVertexAI()){const y=oS(this.apiClient,t);return u=oe("{model}:predict",y._url),h=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),r.then(x=>{const g=aS(x),v=new _x;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=qT(this.apiClient,t);return y=oe("{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>Mu(v))}else{const g=GT(this.apiClient,t);return y=oe("{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>Nu(v))}}async listInternal(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=YT(this.apiClient,t);return y=oe("{models_url}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=QT(v),b=new ep;return Object.assign(b,S),b})}else{const g=FT(this.apiClient,t);return y=oe("{models_url}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=JT(v),b=new ep;return Object.assign(b,S),b})}}async update(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=pS(this.apiClient,t);return y=oe("{model}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>Mu(v))}else{const g=hS(this.apiClient,t);return y=oe("{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>Nu(v))}}async delete(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=eT(this.apiClient,t);return y=oe("{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=nT(v),b=new tp;return Object.assign(b,S),b})}else{const g=W1(this.apiClient,t);return y=oe("{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=tT(v),b=new tp;return Object.assign(b,S),b})}}async countTokens(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=X1(this.apiClient,t);return y=oe("{model}:countTokens",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=Z1(v),b=new np;return Object.assign(b,S),b})}else{const g=$1(this.apiClient,t);return y=oe("{model}:countTokens",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=K1(v),b=new np;return Object.assign(b,S),b})}}async computeTokens(t){var s,o;let r,u="",h={};if(this.apiClient.isVertexAI()){const y=V1(this.apiClient,t);return u=oe("{model}:computeTokens",y._url),h=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:x.headers},v})),r.then(x=>{const g=j1(x),v=new Nx;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=NT(this.apiClient,t);return y=oe("{model}:predictLongRunning",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>{const S=wT(v),b=new Yo;return Object.assign(b,S),b})}else{const g=_T(this.apiClient,t);return y=oe("{model}:predictLongRunning",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>{const S=AT(v),b=new Yo;return Object.assign(b,S),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZS extends bi{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const s=t.operation,o=t.config;if(s.name===void 0||s.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=s.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:s.name,resourceName:r,config:{httpOptions:u}});return s._fromAPIResponse({apiResponse:h,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:s.name,config:o});return s._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async get(t){const s=t.operation,o=t.config;if(s.name===void 0||s.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=s.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:s.name,resourceName:r,config:{httpOptions:u}});return s._fromAPIResponse({apiResponse:h,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:s.name,config:o});return s._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async getVideosOperationInternal(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=Sx(t);return y=oe("{operationName}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h}else{const g=Tx(t);return y=oe("{operationName}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h}}async fetchPredictVideosOperationInternal(t){var s,o;let r,u="",h={};if(this.apiClient.isVertexAI()){const y=mx(t);return u=oe("{resourceName}:fetchPredictOperation",y._url),h=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WS(i){const t={},s=c(i,["data"]);if(s!=null&&d(t,["data"],s),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function e2(i){const t={},s=c(i,["parts"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>r2(u))),d(t,["parts"],r)}const o=c(i,["role"]);return o!=null&&d(t,["role"],o),t}function t2(i,t,s){const o={},r=c(t,["expireTime"]);s!==void 0&&r!=null&&d(s,["expireTime"],r);const u=c(t,["newSessionExpireTime"]);s!==void 0&&u!=null&&d(s,["newSessionExpireTime"],u);const h=c(t,["uses"]);s!==void 0&&h!=null&&d(s,["uses"],h);const y=c(t,["liveConnectConstraints"]);s!==void 0&&y!=null&&d(s,["bidiGenerateContentSetup"],a2(i,y));const x=c(t,["lockAdditionalFields"]);return s!==void 0&&x!=null&&d(s,["fieldMask"],x),o}function n2(i,t){const s={},o=c(t,["config"]);return o!=null&&d(s,["config"],t2(i,o,s)),s}function i2(i){const t={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(i,["fileUri"]);s!=null&&d(t,["fileUri"],s);const o=c(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function s2(i){const t={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(i,["enableWidget"]);return s!=null&&d(t,["enableWidget"],s),t}function l2(i){const t={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const s=c(i,["timeRangeFilter"]);return s!=null&&d(t,["timeRangeFilter"],s),t}function o2(i,t){const s={},o=c(i,["generationConfig"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig"],o);const r=c(i,["responseModalities"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig","responseModalities"],r);const u=c(i,["temperature"]);t!==void 0&&u!=null&&d(t,["setup","generationConfig","temperature"],u);const h=c(i,["topP"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","topP"],h);const y=c(i,["topK"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","topK"],y);const x=c(i,["maxOutputTokens"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","maxOutputTokens"],x);const g=c(i,["mediaResolution"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","mediaResolution"],g);const v=c(i,["seed"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","seed"],v);const S=c(i,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],qu(S));const b=c(i,["thinkingConfig"]);t!==void 0&&b!=null&&d(t,["setup","generationConfig","thinkingConfig"],b);const C=c(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=c(i,["systemInstruction"]);t!==void 0&&w!=null&&d(t,["setup","systemInstruction"],e2(ft(w)));const R=c(i,["tools"]);if(t!==void 0&&R!=null){let ee=xs(R);Array.isArray(ee)&&(ee=ee.map($=>c2(ys($)))),d(t,["setup","tools"],ee)}const k=c(i,["sessionResumption"]);t!==void 0&&k!=null&&d(t,["setup","sessionResumption"],u2(k));const Y=c(i,["inputAudioTranscription"]);t!==void 0&&Y!=null&&d(t,["setup","inputAudioTranscription"],Y);const J=c(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&d(t,["setup","outputAudioTranscription"],J);const L=c(i,["realtimeInputConfig"]);t!==void 0&&L!=null&&d(t,["setup","realtimeInputConfig"],L);const O=c(i,["contextWindowCompression"]);t!==void 0&&O!=null&&d(t,["setup","contextWindowCompression"],O);const W=c(i,["proactivity"]);return t!==void 0&&W!=null&&d(t,["setup","proactivity"],W),s}function a2(i,t){const s={},o=c(t,["model"]);o!=null&&d(s,["setup","model"],Me(i,o));const r=c(t,["config"]);return r!=null&&d(s,["config"],o2(r,s)),s}function r2(i){const t={},s=c(i,["functionCall"]);s!=null&&d(t,["functionCall"],s);const o=c(i,["codeExecutionResult"]);o!=null&&d(t,["codeExecutionResult"],o);const r=c(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const u=c(i,["fileData"]);u!=null&&d(t,["fileData"],i2(u));const h=c(i,["functionResponse"]);h!=null&&d(t,["functionResponse"],h);const y=c(i,["inlineData"]);y!=null&&d(t,["inlineData"],WS(y));const x=c(i,["text"]);x!=null&&d(t,["text"],x);const g=c(i,["thought"]);g!=null&&d(t,["thought"],g);const v=c(i,["thoughtSignature"]);v!=null&&d(t,["thoughtSignature"],v);const S=c(i,["videoMetadata"]);return S!=null&&d(t,["videoMetadata"],S),t}function u2(i){const t={},s=c(i,["handle"]);if(s!=null&&d(t,["handle"],s),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function c2(i){const t={},s=c(i,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(v=>v)),d(t,["functionDeclarations"],g)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["googleSearchRetrieval"]);o!=null&&d(t,["googleSearchRetrieval"],o);const r=c(i,["googleMaps"]);r!=null&&d(t,["googleMaps"],s2(r));const u=c(i,["computerUse"]);u!=null&&d(t,["computerUse"],u);const h=c(i,["codeExecution"]);if(h!=null&&d(t,["codeExecution"],h),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const y=c(i,["googleSearch"]);y!=null&&d(t,["googleSearch"],l2(y));const x=c(i,["urlContext"]);return x!=null&&d(t,["urlContext"],x),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d2(i){const t=[];for(const s in i)if(Object.prototype.hasOwnProperty.call(i,s)){const o=i[s];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(u=>`${s}.${u}`);t.push(...r)}else t.push(s)}return t.join(",")}function f2(i,t){let s=null;const o=i.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const u=o.setup;typeof u=="object"&&u!==null?(i.bidiGenerateContentSetup=u,s=u):delete i.bidiGenerateContentSetup}else o!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(s){const u=d2(s);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)u?i.fieldMask=u:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let y=[];r.length>0&&(y=r.map(g=>h.includes(g)?`generationConfig.${g}`:g));const x=[];u&&x.push(u),y.length>0&&x.push(...y),x.length>0?i.fieldMask=x.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class m2 extends bi{constructor(t){super(),this.apiClient=t}async create(t){var s,o;let r,u="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const y=n2(this.apiClient,t);u=oe("auth_tokens",y._url),h=y._query,delete y.config,delete y._url,delete y._query;const x=f2(y,t.config);return r=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h2(i,t){const s={},o=c(i,["name"]);return o!=null&&d(s,["_url","name"],o),s}function p2(i,t){const s={},o=c(i,["name"]);return o!=null&&d(s,["_url","name"],o),s}function g2(i,t,s){const o={};if(c(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=c(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&d(t,["displayName"],r),c(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(i,["epochCount"]);t!==void 0&&u!=null&&d(t,["tuningTask","hyperparameters","epochCount"],u);const h=c(i,["learningRateMultiplier"]);if(h!=null&&d(o,["tuningTask","hyperparameters","learningRateMultiplier"],h),c(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const y=c(i,["batchSize"]);t!==void 0&&y!=null&&d(t,["tuningTask","hyperparameters","batchSize"],y);const x=c(i,["learningRate"]);if(t!==void 0&&x!=null&&d(t,["tuningTask","hyperparameters","learningRate"],x),c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function y2(i,t,s){const o={};let r=c(s,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=c(i,["validationDataset"]);t!==void 0&&C!=null&&d(t,["supervisedTuningSpec"],Ep(C))}else if(r==="PREFERENCE_TUNING"){const C=c(i,["validationDataset"]);t!==void 0&&C!=null&&d(t,["preferenceOptimizationSpec"],Ep(C))}const u=c(i,["tunedModelDisplayName"]);t!==void 0&&u!=null&&d(t,["tunedModelDisplayName"],u);const h=c(i,["description"]);t!==void 0&&h!=null&&d(t,["description"],h);let y=c(s,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=c(i,["epochCount"]);t!==void 0&&C!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(y==="PREFERENCE_TUNING"){const C=c(i,["epochCount"]);t!==void 0&&C!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let x=c(s,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const C=c(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(x==="PREFERENCE_TUNING"){const C=c(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let g=c(s,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=c(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(g==="PREFERENCE_TUNING"){const C=c(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&d(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=c(s,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=c(i,["adapterSize"]);t!==void 0&&C!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=c(i,["adapterSize"]);t!==void 0&&C!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(c(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=c(i,["labels"]);t!==void 0&&S!=null&&d(t,["labels"],S);const b=c(i,["beta"]);return t!==void 0&&b!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","beta"],b),o}function x2(i,t){const s={},o=c(i,["baseModel"]);o!=null&&d(s,["baseModel"],o);const r=c(i,["preTunedModel"]);r!=null&&d(s,["preTunedModel"],r);const u=c(i,["trainingDataset"]);u!=null&&M2(u);const h=c(i,["config"]);return h!=null&&g2(h,s),s}function v2(i,t){const s={},o=c(i,["baseModel"]);o!=null&&d(s,["baseModel"],o);const r=c(i,["preTunedModel"]);r!=null&&d(s,["preTunedModel"],r);const u=c(i,["trainingDataset"]);u!=null&&R2(u,s,t);const h=c(i,["config"]);return h!=null&&y2(h,s,t),s}function T2(i,t){const s={},o=c(i,["name"]);return o!=null&&d(s,["_url","name"],o),s}function S2(i,t){const s={},o=c(i,["name"]);return o!=null&&d(s,["_url","name"],o),s}function b2(i,t,s){const o={},r=c(i,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const u=c(i,["pageToken"]);t!==void 0&&u!=null&&d(t,["_query","pageToken"],u);const h=c(i,["filter"]);return t!==void 0&&h!=null&&d(t,["_query","filter"],h),o}function E2(i,t,s){const o={},r=c(i,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const u=c(i,["pageToken"]);t!==void 0&&u!=null&&d(t,["_query","pageToken"],u);const h=c(i,["filter"]);return t!==void 0&&h!=null&&d(t,["_query","filter"],h),o}function C2(i,t){const s={},o=c(i,["config"]);return o!=null&&b2(o,s),s}function A2(i,t){const s={},o=c(i,["config"]);return o!=null&&E2(o,s),s}function w2(i,t){const s={},o=c(i,["sdkHttpResponse"]);o!=null&&d(s,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&d(s,["nextPageToken"],r);const u=c(i,["tunedModels"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>sg(y))),d(s,["tuningJobs"],h)}return s}function _2(i,t){const s={},o=c(i,["sdkHttpResponse"]);o!=null&&d(s,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&d(s,["nextPageToken"],r);const u=c(i,["tuningJobs"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>ku(y))),d(s,["tuningJobs"],h)}return s}function N2(i,t){const s={},o=c(i,["name"]);o!=null&&d(s,["model"],o);const r=c(i,["name"]);return r!=null&&d(s,["endpoint"],r),s}function M2(i,t){const s={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=c(i,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>u)),d(s,["examples","examples"],r)}return s}function R2(i,t,s){const o={};let r=c(s,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const h=c(i,["gcsUri"]);t!==void 0&&h!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(r==="PREFERENCE_TUNING"){const h=c(i,["gcsUri"]);t!==void 0&&h!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}let u=c(s,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const h=c(i,["vertexDatasetResource"]);t!==void 0&&h!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(u==="PREFERENCE_TUNING"){const h=c(i,["vertexDatasetResource"]);t!==void 0&&h!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}if(c(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function sg(i,t){const s={},o=c(i,["sdkHttpResponse"]);o!=null&&d(s,["sdkHttpResponse"],o);const r=c(i,["name"]);r!=null&&d(s,["name"],r);const u=c(i,["state"]);u!=null&&d(s,["state"],qp(u));const h=c(i,["createTime"]);h!=null&&d(s,["createTime"],h);const y=c(i,["tuningTask","startTime"]);y!=null&&d(s,["startTime"],y);const x=c(i,["tuningTask","completeTime"]);x!=null&&d(s,["endTime"],x);const g=c(i,["updateTime"]);g!=null&&d(s,["updateTime"],g);const v=c(i,["description"]);v!=null&&d(s,["description"],v);const S=c(i,["baseModel"]);S!=null&&d(s,["baseModel"],S);const b=c(i,["_self"]);return b!=null&&d(s,["tunedModel"],N2(b)),s}function ku(i,t){const s={},o=c(i,["sdkHttpResponse"]);o!=null&&d(s,["sdkHttpResponse"],o);const r=c(i,["name"]);r!=null&&d(s,["name"],r);const u=c(i,["state"]);u!=null&&d(s,["state"],qp(u));const h=c(i,["createTime"]);h!=null&&d(s,["createTime"],h);const y=c(i,["startTime"]);y!=null&&d(s,["startTime"],y);const x=c(i,["endTime"]);x!=null&&d(s,["endTime"],x);const g=c(i,["updateTime"]);g!=null&&d(s,["updateTime"],g);const v=c(i,["error"]);v!=null&&d(s,["error"],v);const S=c(i,["description"]);S!=null&&d(s,["description"],S);const b=c(i,["baseModel"]);b!=null&&d(s,["baseModel"],b);const C=c(i,["tunedModel"]);C!=null&&d(s,["tunedModel"],C);const w=c(i,["preTunedModel"]);w!=null&&d(s,["preTunedModel"],w);const R=c(i,["supervisedTuningSpec"]);R!=null&&d(s,["supervisedTuningSpec"],R);const k=c(i,["preferenceOptimizationSpec"]);k!=null&&d(s,["preferenceOptimizationSpec"],k);const Y=c(i,["tuningDataStats"]);Y!=null&&d(s,["tuningDataStats"],Y);const J=c(i,["encryptionSpec"]);J!=null&&d(s,["encryptionSpec"],J);const L=c(i,["partnerModelTuningSpec"]);L!=null&&d(s,["partnerModelTuningSpec"],L);const O=c(i,["customBaseModel"]);O!=null&&d(s,["customBaseModel"],O);const W=c(i,["experiment"]);W!=null&&d(s,["experiment"],W);const ee=c(i,["labels"]);ee!=null&&d(s,["labels"],ee);const $=c(i,["outputUri"]);$!=null&&d(s,["outputUri"],$);const re=c(i,["pipelineJob"]);re!=null&&d(s,["pipelineJob"],re);const te=c(i,["serviceAccount"]);te!=null&&d(s,["serviceAccount"],te);const Z=c(i,["tunedModelDisplayName"]);Z!=null&&d(s,["tunedModelDisplayName"],Z);const ce=c(i,["veoTuningSpec"]);return ce!=null&&d(s,["veoTuningSpec"],ce),s}function k2(i,t){const s={},o=c(i,["sdkHttpResponse"]);o!=null&&d(s,["sdkHttpResponse"],o);const r=c(i,["name"]);r!=null&&d(s,["name"],r);const u=c(i,["metadata"]);u!=null&&d(s,["metadata"],u);const h=c(i,["done"]);h!=null&&d(s,["done"],h);const y=c(i,["error"]);return y!=null&&d(s,["error"],y),s}function Ep(i,t){const s={},o=c(i,["gcsUri"]);o!=null&&d(s,["validationDatasetUri"],o);const r=c(i,["vertexDatasetResource"]);return r!=null&&d(s,["validationDatasetUri"],r),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I2 extends bi{constructor(t){super(),this.apiClient=t,this.get=async s=>await this.getInternal(s),this.list=async(s={})=>new Sl(Ti.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(s),s),this.tune=async s=>{var o;if(this.apiClient.isVertexAI())if(s.baseModel.startsWith("projects/")){const r={tunedModelName:s.baseModel};!((o=s.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=s.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},s),{preTunedModel:r});return u.baseModel=void 0,await this.tuneInternal(u)}else{const r=Object.assign({},s);return await this.tuneInternal(r)}else{const r=Object.assign({},s),u=await this.tuneMldevInternal(r);let h="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?h=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(h=u.name.split("/operations/")[0]),{name:h,state:Cu.JOB_STATE_QUEUED}}}}async getInternal(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=S2(t);return y=oe("{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>ku(v))}else{const g=T2(t);return y=oe("{name}",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>sg(v))}}async listInternal(t){var s,o,r,u;let h,y="",x={};if(this.apiClient.isVertexAI()){const g=A2(t);return y=oe("tuningJobs",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=_2(v),b=new ip;return Object.assign(b,S),b})}else{const g=C2(t);return y=oe("tunedModels",g._url),x=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),h.then(v=>{const S=w2(v),b=new ip;return Object.assign(b,S),b})}}async cancel(t){var s,o,r,u;let h="",y={};if(this.apiClient.isVertexAI()){const x=p2(t);h=oe("{name}:cancel",x._url),y=x._query,delete x._url,delete x._query,await this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const x=h2(t);h=oe("{name}:cancel",x._url),y=x._query,delete x._url,delete x._query,await this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(t){var s,o;let r,u="",h={};if(this.apiClient.isVertexAI()){const y=v2(t,t);return u=oe("tuningJobs",y._url),h=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:x.headers},v})),r.then(x=>ku(x))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var s,o;let r,u="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=x2(t);return u=oe("tunedModels",y._url),h=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:x.headers},v})),r.then(x=>k2(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D2{async download(t,s){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const U2=1024*1024*8,L2=3,z2=1e3,P2=2,Su="x-goog-upload-status";async function G2(i,t,s){var o,r,u;let h=0,y=0,x=new Au(new Response),g="upload";for(h=i.size;y<h;){const S=Math.min(U2,h-y),b=i.slice(y,y+S);y+S>=h&&(g+=", finalize");let C=0,w=z2;for(;C<L2&&(x=await s.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(y),"Content-Length":String(S)}}}),!(!((o=x==null?void 0:x.headers)===null||o===void 0)&&o[Su]));)C++,await B2(w),w=w*P2;if(y+=S,((r=x==null?void 0:x.headers)===null||r===void 0?void 0:r[Su])!=="active")break;if(h<=y)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(x==null?void 0:x.json());if(((u=x==null?void 0:x.headers)===null||u===void 0?void 0:u[Su])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function q2(i){return{size:i.size,type:i.type}}function B2(i){return new Promise(t=>setTimeout(t,i))}class H2{async upload(t,s,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await G2(t,s,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await q2(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V2{create(t,s,o){return new j2(t,s,o)}}class j2{constructor(t,s,o){this.url=t,this.headers=s,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cp="x-goog-api-key";class O2{constructor(t){this.apiKey=t}async addAuthHeaders(t,s){if(t.get(Cp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Cp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F2="gl-node/";class Y2{constructor(t){var s;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(s=t.vertexai)!==null&&s!==void 0?s:!1,this.apiKey=t.apiKey;const o=dx(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion;const r=new O2(this.apiKey);this.apiClient=new kS({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:F2+"web",uploader:new H2,downloader:new D2}),this.models=new KS(this.apiClient),this.live=new OS(this.apiClient,r,new V2),this.batches=new Rv(this.apiClient),this.chats=new r1(this.models,this.apiClient),this.caches=new l1(this.apiClient),this.files=new x1(this.apiClient),this.operations=new ZS(this.apiClient),this.authTokens=new m2(this.apiClient),this.tunings=new I2(this.apiClient)}}const Kn=new Y2({apiKey:"AIzaSyD7b445rsaAXvZZbA_H_owXHst10vXYmiA"}),hs="gemini-2.5-flash";class Iu extends Error{constructor(t,s,o){super(t),this.name="GeminiApiError",this.code=s,this.originalError=o}}function ta(i){if(console.error("Gemini Service Error:",i),i instanceof Iu)throw i;let t="An unknown error occurred while communicating with the AI.",s="UNKNOWN_ERROR";if(i&&typeof i.message=="string"){const o=i.message.toLowerCase();o.includes("quota")||o.includes("429")?(t="API quota has been exceeded. Please check your billing or try again later.",s="QUOTA_EXCEEDED"):o.includes("failed to fetch")?(t="A network error occurred. Please check your connection and try again.",s="NETWORK_ERROR"):o.includes("invalid json")?(t="The AI returned an invalid response. Please try again.",s="PARSE_ERROR"):o.includes("400")||o.includes("bad request")?(t="The request sent to the AI was invalid. Please check your input.",s="BAD_REQUEST"):o.includes("empty response from ai model")?(t="The AI returned an empty response. Please try a different query.",s="PARSE_ERROR"):t=i.message}throw new Iu(t,s,i)}async function Ei(i,t){try{const o=(await Kn.models.generateContent({model:hs,contents:i,config:{responseMimeType:"application/json",...t&&{responseSchema:t}}})).text;if(!o)throw new Error("Received empty response from AI model.");try{const r=JSON.parse(o);if(r===null||typeof r!="object"&&!Array.isArray(r))throw new Error("Parsed JSON is not a valid object or array.");return r}catch(r){throw console.error("Failed to parse JSON response:",o,r),new Error("AI returned invalid JSON.")}}catch(s){ta(s)}}async function J2(i,t){try{const s=await Kn.models.generateContent({model:hs,contents:i,config:{tools:t}});if(s.text===null||typeof s.text>"u")throw new Error("Received empty text response from AI model.");return s}catch(s){ta(s)}}async function Q2(i){try{return(await Kn.models.generateContent({model:hs,contents:i})).text}catch(t){ta(t)}}async function $2(i){var t,s,o,r,u,h;try{const x=(h=(u=(r=(o=(s=(t=(await Kn.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:i}]}],config:{responseModalities:[gs.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})).candidates)==null?void 0:t[0])==null?void 0:s.content)==null?void 0:o.parts)==null?void 0:r[0])==null?void 0:u.inlineData)==null?void 0:h.data;if(!x)throw new Error("No audio data received from API.");return x}catch(y){ta(y)}}const X2=(i,t,s)=>`
    You are a helpful AI assistant for a music production studio called AURA. Analyze the following user-described musical idea and provide a comprehensive, multi-faceted creative analysis.

    User's primary idea: "${i}"
    
    Additional details provided:
    - Reference artists: ${t.referenceArtists||"Not specified"}
    - Specific instruments: ${t.specificInstruments||"Not specified"}
    - Target song length: ${t.targetLength||"Not specified"}
    - DAW/Software: ${t.daw||"Not specified"}
    - Existing melodies/lyrics: ${t.existingIdeas||"Not specified"}

    Your response MUST be a single, valid JSON object. The language for all user-facing text content within the JSON MUST be ${s}.
    
    The JSON object must have the following structure and content:
    {
      "songConcept": {
        "key": "e.g., C Minor, G# Major",
        "tempo": "A descriptive tempo and BPM, e.g., 'Slow and melancholic (75 BPM)'",
        "mood": ["List of 3-4 mood descriptors as strings, e.g., 'Nostalgic', 'Hopeful'"],
        "suggestedInstruments": ["List of 3-5 recommended instruments as strings."],
        "instrumentsToAvoid": ["List of 2-4 instruments to avoid as strings."],
        "productionSuggestions": ["List of 3 actionable production suggestions as strings, e.g., 'Use heavy sidechain compression on pads'"]
      },
      "productionConsultation": {
        "disclaimer": "A standard disclaimer that this is creative advice and experimentation is encouraged.",
        "recommendedProducers": ["List of 1-3 relevant producer archetypes, e.g., 'A modern hip-hop producer', 'An orchestral composer'"],
        "suggestedSongElements": [
          { "name": "Most relevant musical concept", "description": "Brief description of the concept, e.g., 'Modal Interchange'.", "relevance": "High", "suggestedStep": "A simple, clear next step for the user." },
          { "name": "Another possible concept", "description": "Brief description, e.g., 'Polyrhythms'", "relevance": "Medium", "suggestedStep": "A simple, clear next step." }
        ],
        "songStructure": {
            "name": "A common name for the structure, e.g., 'Verse-Chorus Structure'",
            "description": "A brief explanation of why this structure fits the user's idea.",
            "sections": [
                {"part": "Intro", "description": "A brief description of the intro's purpose and elements."},
                {"part": "Verse 1", "description": "A brief description of the first verse."},
                {"part": "Chorus", "description": "A brief description of the chorus."},
                {"part": "Verse 2", "description": "A brief description of the second verse."},
                {"part": "Chorus", "description": "Description of the second chorus."},
                {"part": "Bridge", "description": "Description of the bridge's purpose."},
                {"part": "Outro", "description": "Description of how to end the song."}
            ]
        },
        "productionTips": [
          { "icon": "emoji related to the tip", "title": "Tip Title", "description": "Brief description of a potential production technique." }
        ],
        "songwritingQuestions": ["List of 3-4 important creative questions the user could ask themselves."]
      },
      "genreSuggestion": {
        "styleName": "A catchy name for a suitable musical genre/subgenre (e.g., 'Atmospheric Synthwave', 'Minimalist Trap').",
        "description": "A short paragraph describing the genre and why it's suitable.",
        "keyElements": ["List of 3-4 key elements of this genre (e.g., 'Gated reverb on drums', 'Plucky basslines')."]
      },
      "melodyIdea": {
        "ideaName": "A name for a simple, relevant musical idea.",
        "description": "A brief sentence about the benefits of this idea for the user's concept.",
        "elements": ["Describe the idea in parts, e.g., 'A simple 4-note piano motif', 'A repeating rhythmic pattern'."],
        "instructions": "A single string containing numbered, step-by-step instructions for creating this idea in a DAW."
      }
    }
    `,K2=(i,t)=>`
    You are an AI assistant for a music studio. Your task is to generate a musical concept based on the user's description.
    The user's description is: "${i}"

    Generate a single, valid JSON object that describes a musical concept. The language for all user-facing text content within the JSON MUST be ${t}.

    The JSON object must have the following structure:
    {
      "keyCharacteristics": {
        "key": "A suitable musical key (e.g., 'A Minor', 'F# Major')",
        "tempo": "A descriptive tempo and BPM (e.g., 'Moderato, ~110 BPM')",
        "mood": ["An array of 3-4 mood descriptor strings (e.g., 'Reflective', 'Melancholic', 'Hopeful')"]
      },
      "recommendedInstruments": ["An array of 3-5 recommended instrument strings (e.g., 'Acoustic Piano', 'String Section', 'Subtle Synth Pad')"],
      "instrumentsToAvoid": ["An array of 2-3 instruments to avoid for this mood (e.g., 'Heavy Electric Guitar', 'Aggressive Drums')"],
      "productionSuggestions": ["An array of 3-4 actionable production tip strings (e.g., 'Use a soft reverb with a long decay time', 'Consider using parallel compression on the piano')."]
    }
    `,Z2=(i,t,s,o)=>`
    You are an AI assistant for a modern music studio. Your goal is to find relevant music producers based on a user's preliminary AI-driven song analysis.
    The user's potential song elements are: ${i}
    The user's primary idea is: ${t}

    Generate a list of ${s} hypothetical music producers who would be a good fit to work on this track.
    For each producer, create a plausible name, primary genre (specialty), city, and a short, professional bio.
    Also provide a relevance score as a number between 0 and 100.
    The response for user-facing fields (name, specialty, city, bio) must be in ${o}.
    `,W2=(i,t,s)=>{let o=`Analyze the music market for "${i}". The response must be a markdown-formatted text in ${t}.`;switch(s){case"in-depth":o+=" Provide an in-depth analysis including a detailed summary, key insights, emerging trends, opportunities, and risks.";break;case"swot":o+=" Provide a SWOT analysis (Strengths, Weaknesses, Opportunities, Threats).";break;case"quick":default:o+=" Provide a quick, concise summary.";break}return o+=" Use Google Search to get up-to-date information. Also suggest some related queries or topics for further exploration at the end.",o},eb=i=>`
        You are a search query classifier for a music studio website. Your job is to determine the user's intent.
        The user's query is: "${i}"

        Analyze the query.
        - If the query is asking to find a local business (e.g., "find guitar shops in London", "recording studios near me", "where can I buy a drum kit"), classify it as a 'provider_search'.
        - If the query is about anything else (e.g., "how to make a melody", "who are your producers", "music trends"), classify it as a 'general_search'.

        If it is a 'provider_search', determine if the user is looking for 'stores' or 'studios'.
        - 'stores': User is looking for instruments, gear, music shops.
        - 'studios': User is looking for recording, mixing, mastering services.

        Return a single JSON object with the following structure:
        - "type": "general_search" or "provider_search"
        - "providerType": "stores", "studios", or "none" (use "none" for general_search)
        - "searchQuery": The original user query.

        The response language is not important as this is for internal logic.
    `,tb=(i,t,s)=>`
        You are an intelligent search engine for the AURA Music Studio website.
        Search the following content index to find items relevant to the user's query.
        The user's query is: "${i}"

        The content index is:
        ---
        ${t}
        ---

        Return a JSON array of up to 5 relevant results.
        Each result object must have a "title", a "description", and a "targetPage".
        - The "title" should be the name of the service, producer, or page.
        - The "description" should be a brief, helpful explanation of why this result is relevant to the user's query.
        - The "targetPage" must be one of the following exact string values: 'home', 'music_generation', 'instrument_finder', 'ai_tutor', 'music_trends', 'our_producers', 'collaboration', 'my_projects'.

        The response language for the title and description fields must be ${s}.
        If there are no relevant results, return an empty array.
    `,nb=(i,t,s,o)=>{const r=s?`The user is at approximately latitude ${s.lat} and longitude ${s.lon}. When generating results, invent a plausible distance in kilometers (e.g., "approx. 2.5 km").`:"The user has not provided their location. The 'distance' field should be 'N/A'.";return`
        You are an AI assistant for the "AURA" music studio brand.
        Your task is to generate a list of 5 hypothetical ${t} that match the user's search query.
        The user's query is: "${i}".
        ${r}

        Generate plausible, fictional results.
        For each result, provide:
        - A unique 'id' (e.g., a UUID).
        - 'type': must be '${t==="stores"?"store":"studio"}'.
        - 'name': a plausible name.
        - 'description': a short bio for a studio, or a description for a store.
        - 'address': a fictional but realistic address.
        - 'phone': a realistic phone number.
        - 'website': a URL using the example.com domain.
        - 'whatsapp': a realistic phone number (can be the same as 'phone').
        - 'distance': as instructed above.
        - 'services': provide a list of 3-5 relevant services (e.g., 'Guitar Repair', 'Vocal Recording').
        - 'specialty': IF the type is 'studio', provide a specialty (e.g., 'Mixing & Mastering', 'Vocal Production'). Otherwise, this can be an empty string.

        The response language for all user-facing text (name, description, etc.) MUST be ${o}.
        The output must be a valid JSON array matching the provided schema.
    `},ib=(i,t,s)=>`
    Provide an estimated production cost analysis in ${s} for a song based on this idea: "${t}" and this AI analysis: ${JSON.stringify(i)}. Assume costs are in USD. The response must be a JSON object with one key "productionCosts", which is an array of objects. Each object should have "name", "estimatedCost" (as a number), and "unit" (e.g., 'per hour', 'flat fee'). Include items like studio time, mixing, mastering, and session musicians if relevant.
    `,sb=(i,t,s)=>{const o={en:"Generated by AURA AI",fa:"     AURA",ar:"   AURA AI"}[t];let r="";switch(s){case"lilypond":r="The generated music should be elegant and clean, suitable for high-quality engraving, reflecting the style of LilyPond.";break;case"abjad":r="The generated music can be more complex, algorithmic, or contemporary in style, reflecting the capabilities of Abjad.";break;case"music21":default:r="The generated music should be well-balanced and versatile, suitable for general-purpose analysis and performance, reflecting the style of Music21.";break}return`
    You are an expert music theory AI assistant. Your task is to generate musical notation in ABC format based on a user's description.
    The response language for the title (T: field) should be "${t}".

    User description: "${i}"
    Selected Generation Engine Style: ${s}. ${r}

    ABC Notation Requirements:
    1.  Start with a reference number (X: 1).
    2.  Include a title based on the user's prompt (T: Title).
    3.  Include a composer (C: ${o}).
    4.  Include a meter (M: e.g., 4/4).
    5.  Include a default note length (L: e.g., 1/4).
    6.  Include a key (K: e.g., C).
    7.  The melody should be simple and accurately represent the user's description and the selected engine's style. For "Twinkle Twinkle Little Star", the notes are "C C G G A A G-".

    Example for "Twinkle Twinkle Little Star" in C Major:
    X: 1
    T: Twinkle Twinkle Little Star
    C: AURA AI
    M: 4/4
    L: 1/4
    K: C
    C C G G | A A G- | F F E E | D D C- |
    G G F F | E E D- | G G F F | E E D- |
    C C G G | A A G- | F F E E | D D C- |

    Your response MUST contain ONLY the raw ABC notation code. Do NOT include any other text, explanations, or markdown backticks.
    `},lb=async(i,t,s)=>{const o=X2(i,t,s),r=await Ei(o);if(!r.songConcept)throw new Error("AI returned malformed JSON for comprehensive analysis.");return r},ob=async(i,t)=>{const s=K2(i,t),o=await Ei(s);if(!o.keyCharacteristics)throw new Error("AI returned malformed JSON for song idea.");return o},ab=async(i,t,s,o)=>{const r=Z2(i,t,s,o),u={type:ve.ARRAY,items:{type:ve.OBJECT,properties:{name:{type:ve.STRING},specialty:{type:ve.STRING,description:"The producer's primary music genre."},city:{type:ve.STRING},bio:{type:ve.STRING,description:"A short, professional biography."},relevanceScore:{type:ve.INTEGER,description:"A score from 0 to 100 indicating relevance."}},required:["name","specialty","city","bio","relevanceScore"]}};return Ei(r,u)},rb=async(i,t,s)=>{var g,v,S;const o=W2(i,t,s),r=await J2(o,[{googleSearch:{}}]),u=r.text||"",y=(((S=(v=(g=r.candidates)==null?void 0:g[0])==null?void 0:v.groundingMetadata)==null?void 0:S.groundingChunks)||[]).map(b=>b.web?{uri:b.web.uri,title:b.web.title||"Untitled"}:null).filter(b=>b!==null&&!!b.uri),x=Array.from(new Map(y.map(b=>[b.uri,b])).values());return{text:u,sources:x}},ub=async(i,t)=>{const s=eb(i),o={type:ve.OBJECT,properties:{type:{type:ve.STRING,enum:["general_search","provider_search"]},providerType:{type:ve.STRING,enum:["stores","studios","none"]},searchQuery:{type:ve.STRING}},required:["type","providerType","searchQuery"]},r=await Ei(s,o);if(!r.type)throw new Error("AI returned malformed JSON for search classification.");return r},cb=async(i,t,s)=>{const o=tb(i,t,s),r={type:ve.ARRAY,items:{type:ve.OBJECT,properties:{title:{type:ve.STRING},description:{type:ve.STRING},targetPage:{type:ve.STRING}},required:["title","description","targetPage"]}};return Ei(o,r)},Ap=async(i,t,s,o)=>{const r=nb(i,t,s,o),u={type:ve.ARRAY,items:{type:ve.OBJECT,properties:{id:{type:ve.STRING},type:{type:ve.STRING},name:{type:ve.STRING},description:{type:ve.STRING},services:{type:ve.ARRAY,items:{type:ve.STRING}},specialty:{type:ve.STRING},address:{type:ve.STRING},phone:{type:ve.STRING},website:{type:ve.STRING},whatsapp:{type:ve.STRING},distance:{type:ve.STRING}},required:["id","type","name","description","address","phone","website","whatsapp","distance"]}};return(await Ei(r,u)).map(y=>({...y,services:y.services||[],specialty:y.type==="studio"?y.specialty:void 0}))},db=async(i,t,s)=>{const o=ib(i,t,s),r=await Ei(o);if(!r||!Array.isArray(r.productionCosts))throw new Error("AI returned malformed JSON for cost analysis.");return r},fb=async(i,t,s)=>{const o=sb(i,t,s);return(await Q2(o)).replace(/`{1,3}(abc)?/g,"").trim()},mb=async i=>$2(i);function hb(i){let t="";const s=i.byteLength;for(let o=0;o<s;o++)t+=String.fromCharCode(i[o]);return btoa(t)}function pb(i){const t=atob(i),s=t.length,o=new Uint8Array(s);for(let r=0;r<s;r++)o[r]=t.charCodeAt(r);return o}async function gb(i,t,s,o){const r=new Int16Array(i.buffer),u=r.length/o,h=t.createBuffer(o,u,s);for(let y=0;y<o;y++){const x=h.getChannelData(y);for(let g=0;g<u;g++)x[g]=r[g*o+y]/32768}return h}function yb(i){const t=i.length,s=new Int16Array(t);for(let o=0;o<t;o++)s[o]=i[o]*32768;return{data:hb(new Uint8Array(s.buffer)),mimeType:"audio/pcm;rate=16000"}}const xb=({handleApiError:i})=>{const{language:t,t:s}=Je(),[o,r]=j.useState("idle"),[u,h]=j.useState([]),y=j.useRef(null),x=j.useRef(null),g=j.useRef(null),v=j.useRef(null),S=j.useRef(null),b=j.useRef(null),C=j.useRef(new Set),w=j.useRef(0),R=j.useCallback(()=>{var L,O,W,ee,$,re,te,Z;(L=S.current)==null||L.disconnect(),(O=b.current)==null||O.disconnect(),((W=g.current)==null?void 0:W.state)!=="closed"&&((ee=g.current)==null||ee.close().catch(console.error)),(($=v.current)==null?void 0:$.state)!=="closed"&&((re=v.current)==null||re.close().catch(console.error)),(te=x.current)==null||te.getTracks().forEach(ce=>ce.stop()),C.current.forEach(ce=>ce.stop()),C.current.clear(),(Z=y.current)==null||Z.then(ce=>ce.close()).catch(console.error),S.current=null,b.current=null,g.current=null,v.current=null,x.current=null,y.current=null},[]),k=async()=>{r("connecting"),h([]),w.current=0;try{x.current=await navigator.mediaDevices.getUserMedia({audio:!0}),g.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),v.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),y.current=Kn.live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",callbacks:{onopen:()=>{r("connected");const L=g.current.createMediaStreamSource(x.current);b.current=L;const O=g.current.createScriptProcessor(4096,1,1);S.current=O,O.onaudioprocess=W=>{var re;const ee=W.inputBuffer.getChannelData(0),$=yb(ee);(re=y.current)==null||re.then(te=>{te.sendRealtimeInput({media:$})})},L.connect(O),O.connect(g.current.destination)},onmessage:async L=>{var $,re,te,Z,ce,se,ie;let O="",W="";($=L.serverContent)!=null&&$.inputTranscription&&(O=L.serverContent.inputTranscription.text),(re=L.serverContent)!=null&&re.outputTranscription&&(W=L.serverContent.outputTranscription.text),h(me=>{const X=[...me];let M=X[X.length-1];return O&&((M==null?void 0:M.speaker)==="user"?M.text+=O:X.push({speaker:"user",text:O})),M=X[X.length-1],W&&((M==null?void 0:M.speaker)==="model"?M.text+=W:X.push({speaker:"model",text:W})),X});const ee=(se=(ce=(Z=(te=L.serverContent)==null?void 0:te.modelTurn)==null?void 0:Z.parts[0])==null?void 0:ce.inlineData)==null?void 0:se.data;if(ee){const me=v.current;if(me){w.current=Math.max(w.current,me.currentTime);const X=await gb(pb(ee),me,24e3,1),M=me.createBufferSource();M.buffer=X,M.connect(me.destination),M.addEventListener("ended",()=>{C.current.delete(M)}),M.start(w.current),w.current+=X.duration,C.current.add(M)}}(ie=L.serverContent)!=null&&ie.interrupted&&(C.current.forEach(me=>me.stop()),C.current.clear(),w.current=0)},onerror:L=>{console.error("Live API Error:",L),i(new Error(L.message||"An unknown error occurred with the live connection.")),r("error"),R()},onclose:()=>{r("disconnected"),R()}},config:{responseModalities:[gs.AUDIO],inputAudioTranscription:{},outputAudioTranscription:{},tools:[{googleSearch:{}}],systemInstruction:`You are AURA, an AI Music Tutor. Provide helpful and concise information about music theory, production, and history. When asked about current trends or specific facts, use Google Search to provide up-to-date information. Your responses will be spoken, so keep them conversational. Language: ${t}`}})}catch(L){i(L),r("error"),R()}},Y=j.useCallback(()=>{y.current&&y.current.then(L=>L.close()),R(),r("idle")},[R]);j.useEffect(()=>()=>R(),[R]);const J={idle:{text:"Start Conversation",icon:m.jsx(bu,{}),action:k,className:"bg-rose-600 hover:bg-rose-700"},connecting:{text:"Connecting...",icon:m.jsx(Tb,{}),action:()=>{},className:"bg-gray-500 cursor-not-allowed"},connected:{text:"Stop Conversation",icon:m.jsx(vb,{}),action:Y,className:"bg-red-600 hover:bg-red-700 animate-pulse-glow"},disconnected:{text:"Start Again",icon:m.jsx(bu,{}),action:k,className:"bg-rose-600 hover:bg-rose-700"},error:{text:"Error. Try Again",icon:m.jsx(bu,{}),action:k,className:"bg-yellow-600 hover:bg-yellow-700"}}[o];return m.jsx("section",{id:"ai-tutor",className:"py-16 sm:py-24 animate-fade-in",children:m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-3xl",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:s("aiTutor.title")}),m.jsx("p",{className:"mt-4 text-lg text-gray-300",children:s("aiTutor.subtitle")})]}),m.jsxs("div",{className:"mt-12 bg-gray-800/50 rounded-lg shadow-2xl backdrop-blur-sm border border-white/10 flex flex-col min-h-[60vh] max-h-[700px]",children:[m.jsxs("div",{className:"flex-1 p-6 space-y-4 overflow-y-auto",children:[u.length===0&&o!=="connecting"&&m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:'Click "Start Conversation" to begin'}),u.map((L,O)=>m.jsx("div",{className:`flex items-start gap-3 ${L.speaker==="user"?"justify-end":"justify-start"}`,children:m.jsx("div",{className:`max-w-lg p-3 rounded-2xl ${L.speaker==="user"?"bg-rose-600 text-white":"bg-gray-700 text-gray-200"}`,children:m.jsx("p",{className:"text-sm",children:L.text})})},O))]}),m.jsx("div",{className:"p-6 border-t border-white/10",children:m.jsxs("button",{onClick:J.action,disabled:o==="connecting",className:`w-full flex items-center justify-center gap-3 py-4 px-6 rounded-lg text-lg font-bold text-white transition-all duration-300 transform hover:scale-105 ${J.className}`,children:[J.icon,m.jsx("span",{children:J.text})]})})]})]})})},bu=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4zm5 10.5a.5.5 0 01.5.5v.5a3.5 3.5 0 01-7 0v-.5a.5.5 0 01.5-.5h6zM5 8a1 1 0 011-1h1V6a1 1 0 112 0v1h1a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"})}),vb=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1zm4 0a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),Tb=()=>m.jsxs("svg",{className:"animate-spin h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});function Sb(i){const t=atob(i),s=t.length,o=new Uint8Array(s);for(let r=0;r<s;r++)o[r]=t.charCodeAt(r);return o}async function bb(i,t,s,o){const r=new Int16Array(i.buffer),u=r.length/o,h=t.createBuffer(o,u,s);for(let y=0;y<o;y++){const x=h.getChannelData(y);for(let g=0;g<u;g++)x[g]=r[g*o+y]/32768}return h}const Eb=(i,t,s)=>{const o=y=>{const x=new RegExp(`(?:##|###) ${y}\\n([\\s\\S]*?)(?=\\n##|\\n###|$)`,"i"),g=i.match(x);return g?g[1].trim():""},r=y=>o(y).split(`
`).map(g=>g.replace(/^[-*]\s*/,"").trim()).filter(Boolean),h=(()=>{const y=/(?:##|###) (?:Suggested Queries|Related Topics)\s*([\s\\S]*)/i,x=i.match(y);return x&&x[1]?x[1].split(`
`).map(g=>g.replace(/^[-*]\s*/,"").trim()).filter(Boolean):[]})();switch(s){case"in-depth":const x=o("Emerging Trends").split(`
`).map(v=>{const S=v.match(/\*\*(.*?):\*\*\s*(.*)/);return S?{name:S[1].trim(),description:S[2].trim()}:null}).filter(v=>v!==null);return{type:"in-depth",keyInsights:r("Key Insights"),detailedSummary:o("Detailed Summary"),emergingTrends:x,opportunities:r("Opportunities"),risks:r("Risks"),sources:t,suggestedQueries:h};case"swot":return{type:"swot",strengths:r("Strengths"),weaknesses:r("Weaknesses"),opportunities:r("Opportunities"),threats:r("Threats"),sources:t,suggestedQueries:h};case"quick":default:const g=i.match(/([\s\\S]*?)(?=\n(?:##|###) (?:Suggested Queries|Related Topics)|$)/);return{type:"quick",summary:g?g[0].trim().replace(/^##\s*Summary\s*\n/i,""):i.trim(),sources:t,suggestedQueries:h}}},Cb=({handleApiError:i})=>{const{language:t,t:s}=Je(),[o,r]=j.useState(""),[u,h]=j.useState(!1),[y,x]=j.useState(null),[g,v]=j.useState(null),[S,b]=j.useState("quick"),[C,w]=j.useState(0),[R,k]=j.useState(!1),[Y,J]=j.useState(!1),L=j.useRef(null),O=j.useRef(null),W=j.useMemo(()=>[s("musicTrends.loading.scanning"),s("musicTrends.loading.synthesizing"),s("musicTrends.loading.extracting"),s("musicTrends.loading.compiling")],[s]);j.useEffect(()=>{if(u){w(0);const X=setInterval(()=>{w(M=>(M+1)%W.length)},2500);return()=>clearInterval(X)}},[u,W]);const ee=async(X=o)=>{if(X.trim()){h(!0),x(null),v(null),O.current&&O.current.stop(),J(!1);try{const{text:M,sources:z}=await rb(X,t,S),K=Eb(M,z,S);v(K)}catch(M){x(i(M))}finally{h(!1)}}},$=X=>{if(!X)return"";switch(X.type){case"quick":return X.summary;case"in-depth":return[`**${s("musicTrends.results.keyInsights")}**
${X.keyInsights.join(`
- `)}`,`**${s("musicTrends.results.detailedSummary")}**
${X.detailedSummary}`,`**${s("musicTrends.results.emergingTrends")}**
${X.emergingTrends.map(M=>`${M.name}: ${M.description}`).join(`
`)}`,`**${s("musicTrends.results.opportunities")}**
${X.opportunities.join(`
- `)}`,`**${s("musicTrends.results.risks")}**
${X.risks.join(`
- `)}`].join(`

`);case"swot":return[`**${s("musicTrends.results.strengths")}**
${X.strengths.join(`
- `)}`,`**${s("musicTrends.results.weaknesses")}**
${X.weaknesses.join(`
- `)}`,`**${s("musicTrends.results.opportunities")}**
${X.opportunities.join(`
- `)}`,`**${s("musicTrends.results.threats")}**
${X.threats.join(`
- `)}`].join(`

`);default:return""}},re=async()=>{if(Y){O.current&&O.current.stop(),J(!1);return}const X=$(g);if(X){k(!0);try{const M=await mb(X);try{(!L.current||L.current.state==="closed")&&(L.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}));const z=L.current,K=await bb(Sb(M),z,24e3,1),ne=z.createBufferSource();ne.buffer=K,ne.connect(z.destination),ne.onended=()=>{J(!1),O.current=null},ne.start(),O.current=ne,J(!0)}catch(z){console.error("Audio processing error:",z),i(new Error("Could not play the audio. The data from the API might be invalid or corrupted.")),J(!1)}}catch(M){i(M)}finally{k(!1)}}},te=X=>{r(X),ee(X)},Z=({analysis:X})=>{const[M,z]=j.useState("keyInsights"),K=[{id:"keyInsights",title:s("musicTrends.results.keyInsights"),content:m.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-300",children:X.keyInsights.map((ne,he)=>m.jsx("li",{children:ne},he))}),hasContent:X.keyInsights.length>0},{id:"detailedSummary",title:s("musicTrends.results.detailedSummary"),content:m.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:X.detailedSummary}),hasContent:!!X.detailedSummary},{id:"emergingTrends",title:s("musicTrends.results.emergingTrends"),content:m.jsx("div",{className:"space-y-3",children:X.emergingTrends.map(ne=>m.jsxs("p",{children:[m.jsxs("strong",{children:[ne.name,":"]})," ",ne.description]},ne.name))}),hasContent:X.emergingTrends.length>0},{id:"opportunities",title:s("musicTrends.results.opportunities"),content:m.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-300",children:X.opportunities.map((ne,he)=>m.jsx("li",{children:ne},he))}),hasContent:X.opportunities.length>0},{id:"risks",title:s("musicTrends.results.risks"),content:m.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-300",children:X.risks.map((ne,he)=>m.jsx("li",{children:ne},he))}),hasContent:X.risks.length>0}].filter(ne=>ne.hasContent);return m.jsx("div",{className:"space-y-3",children:K.map(ne=>m.jsxs("div",{className:"border border-white/10 rounded-lg overflow-hidden transition-all duration-300 bg-gray-900/30",children:[m.jsxs("button",{onClick:()=>z(M===ne.id?"":ne.id),className:"w-full flex justify-between items-center p-4 text-left hover:bg-gray-900/50 transition-colors","aria-expanded":M===ne.id,children:[m.jsx("h3",{className:"font-semibold text-rose-300",children:ne.title}),m.jsx("svg",{className:`h-5 w-5 text-gray-400 transition-transform duration-300 transform ${M===ne.id?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m.jsx("div",{className:`transition-all duration-500 ease-in-out grid ${M===ne.id?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:m.jsx("div",{className:"overflow-hidden",children:m.jsx("div",{className:"p-4 border-t border-white/10 text-sm",children:ne.content})})})]},ne.id))})},ce=({analysis:X})=>{const M=[{title:s("musicTrends.results.strengths"),items:X.strengths,color:"green"},{title:s("musicTrends.results.weaknesses"),items:X.weaknesses,color:"yellow"},{title:s("musicTrends.results.opportunities"),items:X.opportunities,color:"blue"},{title:s("musicTrends.results.threats"),items:X.threats,color:"red"}],z={green:"border-green-500/50 text-green-300",yellow:"border-yellow-500/50 text-yellow-300",blue:"border-blue-500/50 text-blue-300",red:"border-red-500/50 text-red-300"};return m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:M.map(K=>K.items.length>0&&m.jsxs("div",{className:`bg-gray-900/50 p-6 rounded-lg border-t-4 ${z[K.color]}`,children:[m.jsx("h3",{className:`text-xl font-semibold mb-3 ${z[K.color]}`,children:K.title}),m.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-300 text-sm",children:K.items.map((ne,he)=>m.jsx("li",{children:ne},he))})]},K.title))})},se=({sources:X})=>m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-300 mb-4 flex items-center gap-2",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[m.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),m.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2h8a2 2 0 012 2v10a2 2 0 01-2-2H6a2 2 0 01-2-2V5zm3 1a1 1 0 000 2h6a1 1 0 100-2H7zM7 9a1 1 0 100 2h6a1 1 0 100-2H7zm4 3a1 1 0 100 2h2a1 1 0 100-2h-2z",clipRule:"evenodd"})]}),s("musicTrends.sources")]}),m.jsx("div",{className:"space-y-2 text-sm",children:X.map((M,z)=>m.jsxs("a",{href:M.uri,target:"_blank",rel:"noopener noreferrer",className:"block p-3 bg-gray-900/50 hover:bg-gray-800 rounded-lg border border-transparent hover:border-white/10 transition-all group",children:[m.jsx("p",{className:"font-semibold text-rose-300 group-hover:underline truncate",title:M.title||"Untitled Source",children:M.title||"Untitled Source"}),m.jsx("p",{className:"text-gray-400 text-xs truncate mt-1",children:M.uri})]},z))})]}),ie=({queries:X})=>m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-300 mb-4 flex items-center gap-2",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7a1 1 0 011.414-1.414L10 14.586l6.293-6.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),s("musicTrends.relatedTopics")]}),m.jsx("div",{className:"flex flex-wrap gap-3",children:X.map((M,z)=>m.jsxs("button",{onClick:()=>te(M),className:"flex items-center gap-2 px-4 py-2 bg-gray-700/80 text-gray-200 text-sm font-medium rounded-full hover:bg-gray-600 hover:text-white transition-all transform hover:scale-105",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),m.jsx("span",{children:M})]},z))})]}),me=()=>m.jsxs("svg",{className:"absolute top-0 right-0 h-48 w-48 text-rose-500/5 -z-10 transform translate-x-1/3 -translate-y-1/3",stroke:"currentColor",fill:"none",viewBox:"0 0 100 100",children:[m.jsx("circle",{cx:"20",cy:"20",r:"2",strokeWidth:"1"}),m.jsx("circle",{cx:"80",cy:"20",r:"2",strokeWidth:"1"}),m.jsx("circle",{cx:"50",cy:"50",r:"3",strokeWidth:"1",fill:"currentColor"}),m.jsx("circle",{cx:"20",cy:"80",r:"2",strokeWidth:"1"}),m.jsx("circle",{cx:"80",cy:"80",r:"2",strokeWidth:"1"}),m.jsx("path",{d:"M20 20 L50 50 L80 20",strokeDasharray:"2 2",strokeWidth:"0.5"}),m.jsx("path",{d:"M20 80 L50 50 L80 80",strokeDasharray:"2 2",strokeWidth:"0.5"}),m.jsx("path",{d:"M20 20 L20 80",strokeDasharray:"2 2",strokeWidth:"0.5"}),m.jsx("path",{d:"M80 20 L80 80",strokeDasharray:"2 2",strokeWidth:"0.5"})]});return m.jsx("section",{id:"music-trends",className:"py-16 sm:py-24 animate-fade-in",children:m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:s("musicTrends.title")}),m.jsx("p",{className:"mt-4 text-lg text-gray-300",children:s("musicTrends.subtitle")})]}),m.jsxs("div",{className:"mt-12 max-w-2xl mx-auto space-y-4",children:[m.jsx("div",{className:"grid grid-cols-3 gap-2 p-1 bg-gray-800/50 rounded-lg border border-white/10",children:["quick","in-depth","swot"].map(X=>m.jsx("button",{onClick:()=>b(X),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${S===X?"bg-rose-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:s(`musicTrends.analysisModes.${X}`)},X))}),m.jsxs("form",{onSubmit:X=>{X.preventDefault(),ee()},className:"flex items-center bg-gray-800/50 border border-white/10 rounded-lg shadow-md p-2",children:[m.jsx("input",{type:"search",value:o,onChange:X=>r(X.target.value),placeholder:s("musicTrends.searchPlaceholder"),className:"w-full bg-transparent text-white placeholder-gray-400 px-4 py-2 focus:outline-none"}),m.jsx("button",{type:"submit",disabled:u,className:"px-6 py-2 bg-rose-600 text-white font-semibold rounded-md hover:bg-rose-700 transition-colors disabled:bg-gray-500",children:s(u?"musicTrends.searching":"musicTrends.searchButton")})]}),m.jsxs("div",{className:"pt-2",children:[m.jsx("h4",{className:"text-xs font-semibold text-gray-400 mb-2 text-center",children:s("musicTrends.suggestionsTitle")}),m.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:s("musicTrends.suggestions").map((X,M)=>m.jsx("button",{type:"button",onClick:()=>te(X),className:"px-3 py-1.5 bg-gray-700/80 text-gray-300 text-xs font-medium rounded-full hover:bg-gray-600 hover:text-white transition-colors",children:X},M))})]})]}),m.jsxs("div",{className:"mt-12",children:[u&&m.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[m.jsx("div",{className:"w-8 h-8 border-4 border-dashed rounded-full animate-spin border-rose-400"}),m.jsx("p",{className:"mt-4 text-gray-400 transition-opacity duration-500",children:W[C]},C)]}),y&&m.jsx("div",{className:"text-red-400 p-4 bg-red-900/50 rounded-md",children:y}),!u&&!g&&!y&&m.jsx("div",{className:"text-center py-10 text-gray-500 bg-gray-800/20 rounded-lg",children:m.jsx("p",{children:s("musicTrends.placeholder")})}),g&&m.jsxs("div",{className:"animate-fade-in bg-gray-800/30 p-6 sm:p-8 rounded-lg mt-8 border border-white/10 space-y-10 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-4 right-4 z-10",children:m.jsx("button",{onClick:re,disabled:R,className:"p-2 rounded-full bg-gray-700/50 text-gray-300 hover:bg-gray-600 hover:text-white transition-colors disabled:opacity-50","aria-label":"Read analysis aloud",children:R?m.jsxs("svg",{className:"w-5 h-5 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):Y?m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1zm4 0a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"})})})}),m.jsx(me,{}),g.type==="quick"&&m.jsx("div",{className:"prose prose-invert prose-sm max-w-none text-gray-300",dangerouslySetInnerHTML:{__html:g.summary.replace(/\n/g,"<br />")}}),g.type==="in-depth"&&m.jsx(Z,{analysis:g}),g.type==="swot"&&m.jsx(ce,{analysis:g}),g.sources&&g.sources.length>0&&m.jsx(se,{sources:g.sources}),g.suggestedQueries&&g.suggestedQueries.length>0&&m.jsx(ie,{queries:g.suggestedQueries})]})]})]})})},Ab=()=>{const{t:i}=Je(),t=i("ourProducers.doctors"),s=i("ourProducers.tableHeaders");return m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24 animate-fade-in",children:[m.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[m.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:i("ourProducers.title")}),m.jsx("p",{className:"mt-4 text-lg text-gray-300",children:i("ourProducers.subtitle")})]}),m.jsx("div",{className:"mt-16 max-w-6xl mx-auto",children:m.jsx("div",{className:"bg-gray-800/50 border border-white/10 rounded-lg shadow-md overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[m.jsx("thead",{className:"bg-gray-900/60",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-white sm:pl-6",children:s.name}),m.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-white",children:s.specialty}),m.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-white hidden md:table-cell",children:s.bio}),m.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-white",children:s.license})]})}),m.jsx("tbody",{className:"divide-y divide-gray-800 bg-gray-900/30",children:t.map(o=>m.jsxs("tr",{className:"hover:bg-gray-800/40 transition-colors",children:[m.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-white sm:pl-6",children:o.name}),m.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-300",children:o.specialty}),m.jsx("td",{className:"whitespace-normal px-3 py-4 text-sm text-gray-400 hidden md:table-cell",children:o.bio}),m.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-blue-400 font-semibold",children:o.licenseNumber})]},o.name))})]})})})})]})},Vo=({children:i,className:t=""})=>m.jsx("div",{className:`bg-gray-800/50 p-6 sm:p-8 rounded-lg shadow-lg backdrop-blur-sm border border-white/10 ${t}`,children:i}),wb=({setPage:i})=>{const{t}=Je(),s=t("collaborationPage.canvasItems");return m.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24 animate-fade-in",children:m.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[m.jsx("div",{className:"text-center",children:m.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:t("collaborationPage.title")})}),m.jsxs(Vo,{children:[m.jsx("h2",{className:"text-2xl font-bold text-rose-300 mb-4",children:t("collaborationPage.goalTitle")}),m.jsx("p",{className:"text-gray-300 leading-relaxed",children:t("collaborationPage.goalText")})]}),m.jsxs(Vo,{children:[m.jsx("h2",{className:"text-2xl font-bold text-rose-300 mb-4",children:t("collaborationPage.canvasTitle")}),m.jsx("ul",{className:"space-y-3 text-gray-300",children:Object.values(s).map((o,r)=>m.jsxs("li",{className:"flex items-start",children:[m.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2 rtl:ml-2 rtl:mr-0 flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("span",{children:o})]},r))})]}),m.jsxs(Vo,{children:[m.jsx("h2",{className:"text-2xl font-bold text-rose-300 mb-4",children:t("collaborationPage.statusTitle")}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-5xl font-bold text-white",children:t("collaborationPage.progressLabel")}),m.jsx("p",{className:"text-gray-400 mt-2",children:t("collaborationPage.statusText")})]})]}),m.jsxs(Vo,{children:[m.jsx("h2",{className:"text-2xl font-bold text-rose-300 mb-6",children:t("collaborationPage.methodsTitle")}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"pt-6 border-t border-white/10",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:t("collaborationPage.seedTitle")}),m.jsx("p",{className:"text-gray-300 mb-4",children:t("collaborationPage.seedText")}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[m.jsx("a",{href:"#",className:"inline-block px-6 py-3 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition-colors shadow-lg text-center",children:t("collaborationPage.viewContractButton")}),m.jsx("a",{href:"#",className:"inline-block px-6 py-3 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 transition-colors shadow-lg text-center",children:t("collaborationPage.contactWhatsAppButton")})]})]}),m.jsxs("div",{className:"pt-6 border-t border-white/10",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:t("collaborationPage.franchiseTitle")}),m.jsx("p",{className:"text-gray-300 mb-4",children:t("collaborationPage.franchiseText")}),m.jsx("button",{onClick:()=>i("studio_setup"),className:"inline-block px-6 py-3 bg-purple-600 text-white font-semibold rounded-md hover:bg-purple-700 transition-colors shadow-lg",children:t("collaborationPage.franchiseButton")})]}),m.jsxs("div",{className:"pt-6 border-t border-white/10",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:t("collaborationPage.crowdfundingTitle")}),m.jsx("p",{className:"text-gray-300 mb-4",children:t("collaborationPage.crowdfundingText")}),m.jsx("button",{disabled:!0,className:"inline-block px-6 py-3 bg-gray-600 text-white font-semibold rounded-md transition-colors shadow-lg cursor-not-allowed",children:t("collaborationPage.buyTokenButton")})]})]})]})]})})},_b=({provider:i})=>{var o;const{t}=Je(),s=({href:r,children:u,isExternal:h=!1})=>m.jsx("a",{href:r,target:h?"_blank":"_self",rel:h?"noopener noreferrer":"",className:"flex-1 text-center py-2 px-3 bg-gray-700/60 hover:bg-gray-700 text-gray-300 hover:text-white rounded-md text-xs font-semibold transition-all flex items-center justify-center gap-2",children:u});return m.jsxs("div",{className:"bg-gray-900/70 border border-white/10 rounded-lg p-6 shadow-2xl backdrop-blur-sm animate-fade-in h-full flex flex-col",children:[m.jsxs("div",{className:"flex-grow",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("h3",{className:"text-xl font-bold text-rose-300 tracking-tight",children:i.name}),i.distance&&i.distance!=="N/A"&&m.jsx("span",{className:"text-xs font-semibold bg-rose-900/50 text-rose-300 px-2.5 py-1 rounded-full flex-shrink-0 ml-2",children:i.distance})]}),i.type==="studio"&&i.specialty&&m.jsx("p",{className:"text-sm font-medium text-rose-200/90",children:i.specialty}),m.jsx("p",{className:"text-sm text-gray-400 mt-2 mb-4",children:i.description}),(i.type==="store"||i.type==="studio")&&i.services&&i.services.length>0&&m.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:t("instrumentFinder.services")}),m.jsx("div",{className:"flex flex-wrap gap-2",children:i.services.map((r,u)=>m.jsx("span",{className:"px-2.5 py-1 bg-gray-700 text-gray-300 text-xs font-medium rounded-full",children:r},u))})]})]}),m.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-dashed border-gray-700 text-sm text-gray-400 space-y-4",children:[m.jsxs("p",{className:"flex items-start gap-3",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-rose-400 flex-shrink-0 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),m.jsx("span",{children:i.address})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs(s,{href:`tel:${i.phone}`,children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),m.jsx("span",{children:"Call"})]}),m.jsxs(s,{href:i.website,isExternal:!0,children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})}),m.jsx("span",{children:"Website"})]}),m.jsxs(s,{href:`https://wa.me/${(o=i.whatsapp)==null?void 0:o.replace(/[^0-9]/g,"")}`,isExternal:!0,children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{d:"M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"})}),m.jsx("span",{children:"WhatsApp"})]})]})]})]})},Nb=({onSearch:i,isLoading:t,results:s,isQuotaExhausted:o})=>{const{t:r}=Je(),[u,h]=j.useState(""),[y,x]=j.useState("stores"),[g,v]=j.useState(null),S=C=>{if(C.preventDefault(),!u.trim()){v(r("validation.required"));return}v(null),i("text",u,y)},b=()=>{const C=y==="stores"?"nearby music stores":"nearby recording studios";h(""),v(null),i("geo",C,y)};return m.jsx("section",{id:"instrument-finder",className:"py-16 sm:py-24 animate-fade-in",children:m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-5xl",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:r("instrumentFinder.title")}),m.jsx("p",{className:"mt-4 text-lg text-gray-300",children:r("instrumentFinder.subtitle")})]}),m.jsxs("div",{className:"mt-12 max-w-2xl mx-auto space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block text-center",children:r("instrumentFinder.searchTypeLabel")}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 p-1 bg-gray-800/50 rounded-lg border border-white/10",children:[m.jsx("button",{onClick:()=>x("stores"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${y==="stores"?"bg-rose-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:r("instrumentFinder.searchTypeClinics")}),m.jsx("button",{onClick:()=>x("studios"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${y==="studios"?"bg-rose-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:r("instrumentFinder.searchTypeDoctors")})]})]}),m.jsxs("form",{onSubmit:S,children:[m.jsxs("div",{className:`flex items-center bg-gray-800/50 border rounded-lg shadow-md p-2 transition-colors ${g?"border-red-500 ring-2 ring-red-500/50":"border-white/10"}`,children:[m.jsx("input",{type:"search",value:u,onChange:C=>{h(C.target.value),g&&v(null)},placeholder:r("instrumentFinder.searchPlaceholder"),className:"w-full bg-transparent text-white placeholder-gray-400 px-4 py-2 focus:outline-none","aria-label":r("instrumentFinder.searchPlaceholder")}),m.jsx("button",{type:"submit",disabled:t||o,className:"px-6 py-2 bg-rose-600 text-white font-semibold rounded-md hover:bg-rose-700 transition-colors disabled:bg-gray-500 disabled:cursor-not-allowed",children:r("instrumentFinder.searchButtonText")})]}),g&&m.jsx("p",{className:"mt-2 text-sm text-red-400 text-center animate-fade-in",children:g})]}),m.jsxs("div",{className:"pt-2",children:[m.jsx("h4",{className:"text-xs font-semibold text-gray-400 mb-2 text-center",children:r("instrumentFinder.suggestionsTitle")}),m.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:(r("instrumentFinder.suggestions")||[]).map((C,w)=>m.jsx("button",{type:"button",onClick:()=>{h(C),i("text",C,y)},className:"px-3 py-1.5 bg-gray-700/80 text-gray-300 text-xs font-medium rounded-full hover:bg-gray-600 hover:text-white transition-colors",children:C},w))})]}),m.jsxs("div",{className:"text-center text-gray-400 flex items-center justify-center",children:[m.jsx("span",{className:"flex-grow border-t border-gray-700"}),m.jsx("span",{className:"px-4 text-sm font-semibold",children:r("instrumentFinder.or")}),m.jsx("span",{className:"flex-grow border-t border-gray-700"})]}),m.jsx("div",{children:m.jsxs("button",{onClick:b,disabled:t||o,className:"w-full flex justify-center items-center gap-3 py-3 px-6 border border-transparent rounded-lg shadow-lg text-lg font-semibold text-white bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-rose-500 disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),r(t?"instrumentFinder.searching":o?"quotaErrorModal.title":"instrumentFinder.geoSearchButton")]})})]}),m.jsxs("div",{className:"mt-16",children:[t&&m.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[m.jsx("div",{className:"w-8 h-8 border-4 border-dashed rounded-full animate-spin border-rose-400"}),m.jsx("p",{className:"mt-4 text-gray-400",children:r("instrumentFinder.searching")})]}),!t&&!s&&m.jsx("div",{className:"text-center py-10 text-gray-500 bg-gray-800/20 rounded-lg max-w-3xl mx-auto",children:m.jsx("p",{children:r("instrumentFinder.placeholder")})}),s&&m.jsxs("div",{className:"space-y-10",children:[m.jsx("h2",{className:"text-3xl font-bold text-white text-center",children:r("instrumentFinder.resultsTitle")}),m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:s.map(C=>m.jsx(_b,{provider:C},C.id))})]})]})]})})};function Hu(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Ci=Hu();function lg(i){Ci=i}const og=/[&<>"']/,Mb=new RegExp(og.source,"g"),ag=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Rb=new RegExp(ag.source,"g"),kb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wp=i=>kb[i];function zt(i,t){if(t){if(og.test(i))return i.replace(Mb,wp)}else if(ag.test(i))return i.replace(Rb,wp);return i}const Ib=/(^|[^\[])\^/g;function Pe(i,t){let s=typeof i=="string"?i:i.source;t=t||"";const o={replace:(r,u)=>{let h=typeof u=="string"?u:u.source;return h=h.replace(Ib,"$1"),s=s.replace(r,h),o},getRegex:()=>new RegExp(s,t)};return o}function _p(i){try{i=encodeURI(i).replace(/%25/g,"%")}catch{return null}return i}const vl={exec:()=>null};function Np(i,t){const s=i.replace(/\|/g,(u,h,y)=>{let x=!1,g=h;for(;--g>=0&&y[g]==="\\";)x=!x;return x?"|":" |"}),o=s.split(/ \|/);let r=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),t)if(o.length>t)o.splice(t);else for(;o.length<t;)o.push("");for(;r<o.length;r++)o[r]=o[r].trim().replace(/\\\|/g,"|");return o}function gl(i,t,s){const o=i.length;if(o===0)return"";let r=0;for(;r<o&&i.charAt(o-r-1)===t;)r++;return i.slice(0,o-r)}function Db(i,t){if(i.indexOf(t[1])===-1)return-1;let s=0;for(let o=0;o<i.length;o++)if(i[o]==="\\")o++;else if(i[o]===t[0])s++;else if(i[o]===t[1]&&(s--,s<0))return o;return-1}function Mp(i,t,s,o){const r=t.href,u=t.title?zt(t.title):null,h=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){o.state.inLink=!0;const y={type:"link",raw:s,href:r,title:u,text:h,tokens:o.inlineTokens(h)};return o.state.inLink=!1,y}return{type:"image",raw:s,href:r,title:u,text:zt(h)}}function Ub(i,t){const s=i.match(/^(\s+)(?:```)/);if(s===null)return t;const o=s[1];return t.split(`
`).map(r=>{const u=r.match(/^\s+/);if(u===null)return r;const[h]=u;return h.length>=o.length?r.slice(o.length):r}).join(`
`)}class Qo{constructor(t){Be(this,"options");Be(this,"rules");Be(this,"lexer");this.options=t||Ci}space(t){const s=this.rules.block.newline.exec(t);if(s&&s[0].length>0)return{type:"space",raw:s[0]}}code(t){const s=this.rules.block.code.exec(t);if(s){const o=s[0].replace(/^(?: {1,4}| {0,3}\t)/gm,"");return{type:"code",raw:s[0],codeBlockStyle:"indented",text:this.options.pedantic?o:gl(o,`
`)}}}fences(t){const s=this.rules.block.fences.exec(t);if(s){const o=s[0],r=Ub(o,s[3]||"");return{type:"code",raw:o,lang:s[2]?s[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):s[2],text:r}}}heading(t){const s=this.rules.block.heading.exec(t);if(s){let o=s[2].trim();if(/#$/.test(o)){const r=gl(o,"#");(this.options.pedantic||!r||/ $/.test(r))&&(o=r.trim())}return{type:"heading",raw:s[0],depth:s[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(t){const s=this.rules.block.hr.exec(t);if(s)return{type:"hr",raw:gl(s[0],`
`)}}blockquote(t){const s=this.rules.block.blockquote.exec(t);if(s){let o=gl(s[0],`
`).split(`
`),r="",u="";const h=[];for(;o.length>0;){let y=!1;const x=[];let g;for(g=0;g<o.length;g++)if(/^ {0,3}>/.test(o[g]))x.push(o[g]),y=!0;else if(!y)x.push(o[g]);else break;o=o.slice(g);const v=x.join(`
`),S=v.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");r=r?`${r}
${v}`:v,u=u?`${u}
${S}`:S;const b=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(S,h,!0),this.lexer.state.top=b,o.length===0)break;const C=h[h.length-1];if((C==null?void 0:C.type)==="code")break;if((C==null?void 0:C.type)==="blockquote"){const w=C,R=w.raw+`
`+o.join(`
`),k=this.blockquote(R);h[h.length-1]=k,r=r.substring(0,r.length-w.raw.length)+k.raw,u=u.substring(0,u.length-w.text.length)+k.text;break}else if((C==null?void 0:C.type)==="list"){const w=C,R=w.raw+`
`+o.join(`
`),k=this.list(R);h[h.length-1]=k,r=r.substring(0,r.length-C.raw.length)+k.raw,u=u.substring(0,u.length-w.raw.length)+k.raw,o=R.substring(h[h.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:h,text:u}}}list(t){let s=this.rules.block.list.exec(t);if(s){let o=s[1].trim();const r=o.length>1,u={type:"list",raw:"",ordered:r,start:r?+o.slice(0,-1):"",loose:!1,items:[]};o=r?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=r?o:"[*+-]");const h=new RegExp(`^( {0,3}${o})((?:[	 ][^\\n]*)?(?:\\n|$))`);let y=!1;for(;t;){let x=!1,g="",v="";if(!(s=h.exec(t))||this.rules.block.hr.test(t))break;g=s[0],t=t.substring(g.length);let S=s[2].split(`
`,1)[0].replace(/^\t+/,Y=>" ".repeat(3*Y.length)),b=t.split(`
`,1)[0],C=!S.trim(),w=0;if(this.options.pedantic?(w=2,v=S.trimStart()):C?w=s[1].length+1:(w=s[2].search(/[^ ]/),w=w>4?1:w,v=S.slice(w),w+=s[1].length),C&&/^[ \t]*$/.test(b)&&(g+=b+`
`,t=t.substring(b.length+1),x=!0),!x){const Y=new RegExp(`^ {0,${Math.min(3,w-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),J=new RegExp(`^ {0,${Math.min(3,w-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),L=new RegExp(`^ {0,${Math.min(3,w-1)}}(?:\`\`\`|~~~)`),O=new RegExp(`^ {0,${Math.min(3,w-1)}}#`),W=new RegExp(`^ {0,${Math.min(3,w-1)}}<(?:[a-z].*>|!--)`,"i");for(;t;){const ee=t.split(`
`,1)[0];let $;if(b=ee,this.options.pedantic?(b=b.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "),$=b):$=b.replace(/\t/g,"    "),L.test(b)||O.test(b)||W.test(b)||Y.test(b)||J.test(b))break;if($.search(/[^ ]/)>=w||!b.trim())v+=`
`+$.slice(w);else{if(C||S.replace(/\t/g,"    ").search(/[^ ]/)>=4||L.test(S)||O.test(S)||J.test(S))break;v+=`
`+b}!C&&!b.trim()&&(C=!0),g+=ee+`
`,t=t.substring(ee.length+1),S=$.slice(w)}}u.loose||(y?u.loose=!0:/\n[ \t]*\n[ \t]*$/.test(g)&&(y=!0));let R=null,k;this.options.gfm&&(R=/^\[[ xX]\] /.exec(v),R&&(k=R[0]!=="[ ] ",v=v.replace(/^\[[ xX]\] +/,""))),u.items.push({type:"list_item",raw:g,task:!!R,checked:k,loose:!1,text:v,tokens:[]}),u.raw+=g}u.items[u.items.length-1].raw=u.items[u.items.length-1].raw.trimEnd(),u.items[u.items.length-1].text=u.items[u.items.length-1].text.trimEnd(),u.raw=u.raw.trimEnd();for(let x=0;x<u.items.length;x++)if(this.lexer.state.top=!1,u.items[x].tokens=this.lexer.blockTokens(u.items[x].text,[]),!u.loose){const g=u.items[x].tokens.filter(S=>S.type==="space"),v=g.length>0&&g.some(S=>/\n.*\n/.test(S.raw));u.loose=v}if(u.loose)for(let x=0;x<u.items.length;x++)u.items[x].loose=!0;return u}}html(t){const s=this.rules.block.html.exec(t);if(s)return{type:"html",block:!0,raw:s[0],pre:s[1]==="pre"||s[1]==="script"||s[1]==="style",text:s[0]}}def(t){const s=this.rules.block.def.exec(t);if(s){const o=s[1].toLowerCase().replace(/\s+/g," "),r=s[2]?s[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",u=s[3]?s[3].substring(1,s[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):s[3];return{type:"def",tag:o,raw:s[0],href:r,title:u}}}table(t){const s=this.rules.block.table.exec(t);if(!s||!/[:|]/.test(s[2]))return;const o=Np(s[1]),r=s[2].replace(/^\||\| *$/g,"").split("|"),u=s[3]&&s[3].trim()?s[3].replace(/\n[ \t]*$/,"").split(`
`):[],h={type:"table",raw:s[0],header:[],align:[],rows:[]};if(o.length===r.length){for(const y of r)/^ *-+: *$/.test(y)?h.align.push("right"):/^ *:-+: *$/.test(y)?h.align.push("center"):/^ *:-+ *$/.test(y)?h.align.push("left"):h.align.push(null);for(let y=0;y<o.length;y++)h.header.push({text:o[y],tokens:this.lexer.inline(o[y]),header:!0,align:h.align[y]});for(const y of u)h.rows.push(Np(y,h.header.length).map((x,g)=>({text:x,tokens:this.lexer.inline(x),header:!1,align:h.align[g]})));return h}}lheading(t){const s=this.rules.block.lheading.exec(t);if(s)return{type:"heading",raw:s[0],depth:s[2].charAt(0)==="="?1:2,text:s[1],tokens:this.lexer.inline(s[1])}}paragraph(t){const s=this.rules.block.paragraph.exec(t);if(s){const o=s[1].charAt(s[1].length-1)===`
`?s[1].slice(0,-1):s[1];return{type:"paragraph",raw:s[0],text:o,tokens:this.lexer.inline(o)}}}text(t){const s=this.rules.block.text.exec(t);if(s)return{type:"text",raw:s[0],text:s[0],tokens:this.lexer.inline(s[0])}}escape(t){const s=this.rules.inline.escape.exec(t);if(s)return{type:"escape",raw:s[0],text:zt(s[1])}}tag(t){const s=this.rules.inline.tag.exec(t);if(s)return!this.lexer.state.inLink&&/^<a /i.test(s[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(s[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:s[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:s[0]}}link(t){const s=this.rules.inline.link.exec(t);if(s){const o=s[2].trim();if(!this.options.pedantic&&/^</.test(o)){if(!/>$/.test(o))return;const h=gl(o.slice(0,-1),"\\");if((o.length-h.length)%2===0)return}else{const h=Db(s[2],"()");if(h>-1){const x=(s[0].indexOf("!")===0?5:4)+s[1].length+h;s[2]=s[2].substring(0,h),s[0]=s[0].substring(0,x).trim(),s[3]=""}}let r=s[2],u="";if(this.options.pedantic){const h=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);h&&(r=h[1],u=h[3])}else u=s[3]?s[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(o)?r=r.slice(1):r=r.slice(1,-1)),Mp(s,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:u&&u.replace(this.rules.inline.anyPunctuation,"$1")},s[0],this.lexer)}}reflink(t,s){let o;if((o=this.rules.inline.reflink.exec(t))||(o=this.rules.inline.nolink.exec(t))){const r=(o[2]||o[1]).replace(/\s+/g," "),u=s[r.toLowerCase()];if(!u){const h=o[0].charAt(0);return{type:"text",raw:h,text:h}}return Mp(o,u,o[0],this.lexer)}}emStrong(t,s,o=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!r||r[3]&&o.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!o||this.rules.inline.punctuation.exec(o)){const h=[...r[0]].length-1;let y,x,g=h,v=0;const S=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(S.lastIndex=0,s=s.slice(-1*t.length+h);(r=S.exec(s))!=null;){if(y=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!y)continue;if(x=[...y].length,r[3]||r[4]){g+=x;continue}else if((r[5]||r[6])&&h%3&&!((h+x)%3)){v+=x;continue}if(g-=x,g>0)continue;x=Math.min(x,x+g+v);const b=[...r[0]][0].length,C=t.slice(0,h+r.index+b+x);if(Math.min(h,x)%2){const R=C.slice(1,-1);return{type:"em",raw:C,text:R,tokens:this.lexer.inlineTokens(R)}}const w=C.slice(2,-2);return{type:"strong",raw:C,text:w,tokens:this.lexer.inlineTokens(w)}}}}codespan(t){const s=this.rules.inline.code.exec(t);if(s){let o=s[2].replace(/\n/g," ");const r=/[^ ]/.test(o),u=/^ /.test(o)&&/ $/.test(o);return r&&u&&(o=o.substring(1,o.length-1)),o=zt(o,!0),{type:"codespan",raw:s[0],text:o}}}br(t){const s=this.rules.inline.br.exec(t);if(s)return{type:"br",raw:s[0]}}del(t){const s=this.rules.inline.del.exec(t);if(s)return{type:"del",raw:s[0],text:s[2],tokens:this.lexer.inlineTokens(s[2])}}autolink(t){const s=this.rules.inline.autolink.exec(t);if(s){let o,r;return s[2]==="@"?(o=zt(s[1]),r="mailto:"+o):(o=zt(s[1]),r=o),{type:"link",raw:s[0],text:o,href:r,tokens:[{type:"text",raw:o,text:o}]}}}url(t){var o;let s;if(s=this.rules.inline.url.exec(t)){let r,u;if(s[2]==="@")r=zt(s[0]),u="mailto:"+r;else{let h;do h=s[0],s[0]=((o=this.rules.inline._backpedal.exec(s[0]))==null?void 0:o[0])??"";while(h!==s[0]);r=zt(s[0]),s[1]==="www."?u="http://"+s[0]:u=s[0]}return{type:"link",raw:s[0],text:r,href:u,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){const s=this.rules.inline.text.exec(t);if(s){let o;return this.lexer.state.inRawBlock?o=s[0]:o=zt(s[0]),{type:"text",raw:s[0],text:o}}}}const Lb=/^(?:[ \t]*(?:\n|$))+/,zb=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Pb=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,bl=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Gb=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,rg=/(?:[*+-]|\d{1,9}[.)])/,ug=Pe(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,rg).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Vu=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,qb=/^[^\n]+/,ju=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Bb=Pe(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ju).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Hb=Pe(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,rg).getRegex(),na="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ou=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Vb=Pe("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Ou).replace("tag",na).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),cg=Pe(Vu).replace("hr",bl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",na).getRegex(),jb=Pe(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",cg).getRegex(),Fu={blockquote:jb,code:zb,def:Bb,fences:Pb,heading:Gb,hr:bl,html:Vb,lheading:ug,list:Hb,newline:Lb,paragraph:cg,table:vl,text:qb},Rp=Pe("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",bl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",na).getRegex(),Ob={...Fu,table:Rp,paragraph:Pe(Vu).replace("hr",bl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Rp).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",na).getRegex()},Fb={...Fu,html:Pe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ou).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:vl,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Pe(Vu).replace("hr",bl).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ug).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},dg=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Yb=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,fg=/^( {2,}|\\)\n(?!\s*$)/,Jb=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,El="\\p{P}\\p{S}",Qb=Pe(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,El).getRegex(),$b=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Xb=Pe(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,El).getRegex(),Kb=Pe("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,El).getRegex(),Zb=Pe("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,El).getRegex(),Wb=Pe(/\\([punct])/,"gu").replace(/punct/g,El).getRegex(),eE=Pe(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),tE=Pe(Ou).replace("(?:-->|$)","-->").getRegex(),nE=Pe("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",tE).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),$o=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,iE=Pe(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",$o).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),mg=Pe(/^!?\[(label)\]\[(ref)\]/).replace("label",$o).replace("ref",ju).getRegex(),hg=Pe(/^!?\[(ref)\](?:\[\])?/).replace("ref",ju).getRegex(),sE=Pe("reflink|nolink(?!\\()","g").replace("reflink",mg).replace("nolink",hg).getRegex(),Yu={_backpedal:vl,anyPunctuation:Wb,autolink:eE,blockSkip:$b,br:fg,code:Yb,del:vl,emStrongLDelim:Xb,emStrongRDelimAst:Kb,emStrongRDelimUnd:Zb,escape:dg,link:iE,nolink:hg,punctuation:Qb,reflink:mg,reflinkSearch:sE,tag:nE,text:Jb,url:vl},lE={...Yu,link:Pe(/^!?\[(label)\]\((.*?)\)/).replace("label",$o).getRegex(),reflink:Pe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",$o).getRegex()},Du={...Yu,escape:Pe(dg).replace("])","~|])").getRegex(),url:Pe(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},oE={...Du,br:Pe(fg).replace("{2,}","*").getRegex(),text:Pe(Du.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},jo={normal:Fu,gfm:Ob,pedantic:Fb},yl={normal:Yu,gfm:Du,breaks:oE,pedantic:lE};class Qt{constructor(t){Be(this,"tokens");Be(this,"options");Be(this,"state");Be(this,"tokenizer");Be(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ci,this.options.tokenizer=this.options.tokenizer||new Qo,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const s={block:jo.normal,inline:yl.normal};this.options.pedantic?(s.block=jo.pedantic,s.inline=yl.pedantic):this.options.gfm&&(s.block=jo.gfm,this.options.breaks?s.inline=yl.breaks:s.inline=yl.gfm),this.tokenizer.rules=s}static get rules(){return{block:jo,inline:yl}}static lex(t,s){return new Qt(s).lex(t)}static lexInline(t,s){return new Qt(s).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let s=0;s<this.inlineQueue.length;s++){const o=this.inlineQueue[s];this.inlineTokens(o.src,o.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,s=[],o=!1){this.options.pedantic&&(t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""));let r,u,h;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(y=>(r=y.call({lexer:this},t,s))?(t=t.substring(r.raw.length),s.push(r),!0):!1))){if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length),r.raw.length===1&&s.length>0?s[s.length-1].raw+=`
`:s.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length),u=s[s.length-1],u&&(u.type==="paragraph"||u.type==="text")?(u.raw+=`
`+r.raw,u.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=u.text):s.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),s.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),s.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),s.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),s.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),s.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),s.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length),u=s[s.length-1],u&&(u.type==="paragraph"||u.type==="text")?(u.raw+=`
`+r.raw,u.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=u.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),s.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),s.push(r);continue}if(h=t,this.options.extensions&&this.options.extensions.startBlock){let y=1/0;const x=t.slice(1);let g;this.options.extensions.startBlock.forEach(v=>{g=v.call({lexer:this},x),typeof g=="number"&&g>=0&&(y=Math.min(y,g))}),y<1/0&&y>=0&&(h=t.substring(0,y+1))}if(this.state.top&&(r=this.tokenizer.paragraph(h))){u=s[s.length-1],o&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=`
`+r.raw,u.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=u.text):s.push(r),o=h.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length),u=s[s.length-1],u&&u.type==="text"?(u.raw+=`
`+r.raw,u.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=u.text):s.push(r);continue}if(t){const y="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(y);break}else throw new Error(y)}}return this.state.top=!0,s}inline(t,s=[]){return this.inlineQueue.push({src:t,tokens:s}),s}inlineTokens(t,s=[]){let o,r,u,h=t,y,x,g;if(this.tokens.links){const v=Object.keys(this.tokens.links);if(v.length>0)for(;(y=this.tokenizer.rules.inline.reflinkSearch.exec(h))!=null;)v.includes(y[0].slice(y[0].lastIndexOf("[")+1,-1))&&(h=h.slice(0,y.index)+"["+"a".repeat(y[0].length-2)+"]"+h.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(y=this.tokenizer.rules.inline.blockSkip.exec(h))!=null;)h=h.slice(0,y.index)+"["+"a".repeat(y[0].length-2)+"]"+h.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(y=this.tokenizer.rules.inline.anyPunctuation.exec(h))!=null;)h=h.slice(0,y.index)+"++"+h.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(x||(g=""),x=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(v=>(o=v.call({lexer:this},t,s))?(t=t.substring(o.raw.length),s.push(o),!0):!1))){if(o=this.tokenizer.escape(t)){t=t.substring(o.raw.length),s.push(o);continue}if(o=this.tokenizer.tag(t)){t=t.substring(o.raw.length),r=s[s.length-1],r&&o.type==="text"&&r.type==="text"?(r.raw+=o.raw,r.text+=o.text):s.push(o);continue}if(o=this.tokenizer.link(t)){t=t.substring(o.raw.length),s.push(o);continue}if(o=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(o.raw.length),r=s[s.length-1],r&&o.type==="text"&&r.type==="text"?(r.raw+=o.raw,r.text+=o.text):s.push(o);continue}if(o=this.tokenizer.emStrong(t,h,g)){t=t.substring(o.raw.length),s.push(o);continue}if(o=this.tokenizer.codespan(t)){t=t.substring(o.raw.length),s.push(o);continue}if(o=this.tokenizer.br(t)){t=t.substring(o.raw.length),s.push(o);continue}if(o=this.tokenizer.del(t)){t=t.substring(o.raw.length),s.push(o);continue}if(o=this.tokenizer.autolink(t)){t=t.substring(o.raw.length),s.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(t))){t=t.substring(o.raw.length),s.push(o);continue}if(u=t,this.options.extensions&&this.options.extensions.startInline){let v=1/0;const S=t.slice(1);let b;this.options.extensions.startInline.forEach(C=>{b=C.call({lexer:this},S),typeof b=="number"&&b>=0&&(v=Math.min(v,b))}),v<1/0&&v>=0&&(u=t.substring(0,v+1))}if(o=this.tokenizer.inlineText(u)){t=t.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(g=o.raw.slice(-1)),x=!0,r=s[s.length-1],r&&r.type==="text"?(r.raw+=o.raw,r.text+=o.text):s.push(o);continue}if(t){const v="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return s}}class Xo{constructor(t){Be(this,"options");Be(this,"parser");this.options=t||Ci}space(t){return""}code({text:t,lang:s,escaped:o}){var h;const r=(h=(s||"").match(/^\S*/))==null?void 0:h[0],u=t.replace(/\n$/,"")+`
`;return r?'<pre><code class="language-'+zt(r)+'">'+(o?u:zt(u,!0))+`</code></pre>
`:"<pre><code>"+(o?u:zt(u,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:s}){return`<h${s}>${this.parser.parseInline(t)}</h${s}>
`}hr(t){return`<hr>
`}list(t){const s=t.ordered,o=t.start;let r="";for(let y=0;y<t.items.length;y++){const x=t.items[y];r+=this.listitem(x)}const u=s?"ol":"ul",h=s&&o!==1?' start="'+o+'"':"";return"<"+u+h+`>
`+r+"</"+u+`>
`}listitem(t){let s="";if(t.task){const o=this.checkbox({checked:!!t.checked});t.loose?t.tokens.length>0&&t.tokens[0].type==="paragraph"?(t.tokens[0].text=o+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=o+" "+t.tokens[0].tokens[0].text)):t.tokens.unshift({type:"text",raw:o+" ",text:o+" "}):s+=o+" "}return s+=this.parser.parse(t.tokens,!!t.loose),`<li>${s}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let s="",o="";for(let u=0;u<t.header.length;u++)o+=this.tablecell(t.header[u]);s+=this.tablerow({text:o});let r="";for(let u=0;u<t.rows.length;u++){const h=t.rows[u];o="";for(let y=0;y<h.length;y++)o+=this.tablecell(h[y]);r+=this.tablerow({text:o})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+s+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const s=this.parser.parseInline(t.tokens),o=t.header?"th":"td";return(t.align?`<${o} align="${t.align}">`:`<${o}>`)+s+`</${o}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${t}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:s,tokens:o}){const r=this.parser.parseInline(o),u=_p(t);if(u===null)return r;t=u;let h='<a href="'+t+'"';return s&&(h+=' title="'+s+'"'),h+=">"+r+"</a>",h}image({href:t,title:s,text:o}){const r=_p(t);if(r===null)return o;t=r;let u=`<img src="${t}" alt="${o}"`;return s&&(u+=` title="${s}"`),u+=">",u}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):t.text}}class Ju{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class $t{constructor(t){Be(this,"options");Be(this,"renderer");Be(this,"textRenderer");this.options=t||Ci,this.options.renderer=this.options.renderer||new Xo,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ju}static parse(t,s){return new $t(s).parse(t)}static parseInline(t,s){return new $t(s).parseInline(t)}parse(t,s=!0){let o="";for(let r=0;r<t.length;r++){const u=t[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const y=u,x=this.options.extensions.renderers[y.type].call({parser:this},y);if(x!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(y.type)){o+=x||"";continue}}const h=u;switch(h.type){case"space":{o+=this.renderer.space(h);continue}case"hr":{o+=this.renderer.hr(h);continue}case"heading":{o+=this.renderer.heading(h);continue}case"code":{o+=this.renderer.code(h);continue}case"table":{o+=this.renderer.table(h);continue}case"blockquote":{o+=this.renderer.blockquote(h);continue}case"list":{o+=this.renderer.list(h);continue}case"html":{o+=this.renderer.html(h);continue}case"paragraph":{o+=this.renderer.paragraph(h);continue}case"text":{let y=h,x=this.renderer.text(y);for(;r+1<t.length&&t[r+1].type==="text";)y=t[++r],x+=`
`+this.renderer.text(y);s?o+=this.renderer.paragraph({type:"paragraph",raw:x,text:x,tokens:[{type:"text",raw:x,text:x}]}):o+=x;continue}default:{const y='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(y),"";throw new Error(y)}}}return o}parseInline(t,s){s=s||this.renderer;let o="";for(let r=0;r<t.length;r++){const u=t[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const y=this.options.extensions.renderers[u.type].call({parser:this},u);if(y!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(u.type)){o+=y||"";continue}}const h=u;switch(h.type){case"escape":{o+=s.text(h);break}case"html":{o+=s.html(h);break}case"link":{o+=s.link(h);break}case"image":{o+=s.image(h);break}case"strong":{o+=s.strong(h);break}case"em":{o+=s.em(h);break}case"codespan":{o+=s.codespan(h);break}case"br":{o+=s.br(h);break}case"del":{o+=s.del(h);break}case"text":{o+=s.text(h);break}default:{const y='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(y),"";throw new Error(y)}}}return o}}class Tl{constructor(t){Be(this,"options");Be(this,"block");this.options=t||Ci}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Qt.lex:Qt.lexInline}provideParser(){return this.block?$t.parse:$t.parseInline}}Be(Tl,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class aE{constructor(...t){Be(this,"defaults",Hu());Be(this,"options",this.setOptions);Be(this,"parse",this.parseMarkdown(!0));Be(this,"parseInline",this.parseMarkdown(!1));Be(this,"Parser",$t);Be(this,"Renderer",Xo);Be(this,"TextRenderer",Ju);Be(this,"Lexer",Qt);Be(this,"Tokenizer",Qo);Be(this,"Hooks",Tl);this.use(...t)}walkTokens(t,s){var r,u;let o=[];for(const h of t)switch(o=o.concat(s.call(this,h)),h.type){case"table":{const y=h;for(const x of y.header)o=o.concat(this.walkTokens(x.tokens,s));for(const x of y.rows)for(const g of x)o=o.concat(this.walkTokens(g.tokens,s));break}case"list":{const y=h;o=o.concat(this.walkTokens(y.items,s));break}default:{const y=h;(u=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&u[y.type]?this.defaults.extensions.childTokens[y.type].forEach(x=>{const g=y[x].flat(1/0);o=o.concat(this.walkTokens(g,s))}):y.tokens&&(o=o.concat(this.walkTokens(y.tokens,s)))}}return o}use(...t){const s=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(o=>{const r={...o};if(r.async=this.defaults.async||r.async||!1,o.extensions&&(o.extensions.forEach(u=>{if(!u.name)throw new Error("extension name required");if("renderer"in u){const h=s.renderers[u.name];h?s.renderers[u.name]=function(...y){let x=u.renderer.apply(this,y);return x===!1&&(x=h.apply(this,y)),x}:s.renderers[u.name]=u.renderer}if("tokenizer"in u){if(!u.level||u.level!=="block"&&u.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const h=s[u.level];h?h.unshift(u.tokenizer):s[u.level]=[u.tokenizer],u.start&&(u.level==="block"?s.startBlock?s.startBlock.push(u.start):s.startBlock=[u.start]:u.level==="inline"&&(s.startInline?s.startInline.push(u.start):s.startInline=[u.start]))}"childTokens"in u&&u.childTokens&&(s.childTokens[u.name]=u.childTokens)}),r.extensions=s),o.renderer){const u=this.defaults.renderer||new Xo(this.defaults);for(const h in o.renderer){if(!(h in u))throw new Error(`renderer '${h}' does not exist`);if(["options","parser"].includes(h))continue;const y=h,x=o.renderer[y],g=u[y];u[y]=(...v)=>{let S=x.apply(u,v);return S===!1&&(S=g.apply(u,v)),S||""}}r.renderer=u}if(o.tokenizer){const u=this.defaults.tokenizer||new Qo(this.defaults);for(const h in o.tokenizer){if(!(h in u))throw new Error(`tokenizer '${h}' does not exist`);if(["options","rules","lexer"].includes(h))continue;const y=h,x=o.tokenizer[y],g=u[y];u[y]=(...v)=>{let S=x.apply(u,v);return S===!1&&(S=g.apply(u,v)),S}}r.tokenizer=u}if(o.hooks){const u=this.defaults.hooks||new Tl;for(const h in o.hooks){if(!(h in u))throw new Error(`hook '${h}' does not exist`);if(["options","block"].includes(h))continue;const y=h,x=o.hooks[y],g=u[y];Tl.passThroughHooks.has(h)?u[y]=v=>{if(this.defaults.async)return Promise.resolve(x.call(u,v)).then(b=>g.call(u,b));const S=x.call(u,v);return g.call(u,S)}:u[y]=(...v)=>{let S=x.apply(u,v);return S===!1&&(S=g.apply(u,v)),S}}r.hooks=u}if(o.walkTokens){const u=this.defaults.walkTokens,h=o.walkTokens;r.walkTokens=function(y){let x=[];return x.push(h.call(this,y)),u&&(x=x.concat(u.call(this,y))),x}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,s){return Qt.lex(t,s??this.defaults)}parser(t,s){return $t.parse(t,s??this.defaults)}parseMarkdown(t){return(o,r)=>{const u={...r},h={...this.defaults,...u},y=this.onError(!!h.silent,!!h.async);if(this.defaults.async===!0&&u.async===!1)return y(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof o>"u"||o===null)return y(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return y(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));h.hooks&&(h.hooks.options=h,h.hooks.block=t);const x=h.hooks?h.hooks.provideLexer():t?Qt.lex:Qt.lexInline,g=h.hooks?h.hooks.provideParser():t?$t.parse:$t.parseInline;if(h.async)return Promise.resolve(h.hooks?h.hooks.preprocess(o):o).then(v=>x(v,h)).then(v=>h.hooks?h.hooks.processAllTokens(v):v).then(v=>h.walkTokens?Promise.all(this.walkTokens(v,h.walkTokens)).then(()=>v):v).then(v=>g(v,h)).then(v=>h.hooks?h.hooks.postprocess(v):v).catch(y);try{h.hooks&&(o=h.hooks.preprocess(o));let v=x(o,h);h.hooks&&(v=h.hooks.processAllTokens(v)),h.walkTokens&&this.walkTokens(v,h.walkTokens);let S=g(v,h);return h.hooks&&(S=h.hooks.postprocess(S)),S}catch(v){return y(v)}}}onError(t,s){return o=>{if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const r="<p>An error occurred:</p><pre>"+zt(o.message+"",!0)+"</pre>";return s?Promise.resolve(r):r}if(s)return Promise.reject(o);throw o}}}const Si=new aE;function ke(i,t){return Si.parse(i,t)}ke.options=ke.setOptions=function(i){return Si.setOptions(i),ke.defaults=Si.defaults,lg(ke.defaults),ke};ke.getDefaults=Hu;ke.defaults=Ci;ke.use=function(...i){return Si.use(...i),ke.defaults=Si.defaults,lg(ke.defaults),ke};ke.walkTokens=function(i,t){return Si.walkTokens(i,t)};ke.parseInline=Si.parseInline;ke.Parser=$t;ke.parser=$t.parse;ke.Renderer=Xo;ke.TextRenderer=Ju;ke.Lexer=Qt;ke.lexer=Qt.lex;ke.Tokenizer=Qo;ke.Hooks=Tl;ke.parse=ke;ke.options;ke.setOptions;ke.use;ke.walkTokens;ke.parseInline;$t.parse;Qt.lex;const rE=({onAnalyze:i,isLoading:t,symptoms:s,setSymptoms:o,symptomDetails:r,setSymptomDetails:u,isQuotaExhausted:h})=>{const{language:y,t:x}=Je(),[g,v]=j.useState(!1),S=j.useRef(null);j.useEffect(()=>{const R=window.SpeechRecognition||window.webkitSpeechRecognition;if(!R){console.warn("Speech recognition not supported in this browser.");return}const k=new R;k.continuous=!0,k.interimResults=!0,k.lang=y==="fa"?"fa-IR":"en-US",k.onresult=Y=>{let J="";for(let L=Y.resultIndex;L<Y.results.length;++L)Y.results[L].isFinal&&(J+=Y.results[L][0].transcript);J&&o(L=>L?`${L} ${J.trim()}`:J.trim())},k.onstart=()=>v(!0),k.onend=()=>v(!1),k.onerror=Y=>{console.error("Speech recognition error",Y.error),v(!1)},S.current=k},[y,o]);const b=()=>{var R,k;g?(R=S.current)==null||R.stop():(k=S.current)==null||k.start()},C=R=>{if(R.preventDefault(),!s.trim()){alert(x("musicIdeaForm.validationError"));return}i()},w=R=>{const{name:k,value:Y}=R.target;u(J=>({...J,[k]:Y}))};return m.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-8 shadow-lg backdrop-blur-sm border border-white/10",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6 text-white",children:x("musicIdeaForm.title")}),m.jsxs("form",{onSubmit:C,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300",children:x("musicIdeaForm.symptomsLabel")}),m.jsx("button",{type:"button",onClick:b,title:x(g?"musicIdeaForm.voiceInputStop":"musicIdeaForm.voiceInputStart"),className:`p-2 rounded-full transition-colors ${g?"bg-red-500/50 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,disabled:!S.current,children:g?m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 animate-pulse",viewBox:"0 0 20 20",fill:"currentColor",children:[m.jsx("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"}),m.jsx("path",{d:"M5.5 13a.5.5 0 01.5.5v1.5a4.5 4.5 0 009 0v-1.5a.5.5 0 011 0v1.5a5.5 5.5 0 01-11 0v-1.5a.5.5 0 01.5-.5z"})]}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4zm5 10.5a.5.5 0 01.5.5v.5a3.5 3.5 0 01-7 0v-.5a.5.5 0 01.5-.5h6zM5 8a1 1 0 011-1h1V6a1 1 0 112 0v1h1a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"})})})]}),m.jsx("textarea",{id:"description",rows:8,value:s,onChange:R=>o(R.target.value),className:"mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-rose-500 focus:border-rose-500 sm:text-sm text-white",placeholder:x("musicIdeaForm.symptomsPlaceholder")})]}),m.jsxs("div",{className:"pt-4 border-t border-white/10",children:[m.jsx("h4",{className:"text-xs font-semibold text-gray-400 mb-3",children:x("musicIdeaForm.culturalPromptsTitle")}),m.jsx("div",{className:"flex flex-wrap gap-2",children:lx[y].map((R,k)=>m.jsx("button",{type:"button",onClick:()=>o(R),className:"px-3 py-1.5 bg-gray-700/80 text-gray-300 text-xs font-medium rounded-full hover:bg-gray-600 hover:text-white transition-colors text-left",children:R},k))})]}),m.jsxs("div",{className:"pt-4 border-t border-white/10",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-4",children:x("musicIdeaForm.detailsTitle")}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"referenceArtists",className:"block text-sm font-medium text-gray-300",children:x("musicIdeaForm.aggravatingFactors")}),m.jsx("input",{type:"text",name:"referenceArtists",id:"referenceArtists",value:r.referenceArtists,onChange:w,className:"mt-1 block w-full bg-gray-900 border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-rose-500 focus:border-rose-500 sm:text-sm text-white"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"specificInstruments",className:"block text-sm font-medium text-gray-300",children:x("musicIdeaForm.alleviatingFactors")}),m.jsx("input",{type:"text",name:"specificInstruments",id:"specificInstruments",value:r.specificInstruments,onChange:w,className:"mt-1 block w-full bg-gray-900 border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-rose-500 focus:border-rose-500 sm:text-sm text-white"})]}),m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{htmlFor:"targetLength",className:"block text-sm font-medium text-gray-300",children:x("musicIdeaForm.duration")}),m.jsx("input",{type:"text",name:"targetLength",id:"targetLength",value:r.targetLength,onChange:w,placeholder:x("musicIdeaForm.durationPlaceholder"),className:"mt-1 block w-full bg-gray-900 border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-rose-500 focus:border-rose-500 sm:text-sm text-white"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"daw",className:"block text-sm font-medium text-gray-300",children:x("musicIdeaForm.previousTreatments")}),m.jsx("input",{type:"text",name:"daw",id:"daw",value:r.daw,onChange:w,className:"mt-1 block w-full bg-gray-900 border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-rose-500 focus:border-rose-500 sm:text-sm text-white"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"existingIdeas",className:"block text-sm font-medium text-gray-300",children:x("musicIdeaForm.medications")}),m.jsx("input",{type:"text",name:"existingIdeas",id:"existingIdeas",value:r.existingIdeas,onChange:w,className:"mt-1 block w-full bg-gray-900 border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-rose-500 focus:border-rose-500 sm:text-sm text-white"})]})]})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:t||h,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-rose-500 disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors",children:x(t?"songIdeaGenerator.analyzing":h?"quotaErrorModal.title":"musicIdeaForm.buttonText")})})]})]})},uE=ps.forwardRef(({summaryHtml:i,styleMode:t},s)=>{const{t:o}=Je(),u={dark:{card:"bg-gray-800 border-gray-700 text-gray-300",name:"text-white",prose:"prose-dark"},light:{card:"bg-white border-gray-200 text-gray-700",name:"text-gray-900",prose:"prose-light"}}[t];return m.jsxs("div",{className:`p-6 rounded-lg font-sans transition-colors duration-300 ${u.card} border`,children:[m.jsx("style",{children:`
            .prose-dark h3 { color: #fecdd3; border-bottom-color: #4b5563; font-size: 1.1rem; font-weight: 600; padding-bottom: 0.5rem; border-bottom-width: 1px; margin-top: 1.5rem; margin-bottom: 1rem; }
            .prose-dark ul { list-style-type: ' '; padding-left: 1.5rem; margin-bottom: 1rem; color: #d1d5db; }
            .prose-dark li { margin-bottom: 0.25rem; padding-left: 0.25rem; }
            .prose-dark p { line-height: 1.6; margin-bottom: 1rem; color: #d1d5db; }
            .prose-dark strong { color: #e5e7eb; }

            .prose-light h3 { color: #be123c; border-bottom-color: #e5e7eb; font-size: 1.1rem; font-weight: 600; padding-bottom: 0.5rem; border-bottom-width: 1px; margin-top: 1.5rem; margin-bottom: 1rem; }
            .prose-light ul { list-style-type: ' '; padding-left: 1.5rem; margin-bottom: 1rem; color: #374151; }
            .prose-light li { margin-bottom: 0.25rem; padding-left: 0.25rem; }
            .prose-light p { line-height: 1.6; margin-bottom: 1rem; color: #4b5563; }
            .prose-light strong { color: #1f2937; }
        `}),m.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse p-4 border-b ${styleMode === 'dark' ? 'border-gray-700' : 'border-gray-200'}",children:[m.jsx("div",{className:`p-3 rounded-full ${t==="dark"?"bg-gray-700":"bg-rose-100"}`,children:m.jsx("svg",{className:`h-8 w-8 ${t==="dark"?"text-rose-300":"text-rose-600"}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})})}),m.jsxs("div",{children:[m.jsx("h2",{className:`text-2xl font-bold ${u.name}`,children:o("treatmentSummary.namePlaceholder")}),m.jsx("p",{className:"text-sm",children:o("treatmentSummary.locationPlaceholder")})]})]}),m.jsx("main",{ref:s,className:`${u.prose} max-w-none p-4`,children:m.jsx("div",{dangerouslySetInnerHTML:{__html:i}})})]})}),cE=({analysis:i,isLoading:t,error:s,onGetDeeperAnalysis:o,onGetAcademicAnalysis:r,onGenerateSummary:u,doctorSummary:h,isGeneratingSummary:y,doctorSummaryError:x,onFindSpecialists:g,onRequestResearch:v,onCalculateCosts:S,isCalculatingCosts:b,costAnalysis:C,costsError:w})=>{const{language:R,t:k}=Je(),[Y,J]=j.useState(""),L=j.useRef(null),[O,W]=j.useState(null),[ee,$]=j.useState(null),[re,te]=j.useState("dark"),Z=i==null?void 0:i.productionConsultation,ce=Z==null?void 0:Z.songStructure,se=z=>{const K=O===z,ne=Z==null?void 0:Z.suggestedSongElements.find(he=>he.name===z);W(K?null:z),$(null),!K&&ne&&!ne.details&&!ne.isLoadingDetails&&o(z)},ie=z=>{const K=ee===z,ne=Z==null?void 0:Z.suggestedSongElements.find(he=>he.name===z);$(K?null:z),W(null),!K&&ne&&!ne.furtherReading&&!ne.isLoadingFurtherReading&&r(z)},me=j.useCallback(()=>{if(L.current){const z=L.current.innerText;navigator.clipboard.writeText(z).then(()=>{J(k("analysisDisplay.copySuccess")),setTimeout(()=>J(""),2e3)})}},[k]),X=z=>{if(z.length===0)return null;const K=z.reduce((ne,he)=>ne+he.estimatedCost,0);return m.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700",children:m.jsxs("table",{className:"min-w-full text-sm text-left",children:[m.jsx("thead",{className:"bg-gray-700/50 text-xs uppercase tracking-wider",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3 font-semibold text-gray-300",children:k("analysisDisplay.tableHeaderItem")}),m.jsx("th",{className:"p-3 font-semibold text-gray-300 text-right",children:k("analysisDisplay.tableHeaderCost")}),m.jsx("th",{className:"p-3 font-semibold text-gray-300 text-center",children:k("analysisDisplay.tableHeaderUnit")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-700",children:z.map((ne,he)=>m.jsxs("tr",{className:"hover:bg-gray-800/60 transition-colors",children:[m.jsx("td",{className:"p-3 font-medium text-white",children:ne.name}),m.jsx("td",{className:"p-3 text-right font-mono text-yellow-300",children:ne.estimatedCost.toLocaleString()}),m.jsx("td",{className:"p-3 text-center text-gray-400",children:ne.unit})]},he))}),m.jsx("tfoot",{className:"bg-gray-700/50 font-bold",children:m.jsxs("tr",{children:[m.jsx("td",{className:"p-3 text-white",children:k("analysisDisplay.tableHeaderTotal")}),m.jsxs("td",{className:"p-3 text-right font-mono text-yellow-200",children:[K.toLocaleString()," ",k("analysisDisplay.currency")]}),m.jsx("td",{})]})})]})})},M=Z&&Z.suggestedSongElements.length>0&&Z.suggestedSongElements.every(z=>z.relevance==="Low");return m.jsxs("div",{className:"p-6 sm:p-8 min-h-[300px]",children:[m.jsx("div",{className:"flex justify-between items-center mb-6",children:m.jsx("h3",{className:"text-xl font-bold text-white",children:k("analysisDisplay.analysisTitle")})}),t&&m.jsxs("div",{className:"flex items-center justify-center py-10",children:[m.jsx("div",{className:"w-8 h-8 border-4 border-dashed rounded-full animate-spin border-rose-400"}),m.jsx("span",{className:`${R==="fa"?"mr-4":"ml-4"} text-gray-400`,children:k("analysisDisplay.generating")})]}),s&&!s.includes("(Quota Exceeded)")&&m.jsx("div",{className:"text-red-400 p-4 bg-red-900/50 rounded-md",children:s}),!t&&!i&&!s&&m.jsxs("div",{className:"text-center py-10 text-gray-500",children:[m.jsx("p",{children:k("analysisDisplay.placeholder1")}),m.jsx("p",{className:"text-sm",children:k("analysisDisplay.placeholder2")})]}),i&&m.jsxs("div",{className:"space-y-12 animate-fade-in",children:[m.jsxs("section",{children:[m.jsxs("h3",{className:"text-2xl font-bold text-rose-300 mb-4 border-b-2 border-rose-800 pb-2 flex items-center gap-3",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 6l12-3"})}),k("analysisDisplay.skinProfileTitle")]}),m.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-400",children:"Key"}),m.jsx("div",{className:"font-bold text-lg text-white",children:i.songConcept.key})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-400",children:"Tempo"}),m.jsx("div",{className:"font-bold text-lg text-white",children:i.songConcept.tempo})]}),m.jsxs("div",{className:"col-span-2 md:col-span-1",children:[m.jsx("div",{className:"text-xs text-gray-400",children:"Mood"}),m.jsx("div",{className:"font-bold text-lg text-white",children:i.songConcept.mood.join(", ")})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-white/10",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-semibold text-gray-300 mb-2",children:k("analysisDisplay.recommendedIngredients")}),m.jsx("div",{className:"flex flex-wrap gap-2",children:i.songConcept.suggestedInstruments.map((z,K)=>m.jsx("span",{className:"px-3 py-1 bg-green-900/50 text-green-300 text-xs font-medium rounded-full",children:z},K))})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-semibold text-gray-300 mb-2",children:k("analysisDisplay.ingredientsToAvoid")}),m.jsx("div",{className:"flex flex-wrap gap-2",children:i.songConcept.instrumentsToAvoid.map((z,K)=>m.jsx("span",{className:"px-3 py-1 bg-red-900/50 text-red-300 text-xs font-medium rounded-full",children:z},K))})]})]}),m.jsxs("div",{className:"pt-4 border-t border-white/10",children:[m.jsx("h4",{className:"font-semibold text-gray-300 mb-2",children:k("analysisDisplay.actionableSuggestions")}),m.jsx("ul",{className:"list-disc list-inside text-sm space-y-1 text-gray-300",children:i.songConcept.productionSuggestions.map((z,K)=>m.jsx("li",{children:z},K))})]})]})]}),Z&&m.jsxs("section",{className:"space-y-8",children:[m.jsx("div",{className:"p-4 bg-yellow-900/30 border-l-4 border-yellow-500 text-yellow-300 text-sm",role:"alert",children:m.jsx("p",{children:Z.disclaimer})}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-semibold text-gray-200 mb-3",children:k("analysisDisplay.specialistsTitle")}),m.jsx("div",{className:"flex flex-wrap gap-2",children:Z.recommendedProducers.map((z,K)=>m.jsx("span",{className:"px-3 py-1 bg-gray-700 text-gray-200 text-sm rounded-full",children:z},K))}),Z.recommendedProducers.length>0&&m.jsxs("button",{onClick:()=>g(Z.recommendedProducers),className:"mt-4 text-sm font-semibold text-rose-400 hover:text-rose-300 transition-colors flex items-center gap-2",children:[m.jsx("span",{children:k("analysisDisplay.findSpecialistsButton")}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-semibold text-gray-200 mb-3",children:k("analysisDisplay.conditionsTitle")}),M&&m.jsx("div",{className:"mb-4 p-4 bg-gray-700/50 border border-gray-600 text-gray-300 text-sm rounded-lg",role:"alert",children:m.jsx("p",{children:k("analysisDisplay.lowConfidenceFallback")})}),m.jsx("div",{className:"space-y-4",children:Z.suggestedSongElements.map(z=>m.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-white/10",children:[m.jsx("h5",{className:"font-semibold text-white",children:z.name}),m.jsx("p",{className:"text-sm text-gray-400 mt-1",children:z.description}),m.jsxs("p",{className:"text-sm mt-3 text-cyan-300 bg-cyan-900/30 p-2 rounded-md",children:["Guidance: ",z.suggestedStep]}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-white/15 flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>se(z.name),className:"text-xs font-semibold px-3 py-1.5 rounded-md bg-gray-700 hover:bg-gray-600 text-gray-200 transition-colors",children:O===z.name?k("analysisDisplay.hideDetails"):k("analysisDisplay.viewDetails")}),m.jsx("button",{onClick:()=>ie(z.name),className:"text-xs font-semibold px-3 py-1.5 rounded-md bg-gray-700 hover:bg-gray-600 text-gray-200 transition-colors",children:ee===z.name?k("analysisDisplay.hideDetails"):k("analysisDisplay.academicAnalysisButton")}),z.relevance==="Low"&&m.jsx("button",{onClick:()=>v(z.name),className:"text-xs font-semibold px-3 py-1.5 rounded-md bg-yellow-800/70 hover:bg-yellow-700 text-yellow-200 transition-colors",children:k("analysisDisplay.requestResearchButton")})]}),O===z.name&&m.jsx("div",{className:"mt-4 p-4 bg-gray-900/70 rounded-md border border-white/10 animate-fade-in prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:z.details||""}}),ee===z.name&&m.jsx("div",{className:"mt-4 p-4 bg-gray-900/70 rounded-md border border-white/10 animate-fade-in prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:z.furtherReading||""}})]},z.name))})]}),m.jsxs("div",{className:"pt-8 border-t border-white/10",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-6 text-center",children:k("analysisDisplay.treatmentSectionTitle")}),ce&&m.jsxs("div",{className:"mb-8",children:[m.jsx("h4",{className:"text-lg font-semibold text-gray-200 mb-3",children:k("analysisDisplay.songStructureTitle")}),m.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg border border-white/10",children:[m.jsx("h5",{className:"font-bold text-rose-300 text-lg",children:ce.name}),m.jsx("p",{className:"text-sm text-gray-400 mt-1 mb-4",children:ce.description}),m.jsx("div",{className:"space-y-3 border-t border-white/10 pt-4",children:ce.sections.map((z,K)=>m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"bg-gray-700 text-white font-bold text-xs rounded-full h-6 w-6 flex items-center justify-center flex-shrink-0 mr-3 mt-1 rtl:ml-3 rtl:mr-0",children:K+1}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-white",children:z.part}),m.jsx("p",{className:"text-sm text-gray-400",children:z.description})]})]},K))})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-semibold text-gray-200 mb-4",children:k("analysisDisplay.treatmentSuggestionsTitle")}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Z.productionTips.map(z=>m.jsxs("div",{className:"bg-gray-900/50 p-5 rounded-lg border border-white/10 text-center",children:[m.jsx("div",{className:"text-4xl mb-3",children:z.icon}),m.jsx("h5",{className:"font-bold text-white mb-2",children:z.title}),m.jsx("p",{className:"text-sm text-gray-400",children:z.description})]},z.title))})]})]}),m.jsxs("section",{className:"pt-8 border-t border-white/10",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:k("analysisDisplay.costAnalysisTitle")}),C?m.jsx("div",{className:"bg-gray-900/50 p-6 rounded-lg animate-fade-in",children:X(C.productionCosts)}):m.jsx("button",{onClick:S,disabled:b,className:"w-full py-2.5 bg-gray-700 hover:bg-gray-600 rounded-md disabled:opacity-50 transition-colors",children:k(b?"analysisDisplay.calculatingCosts":"analysisDisplay.calculateCostsButton")}),w&&m.jsx("p",{className:"text-red-400 text-sm mt-2",children:w})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-semibold text-gray-200 mb-3",children:k("analysisDisplay.followUpTitle")}),m.jsx("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-dashed border-white/20",children:m.jsx("ul",{className:"list-disc list-inside space-y-2 text-sm text-gray-300",children:Z.songwritingQuestions.map((z,K)=>m.jsx("li",{children:z},K))})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-8 border-t-2 border-dashed border-rose-800",children:[m.jsxs("section",{children:[m.jsxs("h3",{className:"text-xl font-bold text-rose-300 mb-4 flex items-center gap-3",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),k("analysisDisplay.makeupStyleTitle")]}),m.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg space-y-3 h-full",children:[m.jsx("h4",{className:"font-bold text-lg text-white",children:i.genreSuggestion.styleName}),m.jsx("p",{className:"text-sm text-gray-400",children:i.genreSuggestion.description}),m.jsxs("div",{className:"pt-3 border-t border-white/10",children:[m.jsx("h5",{className:"text-sm font-semibold text-gray-300 mb-2",children:k("analysisDisplay.keyProducts")}),m.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:i.genreSuggestion.keyElements.map((z,K)=>m.jsx("li",{children:z},K))})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-xl font-bold text-rose-300 mb-4 flex items-center gap-3",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547a2 2 0 00-.547 1.806l.477 2.387a6 6 0 00.517 3.86l.158.318a6 6 0 003.86.517l2.387.477a2 2 0 001.806-.547a2 2 0 00.547-1.806l-.477-2.387a6 6 0 00-.517-3.86l-.158-.318z"})}),k("analysisDisplay.homemadeMaskTitle")]}),m.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg space-y-3 h-full",children:[m.jsx("h4",{className:"font-bold text-lg text-white",children:i.melodyIdea.ideaName}),m.jsx("p",{className:"text-sm text-gray-400",children:i.melodyIdea.description}),m.jsxs("div",{className:"pt-3 border-t border-white/10",children:[m.jsx("h5",{className:"text-sm font-semibold text-gray-300 mb-2",children:k("analysisDisplay.ingredients")}),m.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:i.melodyIdea.elements.map((z,K)=>m.jsx("li",{children:z},K))})]}),m.jsxs("div",{className:"pt-3 border-t border-white/10",children:[m.jsx("h5",{className:"text-sm font-semibold text-gray-300 mb-2",children:k("analysisDisplay.instructions")}),m.jsx("p",{className:"text-sm whitespace-pre-line",children:i.melodyIdea.instructions})]})]})]})]}),m.jsx("div",{children:m.jsx("button",{onClick:u,disabled:y,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-purple-500 disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors",children:k(y?"analysisDisplay.generatingSummary":"analysisDisplay.prepareSummaryButton")})}),(h||x)&&m.jsxs("div",{className:"mt-6 animate-fade-in",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3 flex-wrap gap-2",children:[m.jsx("div",{children:m.jsx("h4",{className:"text-lg font-semibold text-gray-200",children:k("treatmentSummary.title")})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-sm text-gray-400",children:[k("treatmentSummary.style"),":"]}),m.jsx("button",{onClick:()=>te("dark"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${re==="dark"?"bg-rose-500 text-white":"bg-gray-700 text-gray-300"}`,children:k("treatmentSummary.modernDark")}),m.jsx("button",{onClick:()=>te("light"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${re==="light"?"bg-rose-200 text-rose-900":"bg-gray-700 text-gray-300"}`,children:k("treatmentSummary.classicLight")}),m.jsx("button",{onClick:me,className:"text-sm font-semibold text-rose-400 hover:text-rose-300 transition-colors ml-2",children:Y||k("treatmentSummary.copyBio")})]})]}),x&&m.jsx("p",{className:"text-sm text-red-400 p-3 bg-red-900/30 rounded-md",children:x}),h&&m.jsx("div",{className:"overflow-hidden",children:m.jsx(uE,{ref:L,summaryHtml:h,styleMode:re})})]})]})]})},dE=({savedSpecialists:i,onSaveProvider:t,onRemoveProvider:s,onClearAllSaved:o,onNoteChange:r,handleApiError:u,isQuotaExhausted:h,allSpecialists:y,onSpecialistsFound:x,onClearAllDbProviders:g,triggerSearch:v,onSearchTriggered:S,consultationResult:b,symptoms:C})=>{const{language:w,t:R}=Je(),[k,Y]=j.useState(5),[J,L]=j.useState(!1),[O,W]=j.useState(null),[ee,$]=j.useState(null),[re,te]=j.useState("relevanceScore"),Z=j.useCallback(async()=>{if(!b){W(R("producerFinder.validationError"));return}W(null),$(null),L(!0);const ie=b.suggestedSongElements.map(me=>me.name).join(", ");try{const X=(await ab(ie,C,k,w)).map(M=>({...M,id:`${M.name.replace(/\s/g,"-")}-${M.city.replace(/\s/g,"-")}-${M.relevanceScore}`}));X.length>0?x(X):x([])}catch(me){const X=u(me);W(X)}finally{L(!1)}},[b,C,k,R,u,x,w]);j.useEffect(()=>{v&&(Z(),S())},[v,Z,S]);const ce=j.useCallback(ie=>i.some(me=>me.id===ie.id),[i]),se=j.useMemo(()=>[...y].sort((ie,me)=>{switch(re){case"relevanceScore":return(me.relevanceScore??0)-(ie.relevanceScore??0);case"city":return(ie.city??"").localeCompare(me.city??"");case"name":return(ie.name??"").localeCompare(me.name??"");default:return 0}}),[y,re]);return m.jsxs("section",{id:"producer-finder",className:"py-12 sm:py-16 space-y-12",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-3xl font-bold text-white",children:R("producerFinder.title")}),m.jsx("p",{className:"mt-2 text-gray-400 max-w-2xl mx-auto",children:R("producerFinder.subtitle")})]}),m.jsxs("div",{className:"max-w-3xl mx-auto bg-gray-800/50 rounded-lg p-8 shadow-lg backdrop-blur-sm border border-white/10 space-y-6",children:[m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"max-results",className:"block text-sm font-medium text-gray-300",children:[R("producerFinder.maxResults")," (",k,")"]}),m.jsx("input",{id:"max-results",type:"range",min:"3",max:"15",step:"1",value:k,onChange:ie=>Y(Number(ie.target.value)),className:"mt-1 block w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-rose-500"})]}),m.jsxs("div",{children:[m.jsx("button",{onClick:Z,disabled:J||!b||h,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-rose-500 disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors",children:R(J?"producerFinder.finding":h?"quotaErrorModal.title":"producerFinder.findButton")}),!b&&m.jsx("p",{className:"text-xs text-center mt-2 text-yellow-400",children:R("producerFinder.validationError")})]})]}),i.length>0&&m.jsxs("div",{className:"mt-12 space-y-8 animate-fade-in",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"text-2xl font-bold text-white",children:R("producerFinder.savedTitle")}),m.jsx("button",{onClick:o,className:"px-3 py-1 bg-red-800/70 hover:bg-red-700 text-white text-sm font-semibold rounded-md transition-colors",children:R("producerFinder.clearAll")})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map((ie,me)=>m.jsxs("div",{className:"bg-gray-800/50 rounded-lg shadow-lg backdrop-blur-sm border border-white/10 p-6 flex flex-col",children:[m.jsx("h4",{className:"text-lg font-bold text-teal-300",children:ie.name}),m.jsxs("p",{className:"text-sm text-gray-400",children:[ie.specialty," - ",ie.city]}),m.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mt-4 pt-4 border-t border-white/10",children:[m.jsxs("p",{children:[m.jsxs("strong",{children:[R("producerFinder.bio"),":"]})," ",ie.bio]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[R("producerFinder.relevance"),":"]})," ",m.jsxs("span",{className:"font-bold text-teal-300",children:[ie.relevanceScore,"%"]})]})]}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex-grow",children:[m.jsx("label",{htmlFor:`notes-${me}`,className:"block text-sm font-medium text-gray-300 mb-2",children:R("producerFinder.notesLabel")}),m.jsx("textarea",{id:`notes-${me}`,rows:3,className:"w-full h-full bg-gray-900 border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-rose-500 focus:border-rose-500 sm:text-sm text-white transition-colors",placeholder:R("producerFinder.notesPlaceholder"),value:ie.notes||"",onChange:X=>r(me,X.target.value)})]}),m.jsx("div",{className:"mt-6",children:m.jsx("button",{onClick:()=>s(ie),className:"w-full text-center bg-red-600 text-white font-semibold py-2 px-4 rounded-md hover:bg-red-700 transition-colors",children:R("producerFinder.remove")})})]},`${ie.id}-${me}`))})]}),m.jsxs("div",{className:"mt-12 space-y-8",children:[m.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-white",children:R("producerFinder.crateTitle")}),m.jsx("p",{className:"text-sm text-gray-400",children:R("producerFinder.crateSubtitle")})]}),y.length>0&&m.jsx("button",{onClick:g,className:"px-3 py-1 bg-red-800/70 hover:bg-red-700 text-white text-sm font-semibold rounded-md transition-colors",children:R("producerFinder.clearCrate")})]}),J&&m.jsx("div",{className:"text-center p-8",children:m.jsx("div",{className:"w-8 h-8 border-4 border-dashed rounded-full animate-spin border-rose-400 mx-auto"})}),O&&!O.includes("(Quota Exceeded)")&&m.jsx("div",{className:"text-red-400 p-4 bg-red-900/50 rounded-md",children:O}),!J&&m.jsx("div",{className:"space-y-6",children:se.length>0?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-end",children:[m.jsxs("label",{htmlFor:"sort-key",className:"text-sm text-gray-400 self-center mr-2",children:[R("producerFinder.rankBy"),":"]}),m.jsxs("select",{id:"sort-key",value:re,onChange:ie=>te(ie.target.value),className:"bg-gray-700 border-gray-600 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-rose-500 focus:border-rose-500 sm:text-sm text-white",children:[m.jsx("option",{value:"relevanceScore",children:R("producerFinder.sort.relevance")}),m.jsx("option",{value:"city",children:R("producerFinder.sort.city")}),m.jsx("option",{value:"name",children:R("producerFinder.sort.name")})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:se.map(ie=>m.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6 flex flex-col border border-white/10",children:[m.jsxs("div",{className:"flex-grow",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("h4",{className:"text-lg font-bold text-teal-300 truncate",title:ie.name,children:ie.name}),m.jsxs("span",{className:"text-sm font-bold text-teal-300 bg-teal-900/50 px-3 py-1 rounded-full",children:[ie.relevanceScore,"%"]})]}),m.jsxs("p",{className:"text-sm text-gray-400 mb-3",children:[ie.specialty," - ",ie.city]}),m.jsx("div",{className:"space-y-2 text-sm",children:m.jsxs("p",{children:[m.jsxs("strong",{className:"text-gray-300",children:[R("producerFinder.bio"),":"]})," ",ie.bio]})})]}),m.jsx("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center justify-end",children:m.jsx("button",{onClick:()=>t(ie),disabled:ce(ie),className:"text-center font-semibold py-2 px-4 rounded-md transition-colors bg-purple-600 text-white hover:bg-purple-700 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed",children:ce(ie)?R("producerFinder.saved"):R("producerFinder.save")})})]},ie.id))})]}):ee?m.jsxs("div",{className:"p-6 bg-gray-800/50 border border-white/10 rounded-lg",children:[m.jsx("h4",{className:"font-semibold text-white mb-2",children:R("producerFinder.parseErrorTitle")}),m.jsx("p",{className:"text-sm text-gray-400 mb-4",children:R("producerFinder.parseErrorSubtitle")}),m.jsx("pre",{className:"whitespace-pre-wrap bg-gray-900/50 p-4 rounded-md text-sm text-gray-300",children:ee})]}):!O&&m.jsx("div",{className:"text-center text-gray-500 py-10 bg-gray-800/30 rounded-lg",children:m.jsx("p",{children:R("producerFinder.crateEmpty")})})})]})]})},fE=({isOpen:i,onClose:t,topic:s})=>{const{t:o}=Je();return i?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 animate-fade-in","aria-modal":"true",role:"dialog",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md mx-4 border border-green-500/50",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-900",children:m.jsx("svg",{className:"h-6 w-6 text-green-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),m.jsx("h3",{className:"mt-5 text-lg font-semibold leading-6 text-white",children:o("researchRequestModal.title")}),m.jsx("div",{className:"mt-2",children:m.jsx("p",{className:"text-sm text-gray-400",dangerouslySetInnerHTML:{__html:o("researchRequestModal.body").replace("{topic}",`<strong class="text-green-300">${s}</strong>`)}})})]}),m.jsx("div",{className:"mt-5 sm:mt-6",children:m.jsx("button",{type:"button",onClick:t,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none sm:text-sm",children:o("researchRequestModal.close")})})]})}):null},mE=({handleApiError:i,isQuotaExhausted:t,onSaveProject:s,projectToRestore:o,setProjectToRestore:r})=>{const{language:u,t:h}=Je(),[y,x]=j.useState(""),[g,v]=j.useState({referenceArtists:"",specificInstruments:"",targetLength:"",daw:"",existingIdeas:""}),[S,b]=j.useState(null),[C,w]=j.useState(!1),[R,k]=j.useState(null),[Y,J]=j.useState(""),[L,O]=j.useState(!1),[W,ee]=j.useState(null),[$,re]=j.useState(null),[te,Z]=j.useState(!1),[ce,se]=j.useState(null),[ie,me]=j.useState([]),[X,M]=j.useState([]),[z,K]=j.useState(!1),[ne,he]=j.useState(""),[N,H]=j.useState(!1);j.useEffect(()=>{o&&(x(o.idea),v(o.ideaDetails),b(o.comprehensiveResult),r(null))},[o,r]);const F=async()=>{w(!0),k(null),b(null),re(null),se(null);try{const we=await lb(y,g,u);b(we)}catch(we){k(i(we))}finally{w(!1)}},Q=j.useCallback(async we=>{if(!S)return;const He=pt=>{b(mt=>mt?{...mt,productionConsultation:{...mt.productionConsultation,suggestedSongElements:mt.productionConsultation.suggestedSongElements.map(Pt=>Pt.name===we?pt(Pt):Pt)}}:null)};He(pt=>({...pt,isLoadingDetails:!0,detailsError:null}));const lt=`Provide a more detailed, easy-to-understand explanation for the musical concept "${we}" for a musician. Include its purpose, common usage, and examples. Format the response as a simple markdown string. The language must be ${u}.`;try{const pt=await Kn.models.generateContent({model:hs,contents:lt}),mt=await ke.parse(pt.text);He(Pt=>({...Pt,details:mt,isLoadingDetails:!1}))}catch(pt){const mt=i(pt);He(Pt=>({...Pt,detailsError:mt,isLoadingDetails:!1}))}},[S,i,u]),ue=j.useCallback(async we=>{var pt,mt,Pt;if(!S)return;const He=Kt=>{b(gt=>gt?{...gt,productionConsultation:{...gt.productionConsultation,suggestedSongElements:gt.productionConsultation.suggestedSongElements.map(At=>At.name===we?Kt(At):At)}}:null)};He(Kt=>({...Kt,isLoadingFurtherReading:!0,furtherReadingError:null}));const lt=`Provide a concise, academic-style summary for the music theory concept "${we}", mentioning its historical context and theoretical underpinnings. Use Google Search to find sources. Format as markdown, including a list of source links at the end. The language must be ${u}.`;try{const Kt=await Kn.models.generateContent({model:hs,contents:lt,config:{tools:[{googleSearch:{}}]}});let gt=Kt.text;const At=(Pt=(mt=(pt=Kt.candidates)==null?void 0:pt[0])==null?void 0:mt.groundingMetadata)==null?void 0:Pt.groundingChunks;At&&At.length>0&&(gt+=`

**Sources:**
`,At.forEach(ti=>{ti.web&&(gt+=`
- [${ti.web.title}](${ti.web.uri})`)}));const Ts=await ke.parse(gt);He(ti=>({...ti,furtherReading:Ts,isLoadingFurtherReading:!1}))}catch(Kt){const gt=i(Kt);He(At=>({...At,furtherReadingError:gt,isLoadingFurtherReading:!1}))}},[S,i,u]),pe=async()=>{if(!S)return;O(!0),ee(null);const we=`
        Based on this AI music analysis, create a concise production brief for a producer.
        Format it as clean HTML with simple tags like <h3>, <p>, and <ul>. Do not include <html> or <body> tags. The language must be ${u}.
        Analysis Data: ${JSON.stringify(S)}
        User Idea: ${y}
        `;try{const He=await Kn.models.generateContent({model:hs,contents:we});J(He.text)}catch(He){ee(i(He))}finally{O(!1)}},be=async()=>{var we;if((we=S==null?void 0:S.productionConsultation)!=null&&we.productionTips){Z(!0),se(null);try{const He=await db(S,y,u);re(He)}catch(He){se(i(He))}finally{Z(!1)}}},Fe=()=>{var we;K(!0),(we=document.getElementById("producer-finder"))==null||we.scrollIntoView({behavior:"smooth"})},Ge=we=>{he(we),H(!0)},Ct=()=>{const we=prompt("Enter a name for this project:",`Project ${new Date().toLocaleDateString()}`);if(we&&S){const He={id:crypto.randomUUID(),name:we,timestamp:Date.now(),idea:y,ideaDetails:g,comprehensiveResult:S};s(He)}},Ai=j.useMemo(()=>m.jsx(dE,{savedSpecialists:X,onSaveProvider:we=>M(He=>[...He,we]),onRemoveProvider:we=>M(He=>He.filter(lt=>lt.id!==we.id)),onClearAllSaved:()=>M([]),onNoteChange:(we,He)=>{const lt=[...X];lt[we]&&(lt[we].notes=He,M(lt))},handleApiError:i,isQuotaExhausted:t,allSpecialists:ie,onSpecialistsFound:me,onClearAllDbProviders:()=>me([]),triggerSearch:z,onSearchTriggered:()=>K(!1),onRequestResearch:Ge,consultationResult:S?S.productionConsultation:null,symptoms:y}),[X,i,t,ie,z,S,y]);return m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24 animate-fade-in",children:[m.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[m.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:h("musicGeneration.title")}),m.jsx("p",{className:"mt-4 text-lg text-gray-300",children:h("musicGeneration.subtitle")})]}),m.jsx("div",{className:"mt-12 max-w-4xl mx-auto grid grid-cols-1 lg:grid-cols-[1fr_2fr] gap-8 items-start",children:m.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 gap-8",children:[m.jsx(rE,{isLoading:C,isQuotaExhausted:t,onAnalyze:F,symptoms:y,setSymptoms:x,symptomDetails:g,setSymptomDetails:v}),m.jsx("div",{className:"bg-gray-800/50 rounded-lg shadow-lg backdrop-blur-sm border border-white/10",children:m.jsx(cE,{isLoading:C,error:R,analysis:S,onGetDeeperAnalysis:Q,onGetAcademicAnalysis:ue,onGenerateSummary:pe,doctorSummary:Y,isGeneratingSummary:L,doctorSummaryError:W,onFindSpecialists:Fe,onRequestResearch:Ge,onCalculateCosts:be,isCalculatingCosts:te,costAnalysis:$,costsError:ce})}),S&&m.jsx("div",{className:"text-center",children:m.jsx("button",{onClick:Ct,className:"px-8 py-3 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 transition-all text-lg shadow-lg",children:h("musicGeneration.saveButton")})})]})}),Ai,m.jsx(fE,{isOpen:N,onClose:()=>H(!1),topic:ne})]})},hE=({icon:i,title:t,description:s})=>m.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg border border-white/10 transition-all duration-300 hover:border-rose-400/50 hover:bg-gray-800 hover:-translate-y-1",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[m.jsx("div",{className:"flex-shrink-0 bg-rose-900/50 p-3 rounded-lg text-rose-300",children:i}),m.jsx("h3",{className:"text-xl font-bold text-white",children:t})]}),m.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:s})]}),pE=({role:i,description:t})=>m.jsxs("div",{className:"bg-gray-800/80 p-5 rounded-lg border-l-4 border-rose-500",children:[m.jsx("h4",{className:"font-semibold text-white",children:i}),m.jsx("p",{className:"text-sm text-gray-400 mt-1",children:t})]}),gE=({setPage:i})=>{const{t}=Je(),s=t("franchisePage.canvasItems"),o=t("franchisePage.teamRoles"),r={valueProposition:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),targetMarket:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),revenueStreams:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),keyResources:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),marketingSupport:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-2.236 9.168-5.584M15 18A5.973 5.973 0 0017 6h1.832c4.1 0 7.625 2.236 9.168 5.584"})}),partnershipModel:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})};return m.jsxs("div",{className:"animate-fade-in bg-gray-900 text-white",children:[m.jsxs("section",{className:"relative py-24 sm:py-32 flex items-center justify-center text-center overflow-hidden",children:[m.jsx("img",{src:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?q=80&w=2070&auto=format&fit=crop",alt:"Music studio",className:"absolute z-0 w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-black/70 z-10"}),m.jsxs("div",{className:"z-20 p-4 space-y-6 container mx-auto",children:[m.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold tracking-tight",children:t("franchisePage.title")}),m.jsx("p",{className:"text-lg md:text-xl text-gray-300 max-w-3xl mx-auto",children:t("franchisePage.subtitle")})]})]}),m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24 space-y-20",children:[m.jsxs("section",{children:[m.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white tracking-tight",children:t("franchisePage.canvasTitle")}),m.jsx("p",{className:"mt-4 text-gray-300",children:t("franchisePage.canvasSubtitle")})]}),m.jsx("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Object.entries(s).map(([u,h])=>m.jsx(hE,{icon:r[u],title:h.title,description:h.description},u))})]}),m.jsxs("section",{children:[m.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white tracking-tight",children:t("franchisePage.teamBuildingTitle")}),m.jsx("p",{className:"mt-4 text-gray-300",children:t("franchisePage.teamBuildingSubtitle")})]}),m.jsx("div",{className:"mt-12 max-w-2xl mx-auto grid grid-cols-1 sm:grid-cols-2 gap-6",children:o.map((u,h)=>m.jsx(pE,{role:u.role,description:u.description},h))})]}),m.jsxs("section",{className:"bg-gray-800/50 p-8 sm:p-12 rounded-lg border border-rose-500/30 text-center shadow-lg",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white tracking-tight",children:t("franchisePage.nextStepsTitle")}),m.jsx("p",{className:"mt-4 text-gray-300 max-w-3xl mx-auto",children:t("franchisePage.nextStepsSubtitle")}),m.jsxs("div",{className:"mt-10 bg-gray-900/50 p-8 rounded-lg max-w-2xl mx-auto",children:[m.jsx("h3",{className:"text-xl font-bold text-rose-300",children:t("franchisePage.tokenPurchaseTitle")}),m.jsx("p",{className:"mt-3 text-sm text-gray-400",children:t("franchisePage.tokenPurchaseDescription")}),m.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-4",children:[m.jsx("button",{onClick:()=>alert("Token purchase functionality coming soon!"),className:"px-8 py-3 bg-gradient-to-r from-rose-500 to-pink-500 text-white font-bold rounded-lg hover:from-rose-600 hover:to-pink-600 transition-all shadow-lg hover:shadow-rose-500/40 transform duration-300 hover:scale-105",children:t("franchisePage.purchaseButton")}),m.jsx("button",{onClick:()=>alert("Contact functionality coming soon!"),className:"px-8 py-3 bg-transparent border-2 border-white/70 text-white font-bold rounded-lg hover:bg-white/10 hover:border-white transition-all transform duration-300",children:t("franchisePage.contactButton")})]})]})]})]})]})},yE=({handleApiError:i})=>{const{language:t,t:s}=Je(),[o,r]=j.useState(""),[u,h]=j.useState(null),[y,x]=j.useState(!1),[g,v]=j.useState(null),[S,b]=j.useState(!1),[C,w]=j.useState("music21");j.useEffect(()=>{if(u){const L=document.getElementById("sheet-music-output");L&&window.ABCJS&&(L.innerHTML="",window.ABCJS.renderAbc(L,u,{responsive:"resize",staffwidth:L.offsetWidth>100?L.offsetWidth-30:500}))}},[u]);const R=async L=>{if(L.preventDefault(),!!o.trim()){x(!0),v(null),h(null);try{const O=await fb(o,t,C);h(O)}catch(O){const W=i(O);v(W)}finally{x(!1)}}},k=L=>{r(L)},Y=()=>{u&&navigator.clipboard.writeText(u).then(()=>{b(!0),setTimeout(()=>b(!1),2e3)})},J=[{id:"music21",name:s("musicSheetGenerator.engineMusic21"),description:s("musicSheetGenerator.engineMusic21Desc")},{id:"lilypond",name:s("musicSheetGenerator.engineLilypond"),description:s("musicSheetGenerator.engineLilypondDesc")},{id:"abjad",name:s("musicSheetGenerator.engineAbjad"),description:s("musicSheetGenerator.engineAbjadDesc")}];return m.jsx("section",{className:"py-16 sm:py-24 animate-fade-in",children:m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:s("musicSheetGenerator.title")}),m.jsx("p",{className:"mt-4 text-lg text-gray-300",children:s("musicSheetGenerator.subtitle")})]}),m.jsx("div",{className:"mt-12 max-w-2xl mx-auto",children:m.jsxs("form",{onSubmit:R,className:"bg-gray-800/50 rounded-lg p-8 shadow-lg backdrop-blur-sm border border-white/10 space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"prompt",className:"block text-sm font-medium text-gray-300",children:s("musicSheetGenerator.promptLabel")}),m.jsx("textarea",{id:"prompt",rows:4,value:o,onChange:L=>r(L.target.value),className:"mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-rose-500 focus:border-rose-500 sm:text-sm text-white",placeholder:s("musicSheetGenerator.promptPlaceholder")})]}),m.jsxs("fieldset",{children:[m.jsx("legend",{className:"block text-sm font-medium text-gray-300 mb-2",children:s("musicSheetGenerator.engineLabel")}),m.jsx("div",{className:"space-y-3",children:J.map(L=>m.jsxs("label",{htmlFor:L.id,className:`flex items-center p-3 rounded-md transition-all border cursor-pointer ${C===L.id?"bg-rose-900/50 border-rose-500":"bg-gray-700/50 border-gray-600 hover:bg-gray-700"}`,children:[m.jsx("input",{type:"radio",id:L.id,name:"engine",value:L.id,checked:C===L.id,onChange:()=>w(L.id),className:"h-4 w-4 text-rose-600 bg-gray-800 border-gray-500 focus:ring-rose-500"}),m.jsxs("div",{className:"ml-3 rtl:mr-3 text-sm",children:[m.jsx("span",{className:"font-medium text-white",children:L.name}),m.jsx("p",{className:"text-gray-400",children:L.description})]})]},L.id))})]}),m.jsx("div",{className:"pt-2",children:m.jsx("div",{className:"flex flex-wrap gap-2",children:s("musicSheetGenerator.suggestions").map((L,O)=>m.jsx("button",{type:"button",onClick:()=>k(L),className:"px-3 py-1.5 bg-gray-700/80 text-gray-300 text-xs font-medium rounded-full hover:bg-gray-600 hover:text-white transition-colors",children:L},O))})}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:y,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-rose-500 disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors",children:s(y?"musicSheetGenerator.generating":"musicSheetGenerator.buttonText")})})]})}),m.jsxs("div",{className:"mt-12",children:[y&&m.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[m.jsx("div",{className:"w-8 h-8 border-4 border-dashed rounded-full animate-spin border-rose-400"}),m.jsx("p",{className:"mt-4 text-gray-400",children:s("musicSheetGenerator.generating")})]}),g&&m.jsx("div",{className:"text-red-400 p-4 bg-red-900/50 rounded-md",children:g}),!y&&!u&&!g&&m.jsx("div",{className:"text-center py-10 text-gray-500 bg-gray-800/20 rounded-lg",children:m.jsx("p",{children:s("musicSheetGenerator.placeholder")})}),u&&m.jsxs("div",{className:"animate-fade-in bg-gray-800/30 p-6 sm:p-8 rounded-lg mt-8 border border-white/10 space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:s("musicSheetGenerator.resultsTitle")}),m.jsx("div",{id:"sheet-music-output",className:"bg-white p-4 rounded-md overflow-x-auto"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:s("musicSheetGenerator.abcNotationTitle")}),m.jsx("button",{onClick:Y,className:"text-sm font-semibold px-3 py-1.5 rounded-md bg-gray-700 hover:bg-gray-600 text-gray-200 transition-colors",children:s(S?"musicSheetGenerator.copySuccess":"musicSheetGenerator.copyButton")})]}),m.jsx("pre",{className:"bg-gray-900/50 p-4 rounded-md text-gray-300 text-sm overflow-x-auto max-h-60",children:m.jsx("code",{children:u})})]})]})]})]})})},xE=({handleApiError:i})=>{const{language:t,t:s}=Je(),[o,r]=j.useState(""),[u,h]=j.useState(null),[y,x]=j.useState(!1),[g,v]=j.useState(null),S=async w=>{if(w.preventDefault(),!!o.trim()){x(!0),v(null),h(null);try{const R=await ob(o,t);h(R)}catch(R){const k=i(R);v(k)}finally{x(!1)}}},b=w=>{r(w)},C=({result:w})=>m.jsxs("div",{className:"animate-fade-in bg-gray-800/30 p-6 sm:p-8 rounded-lg mt-8 border border-white/10 space-y-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-white text-center",children:s("songIdeaGenerator.analysisTitle")}),m.jsxs("section",{children:[m.jsx("h3",{className:"text-xl font-semibold text-rose-300 mb-4",children:s("songIdeaGenerator.keyCharacteristics")}),m.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg grid grid-cols-1 sm:grid-cols-3 gap-4 text-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-400",children:"Key"}),m.jsx("div",{className:"font-bold text-lg text-white",children:w.keyCharacteristics.key})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-400",children:"Tempo"}),m.jsx("div",{className:"font-bold text-lg text-white",children:w.keyCharacteristics.tempo})]}),m.jsxs("div",{className:"sm:col-span-1",children:[m.jsx("div",{className:"text-xs text-gray-400",children:"Mood"}),m.jsx("div",{className:"font-bold text-lg text-white",children:w.keyCharacteristics.mood.join(", ")})]})]})]}),m.jsxs("section",{children:[m.jsx("h3",{className:"text-xl font-semibold text-rose-300 mb-4",children:s("songIdeaGenerator.recommendedIngredients")}),m.jsx("div",{className:"flex flex-wrap gap-3",children:w.recommendedInstruments.map((R,k)=>m.jsx("span",{className:"px-3 py-1.5 bg-green-900/50 text-green-300 text-sm font-medium rounded-full",children:R},k))})]}),m.jsxs("section",{children:[m.jsx("h3",{className:"text-xl font-semibold text-rose-300 mb-4",children:s("songIdeaGenerator.ingredientsToAvoid")}),m.jsx("div",{className:"flex flex-wrap gap-3",children:w.instrumentsToAvoid.map((R,k)=>m.jsx("span",{className:"px-3 py-1.5 bg-red-900/50 text-red-300 text-sm font-medium rounded-full",children:R},k))})]}),m.jsxs("section",{children:[m.jsx("h3",{className:"text-xl font-semibold text-rose-300 mb-4",children:s("songIdeaGenerator.actionableSuggestions")}),m.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-300 bg-gray-900/50 p-4 rounded-lg",children:w.productionSuggestions.map((R,k)=>m.jsx("li",{children:R},k))})]})]});return m.jsx("section",{className:"py-16 sm:py-24 animate-fade-in",children:m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:s("songIdeaGenerator.title")}),m.jsx("p",{className:"mt-4 text-lg text-gray-300",children:s("songIdeaGenerator.subtitle")})]}),m.jsx("div",{className:"mt-12 max-w-2xl mx-auto",children:m.jsxs("form",{onSubmit:S,className:"bg-gray-800/50 rounded-lg p-8 shadow-lg backdrop-blur-sm border border-white/10 space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300",children:s("songIdeaGenerator.descriptionLabel")}),m.jsx("textarea",{id:"description",rows:5,value:o,onChange:w=>r(w.target.value),className:"mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-rose-500 focus:border-rose-500 sm:text-sm text-white",placeholder:s("songIdeaGenerator.descriptionPlaceholder")})]}),m.jsxs("div",{className:"pt-2",children:[m.jsx("h4",{className:"text-xs font-semibold text-gray-400 mb-2",children:s("songIdeaGenerator.suggestionsTitle")}),m.jsx("div",{className:"flex flex-wrap gap-2",children:s("songIdeaGenerator.suggestions").map((w,R)=>m.jsx("button",{type:"button",onClick:()=>b(w),className:"px-3 py-1.5 bg-gray-700/80 text-gray-300 text-xs font-medium rounded-full hover:bg-gray-600 hover:text-white transition-colors",children:w},R))})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:y,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-rose-500 disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors",children:s(y?"songIdeaGenerator.analyzing":"songIdeaGenerator.buttonText")})})]})}),m.jsxs("div",{className:"mt-12",children:[y&&m.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[m.jsx("div",{className:"w-8 h-8 border-4 border-dashed rounded-full animate-spin border-rose-400"}),m.jsx("p",{className:"mt-4 text-gray-400",children:s("songIdeaGenerator.analyzing")})]}),g&&m.jsx("div",{className:"text-red-400 p-4 bg-red-900/50 rounded-md",children:g}),!y&&!u&&!g&&m.jsx("div",{className:"text-center py-10 text-gray-500 bg-gray-800/20 rounded-lg",children:m.jsx("p",{children:s("songIdeaGenerator.placeholder")})}),u&&m.jsx(C,{result:u})]})]})})},vE=({item:i})=>{var s;const t=({href:o,children:r,isExternal:u=!1})=>m.jsx("a",{href:o,target:u?"_blank":"_self",rel:u?"noopener noreferrer":"",className:"flex-1 text-center py-2 px-3 bg-gray-700/60 hover:bg-gray-700 text-gray-300 hover:text-white rounded-md text-xs font-semibold transition-all flex items-center justify-center gap-2",children:r});return m.jsxs("div",{className:"w-full text-left bg-gray-800/70 p-4 rounded-lg border border-white/10",children:[m.jsx("h3",{className:"font-bold text-rose-300",children:i.name}),i.specialty&&m.jsx("p",{className:"text-sm font-medium text-rose-200/90 -mt-1",children:i.specialty}),m.jsx("p",{className:"text-sm text-gray-400 mt-2",children:i.description}),m.jsxs("p",{className:"text-xs text-gray-500 mt-3 flex items-start gap-2",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400 flex-shrink-0 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),m.jsx("span",{children:i.address})]}),m.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10 flex items-center gap-2",children:[m.jsxs(t,{href:`tel:${i.phone}`,children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),m.jsx("span",{children:"Call"})]}),m.jsxs(t,{href:i.website,isExternal:!0,children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})}),m.jsx("span",{children:"Website"})]}),m.jsxs(t,{href:`https://wa.me/${(s=i.whatsapp)==null?void 0:s.replace(/[^0-9]/g,"")}`,isExternal:!0,children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{d:"M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"})}),m.jsx("span",{children:"WhatsApp"})]})]})]})},TE=({isOpen:i,onClose:t,onSearch:s,isLoading:o,results:r,error:u,onNavigate:h})=>{const{t:y}=Je(),[x,g]=j.useState("");if(!i)return null;const v=w=>{w.preventDefault(),x.trim()&&s(x)},S=w=>{g(w),s(w)},b=r&&r.length>0,C=r&&r.length===0;return m.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex flex-col items-center p-4 animate-fade-in",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"search-modal-title",children:m.jsxs("div",{className:"w-full max-w-2xl mt-12 sm:mt-20",onClick:w=>w.stopPropagation(),children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h1",{id:"search-modal-title",className:"text-xl font-bold text-white",children:y("searchModal.title")}),m.jsx("button",{onClick:t,className:"p-2 text-gray-400 rounded-full hover:bg-gray-700 hover:text-white","aria-label":"Close search",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsxs("form",{onSubmit:v,className:"flex items-center gap-2 bg-gray-800 border border-white/20 rounded-lg p-2 shadow-lg",children:[m.jsx("input",{type:"search",value:x,onChange:w=>g(w.target.value),placeholder:y("searchModal.placeholder"),className:"w-full bg-transparent text-white placeholder-gray-400 px-4 py-3 text-lg focus:outline-none",autoFocus:!0}),m.jsx("button",{type:"submit",disabled:o,className:"px-6 py-3 bg-rose-600 text-white font-semibold rounded-md hover:bg-rose-700 transition-colors disabled:bg-gray-500",children:o?m.jsx("div",{className:"w-5 h-5 border-2 border-dashed rounded-full animate-spin border-white"}):y("searchModal.searchButton")})]}),m.jsx("div",{className:"mt-6 text-sm text-gray-300",children:!o&&!r&&!u&&m.jsxs("div",{className:"animate-fade-in",children:[m.jsx("h2",{className:"font-semibold mb-3",children:y("searchModal.suggestionsTitle")}),m.jsx("div",{className:"flex flex-wrap gap-2",children:y("searchModal.suggestionQueries").map((w,R)=>m.jsx("button",{onClick:()=>S(w),className:"px-3 py-1.5 bg-gray-700/80 hover:bg-gray-600 rounded-full transition-colors",children:w},R))})]})}),m.jsxs("div",{className:"mt-8 max-h-[50vh] overflow-y-auto pr-2",children:[u&&m.jsx("div",{className:"text-red-400 p-4 bg-red-900/50 rounded-md",children:u}),b&&m.jsxs("div",{className:"space-y-4 animate-fade-in",children:[m.jsx("h2",{className:"font-semibold text-white",children:y("searchModal.resultsTitle")}),r.map((w,R)=>Zy(w)?m.jsx(vE,{item:w},w.id||R):m.jsxs("button",{onClick:()=>h(w.targetPage),className:"w-full text-left bg-gray-800/70 p-4 rounded-lg border border-transparent hover:border-rose-500 hover:bg-gray-800 transition-all group",children:[m.jsx("h3",{className:"font-bold text-rose-300 group-hover:underline",children:w.title}),m.jsx("p",{className:"text-sm text-gray-400 mt-1",children:w.description})]},R))]}),C&&m.jsx("div",{className:"text-center p-8 text-gray-500 bg-gray-800/50 rounded-lg",children:m.jsx("p",{children:y("searchModal.noResults")})})]})]})})},SE={error:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),success:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),info:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},bE={error:{bg:"bg-red-900/80",text:"text-red-200",border:"border-red-600/50"},success:{bg:"bg-green-900/80",text:"text-green-200",border:"border-green-600/50"},info:{bg:"bg-blue-900/80",text:"text-blue-200",border:"border-blue-600/50"}},EE=({id:i,message:t,type:s,onClose:o})=>{const[r,u]=j.useState(!1);j.useEffect(()=>{const g=setTimeout(()=>{h()},5e3);return()=>clearTimeout(g)},[]);const h=()=>{u(!0),setTimeout(()=>o(i),300)},y=bE[s],x=SE[s];return m.jsxs("div",{role:"alert",className:`
        w-full max-w-sm rounded-lg shadow-2xl backdrop-blur-md p-4 flex items-start gap-4 transition-all duration-300 ease-in-out
        ${y.bg} ${y.text} border ${y.border}
        ${r?"opacity-0 translate-x-full":"opacity-100 translate-x-0"}
      `,children:[m.jsx("div",{className:"flex-shrink-0",children:x}),m.jsx("div",{className:"flex-grow text-sm font-medium",children:t}),m.jsx("button",{onClick:h,className:"flex-shrink-0 p-1 -m-1 rounded-full hover:bg-white/10","aria-label":"Close",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})},pg=ps.createContext(null),CE=()=>{const i=ps.useContext(pg);if(!i)throw new Error("useToast must be used within a ToastProvider");return i},AE=({children:i})=>{const[t,s]=j.useState([]),o=(u,h)=>{s(y=>[...y,{id:Date.now(),message:u,type:h}])},r=u=>{s(h=>h.filter(y=>y.id!==u))};return m.jsxs(pg.Provider,{value:{addToast:o},children:[i,m.jsx("div",{"aria-live":"assertive",className:"fixed inset-0 pointer-events-none p-4 sm:p-6 flex flex-col items-end justify-start z-[100] gap-3",children:t.map(u=>m.jsx(EE,{...u,onClose:r},u.id))})]})},wE="AURA_AI_DB",_E=1,Zn="saved_consultations";let Wn;const NE=()=>new Promise((i,t)=>{if(Wn)return i(!0);const s=indexedDB.open(wE,_E);s.onerror=()=>{console.error("IndexedDB error:",s.error),t("Error opening IndexedDB.")},s.onsuccess=()=>{Wn=s.result,i(!0)},s.onupgradeneeded=o=>{const r=o.target.result;r.objectStoreNames.contains(Zn)||r.createObjectStore(Zn,{keyPath:"id"})}}),ME=i=>new Promise((t,s)=>{if(!Wn)return s("DB not initialized.");const u=Wn.transaction(Zn,"readwrite").objectStore(Zn).put(i);u.onsuccess=()=>t(),u.onerror=()=>{console.error("Save project error:",u.error),s("Error saving project.")}}),kp=()=>new Promise((i,t)=>{if(!Wn)return t("DB not initialized.");const r=Wn.transaction(Zn,"readonly").objectStore(Zn).getAll();r.onerror=()=>{console.error("Get all projects error:",r.error),t("Error fetching projects.")},r.onsuccess=()=>{const u=r.result.sort((h,y)=>y.timestamp-h.timestamp);i(u)}}),RE=i=>new Promise((t,s)=>{if(!Wn)return s("DB not initialized.");const u=Wn.transaction(Zn,"readwrite").objectStore(Zn).delete(i);u.onsuccess=()=>t(),u.onerror=()=>{console.error("Delete project error:",u.error),s("Error deleting project.")}}),kE=()=>{const[i,t]=j.useState("home"),[s,o]=j.useState(!1),[r,u]=j.useState(!1),[h,y]=j.useState(!1),[x,g]=j.useState(!1),[v,S]=j.useState(!1),[b,C]=j.useState([]),[w,R]=j.useState(null),[k,Y]=j.useState(null),[J,L]=j.useState(!1),[O,W]=j.useState(!1),[ee,$]=j.useState(null),[re,te]=j.useState(null),{addToast:Z}=CE(),{language:ce,t:se}=Je();j.useEffect(()=>{(async()=>{try{await NE();const Q=await kp();C(Q)}catch(Q){console.error("Failed to initialize DB:",Q),Z("Could not load saved projects.","error")}})()},[Z]);const ie=F=>{let Q="An unexpected error occurred.";return F instanceof Iu?(Q=F.message,F.code==="QUOTA_EXCEEDED"&&g(!0)):F instanceof Error?(Q=F.message,(Q.toLowerCase().includes("quota")||Q.includes("429"))&&g(!0)):typeof F=="string"&&(Q=F),Z(Q,"error"),Q},me=()=>{o(!1),Z("You have been logged out.","info")},X=()=>{o(!0),u(!1),Z("Login successful!","success")},M=async F=>{try{await ME(F);const Q=await kp();C(Q),Z("Project saved successfully!","success")}catch(Q){ie(Q)}},z=async F=>{try{await RE(F);const Q=b.filter(ue=>ue.id!==F);C(Q),Z("Project deleted successfully.","success")}catch(Q){ie(Q)}},K=F=>{const Q=b.find(ue=>ue.id===F);Q&&(R(Q),t("music_generation"),Z(`Restored "${Q.name}".`,"info"))},ne=async(F,Q,ue)=>{L(!0),Y(null);try{let pe=null;if(F==="geo")try{pe=await new Promise((Fe,Ge)=>{navigator.geolocation.getCurrentPosition(Ct=>Fe({lat:Ct.coords.latitude,lon:Ct.coords.longitude}),Ct=>{console.error("Geolocation error:",Ct),Z(`Geolocation failed: ${Ct.message}. Searching without location.`,"info"),Fe(null)},{timeout:1e4})})}catch(Fe){console.error("Geolocation promise error:",Fe),Z("Could not get your location.","error")}const be=await Ap(Q,ue,pe,ce);Y(be)}catch(pe){ie(pe)}finally{L(!1)}},he=async F=>{W(!0),$(null),te(null);try{const Q=await ub(F,ce);if(Q.type==="provider_search"&&Q.providerType!=="none"){const ue=await Ap(Q.searchQuery,Q.providerType,null,ce);$(ue)}else{const ue=se("hero.services"),pe=se("ourProducers.doctors"),be=[{name:se("header.musicGeneration"),target:"music_generation",description:se("musicGeneration.subtitle")},{name:se("header.instrumentFinder"),target:"instrument_finder",description:se("instrumentFinder.subtitle")},{name:se("header.aiTutor"),target:"ai_tutor",description:se("aiTutor.subtitle")},{name:se("header.musicTrends"),target:"music_trends",description:se("musicTrends.subtitle")},{name:se("header.ourProducers"),target:"our_producers",description:se("ourProducers.subtitle")},{name:se("header.collaboration"),target:"collaboration",description:se("collaborationPage.goalText")},{name:se("header.myProjects"),target:"my_projects",description:se("myProjectsPage.subtitle")}],Fe=`
          Services available at AURA Music Studio: ${JSON.stringify(ue)}.
          Producers at AURA: ${JSON.stringify(pe)}.
          Website Pages: ${JSON.stringify(be)}.
        `,Ge=await cb(F,Fe,ce);$(Ge)}}catch(Q){const ue=ie(Q);te(ue)}finally{W(!1)}},N=F=>{t(F),S(!1)},H=()=>{switch(i){case"home":return m.jsx(lh,{setPage:t});case"music_generation":return m.jsx(mE,{handleApiError:ie,isQuotaExhausted:x,onSaveProject:M,projectToRestore:w,setProjectToRestore:R});case"song_idea_generator":return m.jsx(xE,{handleApiError:ie});case"music_sheet_generator":return m.jsx(yE,{handleApiError:ie});case"instrument_finder":return m.jsx(Nb,{onSearch:ne,isLoading:J,results:k,isQuotaExhausted:x});case"ai_tutor":return m.jsx(xb,{handleApiError:ie});case"music_trends":return m.jsx(Cb,{handleApiError:ie});case"our_producers":return m.jsx(Ab,{});case"collaboration":return m.jsx(wb,{setPage:t});case"studio_setup":return m.jsx(gE,{setPage:t});case"my_projects":return m.jsx(tx,{savedProjects:b,onDelete:z,onRestore:K,setPage:t});default:return m.jsx(lh,{setPage:t})}};return m.jsxs("div",{className:"bg-gray-900 text-white font-sans",children:[m.jsx(Wy,{currentPage:i,setPage:t,isAuthenticated:s,onLoginClick:()=>u(!0),onLogoutClick:me,onSearchClick:()=>S(!0)}),m.jsx("main",{children:H()}),m.jsx(nx,{}),m.jsx(ix,{isOpen:x,onClose:()=>g(!1)}),m.jsx(ox,{isOpen:h,onClose:()=>y(!1)}),m.jsx(ax,{isOpen:r,onClose:()=>u(!1),onLogin:X}),m.jsx(TE,{isOpen:v,onClose:()=>S(!1),onSearch:he,isLoading:O,results:ee,error:re,onNavigate:N})]})},gg=document.getElementById("root");if(!gg)throw new Error("Could not find root element to mount to");const IE=Xy.createRoot(gg);IE.render(m.jsx(ps.StrictMode,{children:m.jsx(AE,{children:m.jsx(Ky,{children:m.jsx(kE,{})})})}));
